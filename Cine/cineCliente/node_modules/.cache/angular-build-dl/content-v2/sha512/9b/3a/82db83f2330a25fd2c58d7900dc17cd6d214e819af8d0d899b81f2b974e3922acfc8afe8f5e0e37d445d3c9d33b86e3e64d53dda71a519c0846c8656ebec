{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth.component.ts","webpack:///src/app/auth/auth.component.html","webpack:///src/app/cartelera/cartelera.component.ts","webpack:///src/app/cartelera/cartelera.component.html","webpack:///src/app/cierrasesion/cierrasesion.component.ts","webpack:///src/app/cierrasesion/cierrasesion.component.html","webpack:///src/app/contacto/contacto.component.ts","webpack:///src/app/contacto/contacto.component.html","webpack:///src/app/foto/foto.component.ts","webpack:///src/app/foto/foto.component.html","webpack:///src/app/index/index.component.ts","webpack:///src/app/index/index.component.html","webpack:///src/app/iniciosesion/iniciosesion.component.ts","webpack:///src/app/iniciosesion/iniciosesion.component.html","webpack:///src/app/model/Pelicula.ts","webpack:///src/app/model/Proyeccion.ts","webpack:///src/app/model/Tarifa.ts","webpack:///src/app/model/Usuario.ts","webpack:///src/app/pago/pago.component.ts","webpack:///src/app/pago/pago.component.html","webpack:///src/app/registro/registro.component.ts","webpack:///src/app/registro/registro.component.html","webpack:///src/app/tarifas/tarifas.component.ts","webpack:///src/app/tarifas/tarifas.component.html","webpack:///src/app/user/user.component.ts","webpack:///src/app/user/user.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///src/servicios/peticiones.servicio.ts","webpack:///src/servicios/usuarioSesion.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","provide","useValue","declarations","providers","bootstrap","AuthComponent","_peticionesServicio","_usuarioSesion","router","fb","listaSalas","listaGenero","Array","listaCalificacion","listaPeliculas","pelicula","Date","listaSesion","listaSesionDia","listaFechaSesion","proyeccion","listaTarifas","tarifa","faddpelicula","group","tituloPeliculaAP","required","anyoPeliculaAP","pattern","paisPeliculaAP","generoPeliculaAP","calificacionPeliculaAP","duracionPeliculaAP","min","estrenoPeliculaAP","sinopsisPeliculaAP","fmodpelicula","tituloPeliculaMP","anyoPeliculaMP","paisPeliculaMP","generoPeliculaMP","calificacionPeliculaMP","duracionPeliculaMP","estrenoPeliculaMP","sinopsisPeliculaMP","faddsesion","fechaSesionAS","horaSesionAS","tituloPeliculaAS","salaSesionAS","tarifaSesionAS","fmodsesion","fechaSesionMS","horaSesionMS","tituloPeliculaMS","salaSesionMS","tarifaSesionMS","faddtarifa","nombreTarifaAT","descripcionTarifaAT","precioTarifaAT","fmodtarifa","nombreTarifaMT","descripcionTarifaMT","precioTarifaMT","sessionStorage","getItem","getTodasPeliculas","getTodasSesiones","getTodasTarifas","getTodasSalas","navigate","comprobarSesion","getSalasJSON","subscribe","data","getPeliculaJSON","invalid","get","hasError","document","getElementById","classList","add","replace","nextSibling","textContent","value","addPeliculaServer","refrescar","peliculaBorrada","deletePeliculaServer","titulo","anyo","pais","genero","calificacion","duracion","estreno","sinopsis","peliculaAModificar","modificaPeliculaServer","forEach","element","removeAttribute","getSesionesJSON","includes","push","fecha","parse","selectSesion","addSesionServer","console","log","hora","idSala","idTarifa","idProyeccion","modificaSesionServer","deleteSesionServer","borrarSesion","getTarifasJSON","tarifaSeleccionada","addTarifaServer","nombre","descripcion","precio","modificaTarifaServer","deleteTarifaServer","tarifaBorrada","boton","boton2","style","display","setInterval","window","location","reload","addPelicula","selectPelicula","modificaPelicula","deletePelicula","addSesion","seleccionaSesion","muestraSesion","modificaSesion","deleteSesion","addTarifa","selectTarifa","modificaTarifa","deleteTarifa","CarteleraComponent","cartelera","peliculas","multimediaInfo","valoracion","listaDiasSemana","carteleraSemanal","diasSemana","getMultimedia","getValoracion","getCarteleraDia","token","i","hoy","setDate","getDate","getValoracionJSON","getMultimediaJSON","dia","sesion","sesiones","carteleraDelDia","encontrado","getCarteleraJSON","data2","element2","substr","toISOString","peliculaEnCartelera","ordenCartelera","setItem","CierrasesionComponent","cierraSesion","ContactoComponent","FotoComponent","listaMultimedia","infoTitulo","filter","imagenes","IndexComponent","IniciosesionComponent","datos","login","nologin","passwordIni","username","getUsuariosJSON","toLowerCase","idUsuario","role","getUsuario","Pelicula","_titulo","_anyo","_pais","_genero","_calificacion","_duracion","_estreno","_sinopsis","Proyeccion","_idProyeccion","_fecha","_hora","_idSala","_idTarifa","Tarifa","_nombre","_descripcion","_precio","Usuario","apellidos","email","password","administrador","PagoComponent","reserva","listaMeses","listaAnyos","fpaypal","usuarioPagoPP","clavePP","ftarjeta","numCuenta","mesCaducidad","anyoCaducidad","getFullYear","claveCVV","getReserva","cargarAnyos","year","getReservaJSON","libres","entradas","parseInt","total","reset","butaca","resevaServer","altura","anchura","y","screen","height","x","width","w","open","write","focus","setTimeout","close","butacas","libre","mostrar","procesoDePagoPaypal","procesoDePagoTarjeta","RegistroComponent","fregistro","nombreRegistro","apellidosRegistro","emailRegistro","passwordRegistro1","passwordRegistro2","nuevoUsuario","addUsuarioServer","clear","registraUsuario","TarifasComponent","getTarifas","UserComponent","currentRate","listaReservasValoradas","listaReservasNoValoradas","listaPeliculasNoValoradas","getReservasValoradas","getReservasNoValoradas","getReservasValoradasJSON","getReservasNoValoradasJSON","enviaValoracionServer","environment","production","bootstrapModule","err","error","PeticionesServicio","http","url","urlMultimedia","post","usuario","providedIn","UsuarioSesion","setAttribute"],"mappings":";;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAeA,QAAMC,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,EAKrB;AACED,UAAI,EAAE,WADR;AAEEC,eAAS,EAAE;AAFb,KALqB,EASrB;AACED,UAAI,EAAE,SADR;AAEEC,eAAS,EAAE;AAFb,KATqB,EAarB;AACED,UAAI,EAAE,UADR;AAEEC,eAAS,EAAE;AAFb,KAbqB,EAiBrB;AACED,UAAI,EAAE,UADR;AAEEC,eAAS,EAAE;AAFb,KAjBqB,EAqBrB;AACED,UAAI,EAAE,cADR;AAEEC,eAAS,EAAE;AAFb,KArBqB,EAyBrB;AACED,UAAI,EAAE,cADR;AAEEC,eAAS,EAAE;AAFb,KAzBqB,EA6BrB;AACED,UAAI,EAAE,MADR;AAEEC,eAAS,EAAE;AAFb,KA7BqB,EAiCrB;AACED,UAAI,EAAE,MADR;AAEEC,eAAS,EAAE;AAFb,KAjCqB,EAqCrB;AACED,UAAI,EAAE,MADR;AAEEC,eAAS,EAAE;AAFb,KArCqB,EAyCrB;AACED,UAAI,EAAE,MADR;AAEEC,eAAS,EAAE;AAFb,KAzCqB,EA6CrB;AACED,UAAI,EAAE,IADR;AAEEC,eAAS,EAAE;AAFb,KA7CqB,CAAvB;;QAwDaC,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBAHlB,CAAC,6DAAaC,OAAb,CAAqBJ,MAArB,CAAD,CAGkB,EAFjB,4DAEiB;;;;0HAAhBG,gB,EAAgB;AAAA;AAAA,kBAFjB,4DAEiB;AAAA,O;AAFL,K;;;;;sEAEXA,gB,EAAgB;cAJ5B,sDAI4B;eAJnB;AACRE,iBAAO,EAAE,CAAC,6DAAaD,OAAb,CAAqBJ,MAArB,CAAD,CADD;AAERF,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAImB,Q;;;;;;;;;;;;;;;;;;ACvE7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQaQ,Y,GANb;AAAA;;AAOE,WAAAC,KAAA,GAAQ,aAAR;AACD,K;;;uBAFYD,Y;AAAY,K;;;YAAZA,Y;AAAY,+B;AAAA,c;AAAA,a;AAAA;AAAA;ACRzB;;;;;;;;;sEDQaA,Y,EAAY;cANxB,uDAMwB;eANd;AACTE,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,sBAFJ;AAGTC,mBAAS,EAAE,CAAC,qBAAD;AAHF,S;AAMc,Q;;;;;;;;;;;;;;;;;;AERzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAyBA,gFAAmB,iEAAnB,EAA6B,IAA7B;;QA8BaC,S;;;;;YAAAA,S;AAAS,kBAFR,2DAEQ;;;;yBAATA,S;AAAS,O;AAAA,iBAHT,CAAC;AAAEC,eAAO,EAAE,uDAAX;AAAsBC,gBAAQ,EAAE;AAAhC,OAAD,C;AAAwC,gBAV1C,CACP,uEADO,EAEP,qEAFO,EAGP,oEAHO,EAIP,0DAJO,EAKP,kEALO,EAMP,qEANO,EAOP,2DAPO,EAQP,6EARO,CAU0C;;;;0HAGxCF,S,EAAS;AAAA,uBA1BlB,2DA0BkB,EAzBlB,iFAyBkB,EAxBlB,2EAwBkB,EAvBlB,+EAuBkB,EAtBlB,2FAsBkB,EArBlB,sEAqBkB,EApBlB,+EAoBkB,EAnBlB,mEAmBkB,EAlBlB,mEAkBkB,EAjBlB,2FAiBkB,EAhBlB,mEAgBkB,EAflB,mEAekB;AAfL,kBAGb,uEAHa,EAIb,qEAJa,EAKb,oEALa,EAMb,0DANa,EAOb,kEAPa,EAQb,qEARa,EASb,2DATa,EAUb,6EAVa;AAeK,O;AALI,K;;;;;sEAKbA,S,EAAS;cA5BrB,sDA4BqB;eA5BZ;AACRG,sBAAY,EAAE,CACZ,2DADY,EAEZ,iFAFY,EAGZ,2EAHY,EAIZ,+EAJY,EAKZ,2FALY,EAMZ,sEANY,EAOZ,+EAPY,EAQZ,mEARY,EASZ,mEATY,EAUZ,2FAVY,EAWZ,mEAXY,EAYZ,mEAZY,CADN;AAeRT,iBAAO,EAAE,CACP,uEADO,EAEP,qEAFO,EAGP,oEAHO,EAIP,0DAJO,EAKP,kEALO,EAMP,qEANO,EAOP,2DAPO,EAQP,6EARO,CAfD;AAyBRU,mBAAS,EAAE,CAAC;AAAEH,mBAAO,EAAE,uDAAX;AAAsBC,oBAAQ,EAAE;AAAhC,WAAD,CAzBH;AA0BRG,mBAAS,EAAE,CAAC,2DAAD;AA1BH,S;AA4BY,Q;;;;;;;;;;;;;;;;;;ACvDtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC6CwC;;AAA+D;;AAAQ;;;;;;AAAzB;;AAAiB;;AAAA;;;;;;AAS/D;;AAAqE;;AAAQ;;;;;;AAAzB;;AAAiB;;AAAA;;;;;;AA8CzE;;AAA6C;;AAAe;;;;;;AAAf;;AAAA;;;;;;AAuBzC;;AAA+D;;AAAQ;;;;;;AAAzB;;AAAiB;;AAAA;;;;;;AAQ/D;;AAAqE;;AAAQ;;;;;;AAAzB;;AAAiB;;AAAA;;;;;;AA4CzE;;AAA6C;;AAAe;;;;;;AAAf;;AAAA;;;;;;AA6C7C;;AAAoE;;AAAe;;;;;;AAAvC;;AAAwB;;AAAA;;;;;;AASpE;;AAAgE;;AAAe;;;;;;AAAvC;;AAAwB;;AAAA;;;;;;AAOhE;;AAAoE;;AAAmC;;;;;;AAA7D;;AAA0B;;AAAA;;;;;;AAgCpE;;AAA+D;;;;AAA8B;;;;;;AAA/C;;AAAiB;;AAAA;;;;;;AAM/D;;AAA2E;;AAAmD;;;;;;AAAlF;;AAA+B;;AAAA;;;;;;AAoB3E;;AAAoE;;AAAe;;;;;;AAAvC;;AAAwB;;AAAA;;;;;;AAQpE;;AAAgE;;AAAe;;;;;;AAAvC;;AAAwB;;AAAA;;;;;;AAMhE;;AAAoE;;AAAmC;;;;;;AAA7D;;AAA0B;;AAAA;;;;;;AA+BhE;;AAA+D;;;;AAA8B;;;;;;AAA/C;;AAAiB;;AAAA;;;;;;AAM/D;;AAA2E;;AAAyD;;;;;;AAAxF;;AAA+B;;AAAA;;;;;;AA2E/E;;AAAoE;;AAAe;;;;;;AAAzC;;AAA0B;;AAAA;;;;;;AA+CpE;;AAAoE;;AAAe;;;;;;AAAzC;;AAA0B;;AAAA;;;;;;;;;;QDpc3FC,a;AAiCX;;;;;;;AAOA,6BAAoBC,mBAApB,EAAoEC,cAApE,EAA2GC,MAA3G,EAAkIC,EAAlI,EAAmJ;AAAA;;AAA/H,aAAAH,mBAAA,GAAAA,mBAAA;AAAgD,aAAAC,cAAA,GAAAA,cAAA;AAAuC,aAAAC,MAAA,GAAAA,MAAA;AAAuB,aAAAC,EAAA,GAAAA,EAAA;AAvC3H,aAAAC,UAAA,GAAwB,EAAxB;AACA,aAAAC,WAAA,GAAc,IAAIC,KAAJ,CAAU,QAAV,EAAmB,UAAnB,EAA8B,SAA9B,EAAwC,UAAxC,EAAmD,OAAnD,EAA2D,UAA3D,EAAsE,UAAtE,EAAiF,iBAAjF,EAAmG,OAAnG,CAAd;AACA,aAAAC,iBAAA,GAAoB,IAAID,KAAJ,CAAU,IAAV,EAAe,IAAf,EAAoB,KAApB,EAA0B,KAA1B,EAAgC,KAAhC,CAApB,CAqC4I,CAnCnJ;;AACO,aAAAE,cAAA,GAA4B,EAA5B;AACA,aAAAC,QAAA,GAAW,IAAI,wDAAJ,CAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,EAAsB,EAAtB,EAAyB,EAAzB,EAA4B,EAA5B,EAA+B,IAAIC,IAAJ,EAA/B,EAA0C,EAA1C,CAAX,CAiC4I,CA3BnJ;;AACO,aAAAC,WAAA,GAAyB,EAAzB;AACA,aAAAC,cAAA,GAA4B,EAA5B;AACA,aAAAC,gBAAA,GAA8B,EAA9B;AACA,aAAAC,UAAA,GAAa,IAAI,4DAAJ,CAAe,EAAf,EAAkB,IAAIJ,IAAJ,EAAlB,EAA6B,EAA7B,EAAgC,EAAhC,EAAmC,EAAnC,EAAsC,EAAtC,CAAb,CAuB4I,CAfnJ;;AACO,aAAAK,YAAA,GAA0B,EAA1B;AACA,aAAAC,MAAA,GAAS,IAAI,oDAAJ,CAAW,EAAX,EAAc,EAAd,EAAiB,EAAjB,EAAoB,CAAC,CAArB,CAAT;AAcL,aAAKC,YAAL,GAAoB,KAAKd,EAAL,CAAQe,KAAR,CAAc;AAChCC,0BAAgB,EAAE,CAAC,EAAD,EAAI,0DAAWC,QAAf,CADc;AAEhCC,wBAAc,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWD,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,4BAAnB,CAArB,CAAJ,CAFgB;AAGhCC,wBAAc,EAAE,CAAC,EAAD,EAAI,0DAAWH,QAAf,CAHgB;AAIhCI,0BAAgB,EAAE,CAAC,EAAD,EAAI,0DAAWJ,QAAf,CAJc;AAKhCK,gCAAsB,EAAE,CAAC,EAAD,EAAI,0DAAWL,QAAf,CALQ;AAMhCM,4BAAkB,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWN,QAAZ,EAAqB,0DAAWO,GAAX,CAAe,CAAf,CAArB,CAAJ,CANY;AAOhCC,2BAAiB,EAAE,CAAC,EAAD,EAAI,0DAAWR,QAAf,CAPa;AAQhCS,4BAAkB,EAAE,CAAC,EAAD,EAAI,0DAAWT,QAAf;AARY,SAAd,CAApB;AAWA,aAAKU,YAAL,GAAoB,KAAK3B,EAAL,CAAQe,KAAR,CAAc;AAChCa,0BAAgB,EAAE,CAAC,EAAD,EAAI,0DAAWX,QAAf,CADc;AAEhCY,wBAAc,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWZ,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,4BAAnB,CAArB,CAAJ,CAFgB;AAGhCW,wBAAc,EAAE,CAAC,EAAD,EAAI,0DAAWb,QAAf,CAHgB;AAIhCc,0BAAgB,EAAE,CAAC,EAAD,EAAI,0DAAWd,QAAf,CAJc;AAKhCe,gCAAsB,EAAE,CAAC,EAAD,EAAI,0DAAWf,QAAf,CALQ;AAMhCgB,4BAAkB,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWhB,QAAZ,EAAqB,0DAAWO,GAAX,CAAe,CAAf,CAArB,CAAJ,CANY;AAOhCU,2BAAiB,EAAE,CAAC,EAAD,EAAI,0DAAWjB,QAAf,CAPa;AAQhCkB,4BAAkB,EAAE,CAAC,EAAD,EAAI,0DAAWlB,QAAf;AARY,SAAd,CAApB;AAWA,aAAKmB,UAAL,GAAkB,KAAKpC,EAAL,CAAQe,KAAR,CAAc;AAC9BsB,uBAAa,EAAE,CAAC,EAAD,EAAI,0DAAWpB,QAAf,CADe;AAE9BqB,sBAAY,EAAE,CAAC,EAAD,EAAI,0DAAWrB,QAAf,CAFgB;AAG9BsB,0BAAgB,EAAE,CAAC,EAAD,EAAI,0DAAWtB,QAAf,CAHY;AAI9BuB,sBAAY,EAAE,CAAC,EAAD,EAAI,0DAAWvB,QAAf,CAJgB;AAK9BwB,wBAAc,EAAE,CAAC,EAAD,EAAI,0DAAWxB,QAAf;AALc,SAAd,CAAlB;AAQA,aAAKyB,UAAL,GAAkB,KAAK1C,EAAL,CAAQe,KAAR,CAAc;AAC9B4B,uBAAa,EAAE,CAAC,EAAD,EAAI,0DAAW1B,QAAf,CADe;AAE9B2B,sBAAY,EAAE,CAAC,EAAD,EAAI,0DAAW3B,QAAf,CAFgB;AAG9B4B,0BAAgB,EAAE,CAAC,EAAD,EAAI,0DAAW5B,QAAf,CAHY;AAI9B6B,sBAAY,EAAE,CAAC,EAAD,EAAI,0DAAW7B,QAAf,CAJgB;AAK9B8B,wBAAc,EAAE,CAAC,EAAD,EAAI,0DAAW9B,QAAf;AALc,SAAd,CAAlB;AAQA,aAAK+B,UAAL,GAAkB,KAAKhD,EAAL,CAAQe,KAAR,CAAc;AAC9BkC,wBAAc,EAAE,CAAC,EAAD,EAAI,0DAAWhC,QAAf,CADc;AAE9BiC,6BAAmB,EAAE,CAAC,EAAD,EAAI,0DAAWjC,QAAf,CAFS;AAG9BkC,wBAAc,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWlC,QAAZ,EAAqB,0DAAWO,GAAX,CAAe,CAAf,CAArB,CAAJ;AAHc,SAAd,CAAlB;AAMA,aAAK4B,UAAL,GAAkB,KAAKpD,EAAL,CAAQe,KAAR,CAAc;AAC9BsC,wBAAc,EAAE,CAAC,EAAD,EAAI,0DAAWpC,QAAf,CADc;AAE9BqC,6BAAmB,EAAE,CAAC,EAAD,EAAI,0DAAWrC,QAAf,CAFS;AAG9BsC,wBAAc,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWtC,QAAZ,EAAqB,0DAAWO,GAAX,CAAe,CAAf,CAArB,CAAJ;AAHc,SAAd,CAAlB;AAKD;;;;mCAEO;AACN,cAAIgC,cAAc,CAACC,OAAf,CAAuB,MAAvB,KAAgC,MAApC,EAA4C;AAC1C,iBAAKC,iBAAL;AACA,iBAAKC,gBAAL;AACA,iBAAKC,eAAL;AACA,iBAAKC,aAAL;AACD,WALD,MAKO;AACL,iBAAK9D,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,EAAD,CAArB;AACD;;AACD,cAAIN,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK3D,cAAL,CAAoBiE,eAApB;AACD;AACF;AAED;;;;;;;;wCAKa;AAAA;;AACX,eAAKlE,mBAAL,CAAyBmE,YAAzB,GAAwCC,SAAxC,CAAkD,UAAAC,IAAI,EAAE;AACtD,iBAAI,CAACjE,UAAL,GAAkBiE,IAAlB;AACD,WAFD;AAGD;AAED;;;;;;;;4CAKiB;AAAA;;AACf,eAAKrE,mBAAL,CAAyBsE,eAAzB,GAA2CF,SAA3C,CAAqD,UAAAC,IAAI,EAAE;AACzD,kBAAI,CAAC7D,cAAL,GAAsB6D,IAAtB;AACD,WAFD;AAGD;AAED;;;;;;;;sCAKW;AACT,cAAI,KAAKpD,YAAL,CAAkBsD,OAAtB,EAA+B;AAC7B,gBAAG,KAAKtD,YAAL,CAAkBuD,GAAlB,CAAsB,kBAAtB,EAA0CC,QAA1C,CAAmD,UAAnD,CAAH,EAAkE;AAChEC,sBAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,CAAsDC,GAAtD,CAA0D,YAA1D;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,CAAsDE,OAAtD,CAA8D,YAA9D,EAA2E,UAA3E;AACD;;AACD,gBAAG,KAAK7D,YAAL,CAAkBuD,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,UAAjD,KAAgE,KAAKxD,YAAL,CAAkBuD,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,SAAjD,CAAnE,EAA+H;AAC7HC,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;;AACA,kBAAI,KAAK5D,YAAL,CAAkBuD,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,SAAjD,CAAJ,EAAiE;AAC/DC,wBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CI,WAA1C,CAAsDC,WAAtD,GAAkE,eAAlE;AACD;AACF,aALD,MAKO;AACLN,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDE,OAApD,CAA4D,YAA5D,EAAyE,UAAzE;AACD;;AAED,gBAAG,KAAK7D,YAAL,CAAkBuD,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,UAAjD,CAAH,EAAgE;AAC9DC,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDE,OAApD,CAA4D,YAA5D,EAAyE,UAAzE;AACD;;AACD,gBAAG,KAAK7D,YAAL,CAAkBuD,GAAlB,CAAsB,kBAAtB,EAA0CC,QAA1C,CAAmD,UAAnD,CAAH,EAAkE;AAChEC,sBAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,CAAsDC,GAAtD,CAA0D,YAA1D;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,CAAsDE,OAAtD,CAA8D,YAA9D,EAA2E,UAA3E;AACD;;AACD,gBAAG,KAAK7D,YAAL,CAAkBuD,GAAlB,CAAsB,wBAAtB,EAAgDC,QAAhD,CAAyD,UAAzD,CAAH,EAAwE;AACtEC,sBAAQ,CAACC,cAAT,CAAwB,wBAAxB,EAAkDC,SAAlD,CAA4DC,GAA5D,CAAgE,YAAhE;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,wBAAxB,EAAkDC,SAAlD,CAA4DE,OAA5D,CAAoE,YAApE,EAAiF,UAAjF;AACD;;AACD,gBAAG,KAAK7D,YAAL,CAAkBuD,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,UAArD,KAAoE,KAAKxD,YAAL,CAAkBuD,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,KAArD,CAAvE,EAAmI;AACjIC,sBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,CAAwDC,GAAxD,CAA4D,YAA5D;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,CAAwDE,OAAxD,CAAgE,YAAhE,EAA6E,UAA7E;AACD;;AACD,gBAAG,KAAK7D,YAAL,CAAkBuD,GAAlB,CAAsB,mBAAtB,EAA2CC,QAA3C,CAAoD,UAApD,CAAH,EAAmE;AACjEC,sBAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,SAA7C,CAAuDC,GAAvD,CAA2D,YAA3D;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,SAA7C,CAAuDE,OAAvD,CAA+D,YAA/D,EAA4E,UAA5E;AACD;;AACD,gBAAG,KAAK7D,YAAL,CAAkBuD,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,UAArD,CAAH,EAAoE;AAClEC,sBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,CAAwDC,GAAxD,CAA4D,YAA5D;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,CAAwDE,OAAxD,CAAgE,YAAhE,EAA6E,UAA7E;AACD;AACF,WA7CD,MA6CM;AACJ,gBAAIT,IAAI,GAAE;AACR,wBAAW,KAAKpD,YAAL,CAAkBgE,KAAlB,CAAwB9D,gBAD3B;AAER,sBAAS,KAAKF,YAAL,CAAkBgE,KAAlB,CAAwB5D,cAFzB;AAGR,sBAAS,KAAKJ,YAAL,CAAkBgE,KAAlB,CAAwB1D,cAHzB;AAIR,wBAAW,KAAKN,YAAL,CAAkBgE,KAAlB,CAAwBzD,gBAJ3B;AAKR,8BAAiB,KAAKP,YAAL,CAAkBgE,KAAlB,CAAwBxD,sBALjC;AAMR,0BAAa,KAAKR,YAAL,CAAkBgE,KAAlB,CAAwBvD,kBAN7B;AAOR,yBAAY,KAAKT,YAAL,CAAkBgE,KAAlB,CAAwBrD,iBAP5B;AAQR,0BAAa,KAAKX,YAAL,CAAkBgE,KAAlB,CAAwBpD;AAR7B,aAAV;;AAUA,iBAAK7B,mBAAL,CAAyBkF,iBAAzB,CAA2Cb,IAA3C,EAAiDD,SAAjD;;AAEA,iBAAKe,SAAL,CAAe,kBAAf,EAAkC,mBAAlC;AACD;AACF;AAED;;;;;;;;uCAKeC,e,EAAe;AAC5B,eAAKpF,mBAAL,CAAyBqF,oBAAzB,CAA8CD,eAA9C,EAA+DhB,SAA/D,CAAyE,UAAAC,IAAI,EAAE,CAAE,CAAjF;;AAEA,eAAKc,SAAL,CAAe,oBAAf,EAAoC,qBAApC;AACD;AACD;;;;;;;;2CAKgB;AAEd,cAAI,KAAKrD,YAAL,CAAkByC,OAAtB,EAA+B;AAC7B,gBAAG,KAAKzC,YAAL,CAAkB0C,GAAlB,CAAsB,kBAAtB,EAA0CC,QAA1C,CAAmD,UAAnD,CAAH,EAAkE;AAChE,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwBlD,gBAAxB,GAA2C,KAAKtB,QAAL,CAAc6E,MAAzD;AACD;;AACD,gBAAG,KAAKxD,YAAL,CAAkB0C,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,UAAjD,KAAgE,KAAK3C,YAAL,CAAkB0C,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,SAAjD,CAAnE,EAA+H;AAC7H,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwBjD,cAAxB,GAAyC,KAAKvB,QAAL,CAAc8E,IAAvD;;AACA,kBAAI,KAAKzD,YAAL,CAAkB0C,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,SAAjD,CAAJ,EAAiE;AAC/DC,wBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;AACD;AACF;;AACD,gBAAG,KAAK/C,YAAL,CAAkB0C,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,UAAjD,CAAH,EAAgE;AAC9D,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwBhD,cAAxB,GAAyC,KAAKxB,QAAL,CAAc+E,IAAvD;AACD;;AACD,gBAAG,KAAK1D,YAAL,CAAkB0C,GAAlB,CAAsB,kBAAtB,EAA0CC,QAA1C,CAAmD,UAAnD,CAAH,EAAkE;AAChE,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwB/C,gBAAxB,GAA2C,KAAKzB,QAAL,CAAcgF,MAAzD;AACD;;AACD,gBAAG,KAAK3D,YAAL,CAAkB0C,GAAlB,CAAsB,wBAAtB,EAAgDC,QAAhD,CAAyD,UAAzD,CAAH,EAAwE;AACtE,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwB9C,sBAAxB,GAAiD,KAAK1B,QAAL,CAAciF,YAA/D;AACD;;AACD,gBAAG,KAAK5D,YAAL,CAAkB0C,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,UAArD,KAAoE,KAAK3C,YAAL,CAAkB0C,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,KAArD,CAAvE,EAAmI;AACjI,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwB7C,kBAAxB,GAA6C,KAAK3B,QAAL,CAAckF,QAA3D;;AACA,kBAAI,KAAK7D,YAAL,CAAkB0C,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,KAArD,CAAJ,EAAiE;AAC/DC,wBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,CAAwDC,GAAxD,CAA4D,YAA5D;AACD;AACF;;AACD,gBAAG,KAAK/C,YAAL,CAAkB0C,GAAlB,CAAsB,mBAAtB,EAA2CC,QAA3C,CAAoD,UAApD,CAAH,EAAmE;AACjE,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwB5C,iBAAxB,GAA4C,KAAK5B,QAAL,CAAcmF,OAA1D;AACD;;AACD,gBAAG,KAAK9D,YAAL,CAAkB0C,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,UAArD,CAAH,EAAoE;AAClE,mBAAK3C,YAAL,CAAkBmD,KAAlB,CAAwB3C,kBAAxB,GAA6C,KAAK7B,QAAL,CAAcoF,QAA3D;AACD;AACF;;AACD,cAAI,CAAC,KAAK/D,YAAL,CAAkB0C,GAAlB,CAAsB,gBAAtB,EAAwCC,QAAxC,CAAiD,SAAjD,CAAD,IAAgE,CAAC,KAAK3C,YAAL,CAAkB0C,GAAlB,CAAsB,oBAAtB,EAA4CC,QAA5C,CAAqD,KAArD,CAArE,EAAkI;AAChI,gBAAIJ,IAAI,GAAE;AACR,wBAAW,KAAKyB,kBADR;AAER,6BAAgB,KAAKhE,YAAL,CAAkBmD,KAAlB,CAAwBlD,gBAFhC;AAGR,sBAAS,KAAKD,YAAL,CAAkBmD,KAAlB,CAAwBjD,cAHzB;AAIR,sBAAS,KAAKF,YAAL,CAAkBmD,KAAlB,CAAwBhD,cAJzB;AAKR,wBAAW,KAAKH,YAAL,CAAkBmD,KAAlB,CAAwB/C,gBAL3B;AAMR,8BAAiB,KAAKJ,YAAL,CAAkBmD,KAAlB,CAAwB9C,sBANjC;AAOR,0BAAa,KAAKL,YAAL,CAAkBmD,KAAlB,CAAwB7C,kBAP7B;AAQR,yBAAY,KAAKN,YAAL,CAAkBmD,KAAlB,CAAwB5C,iBAR5B;AASR,0BAAa,KAAKP,YAAL,CAAkBmD,KAAlB,CAAwB3C;AAT7B,aAAV;;AAWA,iBAAKtC,mBAAL,CAAyB+F,sBAAzB,CAAgD1B,IAAhD,EAAsDD,SAAtD;;AAEA,iBAAKe,SAAL,CAAe,uBAAf,EAAuC,wBAAvC;AACD;AAEF;AAED;;;;;;;;uCAKeW,kB,EAAkB;AAAA;;AAC/B,eAAKtF,cAAL,CAAoBwF,OAApB,CAA4B,UAAAC,OAAO,EAAI;AACrC,gBAAIA,OAAO,CAAC,QAAD,CAAP,IAAqBH,kBAAzB,EAA8C;AAC5C,oBAAI,CAACrF,QAAL,GAAgB,IAAI,wDAAJ,CAAawF,OAAO,CAAC,QAAD,CAApB,EAA+BA,OAAO,CAAC,MAAD,CAAtC,EAA+CA,OAAO,CAAC,MAAD,CAAtD,EAA+DA,OAAO,CAAC,QAAD,CAAtE,EAAiFA,OAAO,CAAC,cAAD,CAAxF,EAAyGA,OAAO,CAAC,UAAD,CAAhH,EAA6HA,OAAO,CAAC,SAAD,CAApI,EAAgJA,OAAO,CAAC,UAAD,CAAvJ,CAAhB;AACAvB,sBAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCuB,eAAxC,CAAwD,QAAxD,EAF4C,CAEuB;AACpE;AACF,WALD;AAOD,S,CAED;;AAEA;;;;;;;;2CAKgB;AAAA;;AACd,eAAKlG,mBAAL,CAAyBmG,eAAzB,GAA2C/B,SAA3C,CAAqD,UAAAC,IAAI,EAAE;AACzD,kBAAI,CAAC1D,WAAL,GAAmB0D,IAAnB;;AACA,kBAAI,CAAC1D,WAAL,CAAiBqF,OAAjB,CAAyB,UAAAC,OAAO,EAAI;AAClC,kBAAI,CAAC,MAAI,CAACpF,gBAAL,CAAsBuF,QAAtB,CAA+BH,OAAO,CAAC,OAAD,CAAtC,CAAL,EAAuD;AACrD,sBAAI,CAACpF,gBAAL,CAAsBwF,IAAtB,CAA2BJ,OAAO,CAAC,OAAD,CAAlC;AACD;AACF,aAJD;AAKD,WAPD;AAQD;AAED;;;;;;;;sCAKcK,K,EAAK;AAAA;;AACjB,eAAK1F,cAAL,GAAoB,EAApB,CADiB,CACO;;AACxBF,cAAI,CAAC6F,KAAL,CAAWD,KAAX;AACA,eAAK3F,WAAL,CAAiBqF,OAAjB,CAAyB,UAAAC,OAAO,EAAI;AAClC,gBAAGA,OAAO,CAAC,OAAD,CAAP,IAAqBK,KAAxB,EAA8B;AAC5B,oBAAI,CAAC1F,cAAL,CAAoByF,IAApB,CAAyBJ,OAAzB;AACD;AACF,WAJD;AAKD;AAED;;;;;;;;2CAKgB;AAAA;;AACd,eAAKtF,WAAL,CAAiBqF,OAAjB,CAAyB,UAAAC,OAAO,EAAI;AAClC,gBAAIA,OAAO,CAAC,cAAD,CAAP,IAA2B,MAAI,CAACO,YAApC,EAAmD;AACjD,oBAAI,CAAC1F,UAAL,GAAkB,IAAI,4DAAJ,CAAemF,OAAO,CAAC,cAAD,CAAtB,EAAuCA,OAAO,CAAC,OAAD,CAA9C,EAAwDA,OAAO,CAAC,MAAD,CAA/D,EAAwEA,OAAO,CAAC,QAAD,CAA/E,EAA0FA,OAAO,CAAC,QAAD,CAAjG,EAA4GA,OAAO,CAAC,UAAD,CAAnH,CAAlB;AACAvB,sBAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCuB,eAAtC,CAAsD,QAAtD,EAFiD,CAEgB;AAClE;AACF,WALD;AAMD;AACD;;;;;;;oCAIS;AACP,cAAI,KAAK3D,UAAL,CAAgBgC,OAApB,EAA6B;AAC3B,gBAAG,KAAKhC,UAAL,CAAgBiC,GAAhB,CAAoB,kBAApB,EAAwCC,QAAxC,CAAiD,UAAjD,CAAH,EAAgE;AAC9DC,sBAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,CAAsDC,GAAtD,CAA0D,YAA1D;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,CAAsDE,OAAtD,CAA8D,YAA9D,EAA2E,UAA3E;AACD;;AACD,gBAAG,KAAKvC,UAAL,CAAgBiC,GAAhB,CAAoB,eAApB,EAAqCC,QAArC,CAA8C,UAA9C,CAAH,EAA6D;AAC3DC,sBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDC,GAAnD,CAAuD,YAAvD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDE,OAAnD,CAA2D,YAA3D,EAAwE,UAAxE;AACD;;AACD,gBAAG,KAAKvC,UAAL,CAAgBiC,GAAhB,CAAoB,cAApB,EAAoCC,QAApC,CAA6C,UAA7C,CAAH,EAA4D;AAC1DC,sBAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDC,GAAlD,CAAsD,YAAtD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDE,OAAlD,CAA0D,YAA1D,EAAuE,UAAvE;AACD;;AACD,gBAAG,KAAKvC,UAAL,CAAgBiC,GAAhB,CAAoB,cAApB,EAAoCC,QAApC,CAA6C,UAA7C,CAAH,EAA4D;AAC1DC,sBAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDC,GAAlD,CAAsD,YAAtD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDE,OAAlD,CAA0D,YAA1D,EAAuE,UAAvE;AACD;;AACD,gBAAG,KAAKvC,UAAL,CAAgBiC,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,UAA/C,CAAH,EAA8D;AAC5DC,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDE,OAApD,CAA4D,YAA5D,EAAyE,UAAzE;AACD;AAEF,WA3BD,MA2BM;AACJ,gBAAIT,IAAI,GAAE;AACR,wBAAW,KAAK9B,UAAL,CAAgB0C,KAAhB,CAAsBvC,gBADzB;AAER,uBAAU,KAAKH,UAAL,CAAgB0C,KAAhB,CAAsBzC,aAFxB;AAGR,sBAAS,KAAKD,UAAL,CAAgB0C,KAAhB,CAAsBxC,YAHvB;AAIR,wBAAW,KAAKF,UAAL,CAAgB0C,KAAhB,CAAsBtC,YAJzB;AAKR,0BAAa,KAAKJ,UAAL,CAAgB0C,KAAhB,CAAsBrC;AAL3B,aAAV;;AAOA,iBAAK5C,mBAAL,CAAyByG,eAAzB,CAAyCpC,IAAzC,EAA+CD,SAA/C;;AAEA,iBAAKe,SAAL,CAAe,gBAAf,EAAgC,iBAAhC;AACD;AACF;AACD;;;;;;;yCAIc;AACZuB,iBAAO,CAACC,GAAR,CAAY,KAAK9D,UAAL,CAAgBoC,KAAhB,CAAsBhC,YAAlC;;AACA,cAAI,KAAKJ,UAAL,CAAgB0B,OAApB,EAA6B;AAC3B,gBAAG,KAAK1B,UAAL,CAAgB2B,GAAhB,CAAoB,kBAApB,EAAwCC,QAAxC,CAAiD,UAAjD,CAAH,EAAgE;AAC9D,mBAAK5B,UAAL,CAAgBoC,KAAhB,CAAsBjC,gBAAtB,GAAyC,KAAKlC,UAAL,CAAgBwE,MAAzD;AACD;;AACD,gBAAG,KAAKzC,UAAL,CAAgB2B,GAAhB,CAAoB,eAApB,EAAqCC,QAArC,CAA8C,UAA9C,CAAH,EAA6D;AAC3D,mBAAK5B,UAAL,CAAgBoC,KAAhB,CAAsBnC,aAAtB,GAAsC,KAAKhC,UAAL,CAAgBwF,KAAtD;AACD;;AACD,gBAAG,KAAKzD,UAAL,CAAgB2B,GAAhB,CAAoB,cAApB,EAAoCC,QAApC,CAA6C,UAA7C,CAAH,EAA4D;AAC1D,mBAAK5B,UAAL,CAAgBoC,KAAhB,CAAsBlC,YAAtB,GAAqC,KAAKjC,UAAL,CAAgB8F,IAArD;AACD;;AACD,gBAAG,KAAK/D,UAAL,CAAgB2B,GAAhB,CAAoB,cAApB,EAAoCC,QAApC,CAA6C,UAA7C,CAAH,EAA4D;AAC1D,mBAAK5B,UAAL,CAAgBoC,KAAhB,CAAsBhC,YAAtB,GAAqC,KAAKnC,UAAL,CAAgB+F,MAArD;AACD;;AACD,gBAAG,KAAKhE,UAAL,CAAgB2B,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,UAA/C,CAAH,EAA8D;AAC5D,mBAAK5B,UAAL,CAAgBoC,KAAhB,CAAsB/B,cAAtB,GAAuC,KAAKpC,UAAL,CAAgBgG,QAAvD;AACD;AACF;;AACD,cAAIzC,IAAI,GAAE;AACR,4BAAiB,KAAKvD,UAAL,CAAgBiG,YADzB;AAER,sBAAW,KAAKlE,UAAL,CAAgBoC,KAAhB,CAAsBjC,gBAFzB;AAGR,qBAAU,KAAKH,UAAL,CAAgBoC,KAAhB,CAAsBnC,aAHxB;AAIR,oBAAS,KAAKD,UAAL,CAAgBoC,KAAhB,CAAsBlC,YAJvB;AAKR,sBAAW,KAAKF,UAAL,CAAgBoC,KAAhB,CAAsBhC,YALzB;AAMR,wBAAa,KAAKJ,UAAL,CAAgBoC,KAAhB,CAAsB/B;AAN3B,WAAV;;AAQA,eAAKlD,mBAAL,CAAyBgH,oBAAzB,CAA8C3C,IAA9C,EAAoDD,SAApD;;AAEA,eAAKe,SAAL,CAAe,qBAAf,EAAqC,sBAArC;AAED;AAED;;;;;;;uCAIY;AACV,eAAKnF,mBAAL,CAAyBiH,kBAAzB,CAA4C,KAAKC,YAAjD,EAA+D9C,SAA/D;;AAEA,eAAKe,SAAL,CAAe,kBAAf,EAAkC,mBAAlC;AACD,S,CAED;;AACA;;;;;;;0CAIe;AAAA;;AACb,eAAKnF,mBAAL,CAAyBmH,cAAzB,GAA0C/C,SAA1C,CAAoD,UAAAC,IAAI,EAAE;AACxD,kBAAI,CAACtD,YAAL,GAAoBsD,IAApB;AACD,WAFD;AAID;AAED;;;;;;;uCAIe;AAAA;;AACb,eAAKtD,YAAL,CAAkBiF,OAAlB,CAA0B,UAAAC,OAAO,EAAI;AACnC,gBAAIA,OAAO,CAAC,UAAD,CAAP,IAAuB,MAAI,CAACmB,kBAAhC,EAAqD;AACnD,oBAAI,CAACpG,MAAL,GAAc,IAAI,oDAAJ,CAAWiF,OAAO,CAAC,UAAD,CAAlB,EAA+BA,OAAO,CAAC,QAAD,CAAtC,EAAiDA,OAAO,CAAC,aAAD,CAAxD,EAAwEA,OAAO,CAAC,QAAD,CAA/E,CAAd;AACAvB,sBAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCuB,eAAtC,CAAsD,QAAtD,EAFmD,CAEc;AAClE;AACF,WALD;AAMD;AAED;;;;;;;oCAIS;AACP,cAAI,KAAK/C,UAAL,CAAgBoB,OAApB,EAA6B;AAC3B,gBAAG,KAAKpB,UAAL,CAAgBqB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,UAA/C,CAAH,EAA8D;AAC5DC,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDE,OAApD,CAA4D,YAA5D,EAAyE,UAAzE;AACD;;AACD,gBAAG,KAAK3B,UAAL,CAAgBqB,GAAhB,CAAoB,qBAApB,EAA2CC,QAA3C,CAAoD,UAApD,CAAH,EAAmE;AACjEC,sBAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAA+CC,SAA/C,CAAyDC,GAAzD,CAA6D,YAA7D;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAA+CC,SAA/C,CAAyDE,OAAzD,CAAiE,YAAjE,EAA8E,UAA9E;AACD;;AACD,gBAAG,KAAK3B,UAAL,CAAgBqB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,UAA/C,KAA8D,KAAKtB,UAAL,CAAgBqB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,KAA/C,CAAjE,EAAuH;AACrHC,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDE,OAApD,CAA4D,YAA5D,EAAyE,UAAzE;AACD;AAEF,WAjBD,MAiBO;AACL,gBAAIT,IAAI,GAAE;AACR,wBAAW,KAAKlB,UAAL,CAAgB8B,KAAhB,CAAsB7B,cADzB;AAER,6BAAgB,KAAKD,UAAL,CAAgB8B,KAAhB,CAAsB5B,mBAF9B;AAGR,wBAAW,KAAKF,UAAL,CAAgB8B,KAAhB,CAAsB3B;AAHzB,aAAV;;AAKA,iBAAKtD,mBAAL,CAAyBqH,eAAzB,CAAyChD,IAAzC,EAA+CD,SAA/C;;AAEA,iBAAKe,SAAL,CAAe,gBAAf,EAAgC,iBAAhC;AACD;AACF;AAED;;;;;;;yCAIc;AACZ,cAAI,KAAK5B,UAAL,CAAgBgB,OAApB,EAA6B;AAC3B,gBAAG,KAAKhB,UAAL,CAAgBiB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,UAA/C,CAAH,EAA8D;AAC5D,mBAAKlB,UAAL,CAAgB0B,KAAhB,CAAsBzB,cAAtB,GAAuC,KAAKxC,MAAL,CAAYsG,MAAnD;AACD;;AACD,gBAAG,KAAK/D,UAAL,CAAgBiB,GAAhB,CAAoB,qBAApB,EAA2CC,QAA3C,CAAoD,UAApD,CAAH,EAAmE;AACjE,mBAAKlB,UAAL,CAAgB0B,KAAhB,CAAsBxB,mBAAtB,GAA4C,KAAKzC,MAAL,CAAYuG,WAAxD;AACD;;AACD,gBAAG,KAAKhE,UAAL,CAAgBiB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,UAA/C,KAA8D,KAAKlB,UAAL,CAAgBiB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,KAA/C,CAAjE,EAAuH;AACrH,mBAAKlB,UAAL,CAAgB0B,KAAhB,CAAsBvB,cAAtB,GAAuC,KAAK1C,MAAL,CAAYwG,MAAnD;;AACA,kBAAI,KAAKjE,UAAL,CAAgBiB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,KAA/C,CAAJ,EAA2D;AACzDC,wBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;AACD;AACF;AACF;;AACD,cAAG,CAAC,KAAKtB,UAAL,CAAgBiB,GAAhB,CAAoB,gBAApB,EAAsCC,QAAtC,CAA+C,KAA/C,CAAJ,EAA0D;AACxD,gBAAIJ,IAAI,GAAE;AACR,wBAAW,KAAKd,UAAL,CAAgB0B,KAAhB,CAAsBzB,cADzB;AAER,6BAAgB,KAAKD,UAAL,CAAgB0B,KAAhB,CAAsBxB,mBAF9B;AAGR,wBAAW,KAAKF,UAAL,CAAgB0B,KAAhB,CAAsBvB,cAHzB;AAIR,0BAAa,KAAK1C,MAAL,CAAY8F;AAJjB,aAAV;;AAMA,iBAAK9G,mBAAL,CAAyByH,oBAAzB,CAA8CpD,IAA9C,EAAoDD,SAApD;;AAEA,iBAAKe,SAAL,CAAe,gBAAf,EAAgC,iBAAhC;AACD;AAEF;AAED;;;;;;;uCAIY;AACV,eAAKnF,mBAAL,CAAyB0H,kBAAzB,CAA4C,KAAKC,aAAjD,EAAgEvD,SAAhE;;AAEA,eAAKe,SAAL,CAAe,kBAAf,EAAkC,mBAAlC;AACD;AAED;;;;;;;;kCAKUyC,K,EAAMC,M,EAAM;AACpBnD,kBAAQ,CAACC,cAAT,CAAwBiD,KAAxB,EAA+BE,KAA/B,CAAqCC,OAArC,GAA6C,MAA7C;AACArD,kBAAQ,CAACC,cAAT,CAAwBkD,MAAxB,EAAgCC,KAAhC,CAAsCC,OAAtC,GAA8C,QAA9C;AACAC,qBAAW,CAAC,YAAM;AAChBC,kBAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,WAFU,EAET,IAFS,CAAX;AAGD;;;;;;;uBAlhBUpI,a,EAAa,kJ,EAAA,0I,EAAA,uH,EAAA,2H;AAAA,K;;;YAAbA,a;AAAa,+B;AAAA,gB;AAAA,c;AAAA,88Z;AAAA;AAAA;ACf1B;;AAA6B;;AAAc;;AAC3C;;AACI;;AACI;;AAAiK;;AAAS;;AAC1K;;AAAwJ;;AAAQ;;AAChK;;AAAqJ;;AAAO;;AAChK;;AACJ;;AACA;;AAGI;;AACI;;AAEI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAiC;AAAA,mBAAY,IAAAqI,WAAA,EAAZ;AAAyB,WAAzB;;AAC7B;;AACI;;AAA8B;;AAAM;;AACpC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AACI;;AAA4B;;AAAG;;AAC/B;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA4B;;AAAI;;AAChC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA8B;;AAAM;;AACpC;;AACI;;AACJ;;AACA;;AAA8B;;AAAmB;;AACrD;;AACJ;;AACA;;AACI;;AACI;;AAAoC;;AAAY;;AAChD;;AACI;;AACJ;;AACA;;AAA8B;;AAAmB;;AACrD;;AACA;;AACI;;AAAgC;;AAAQ;;AACxC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA+B;;AAAO;;AACtC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACJ;;AACA;;AACI;;AAAgC;;AAAQ;;AACxC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AAAoE;;AAAM;;AAC1E;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAgC;AAAA,mBAAY,IAAAC,cAAA,wBAAZ;AAA8C,WAA9C;;AAC5B;;AACI;;AAAwC;AAAA;AAAA;;AACpC;;AAAiB;;AAA+B;;AAChD;;AACJ;;AACA;;AAAkE;;AAAU;;AAChF;;AACJ;;AACA;;AAAiC;AAAA,mBAAY,IAAAC,gBAAA,EAAZ;AAA8B,WAA9B;;AAC7B;;AACI;;AAA8B;;AAAM;;AACpC;;AACJ;;AACA;;AACI;;AACI;;AAA4B;;AAAG;;AAC/B;;AACA;;AAA8B;;AAAa;;AAC/C;;AACA;;AACI;;AAA4B;;AAAI;;AAChC;;AACJ;;AACA;;AACI;;AAA8B;;AAAM;;AACpC;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAoC;;AAAY;;AAChD;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAAgC;;AAAQ;;AACxC;;AACA;;AAA8B;;AAAe;;AACjD;;AACA;;AACI;;AAA+B;;AAAO;;AACtC;;;;AACJ;;AACJ;;AACA;;AACI;;AAAgC;;AAAQ;;AACxC;;AACJ;;AACA;;AAAyE;;AAAS;;AAClF;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAKA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAM;AAAA,mBAAY,IAAAC,cAAA,qBAAZ;AAA2C,WAA3C;;AACF;;AACI;;AAAwC;AAAA;AAAA;;AACpC;;AAAiB;;AAA6B;;AAC9C;;AACJ;;AACA;;AAAqE;;AAAM;;AAC3E;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAGA;;AACI;;AAEI;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACI;;AAA+B;AAAA,mBAAY,IAAAC,SAAA,EAAZ;AAAuB,WAAvB;;AAC3B;;AACI;;AACI;;AAA2B;;AAAK;;AAChC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA0B;;AAAI;;AAC9B;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA8B;;AAAM;;AACpC;;AACI;;AACJ;;AACA;;AAA8B;;AAAgB;;AAClD;;AACJ;;AACA;;AACI;;AACI;;AAA0B;;AAAI;;AAC9B;;AACI;;AACJ;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA4B;;AAAM;;AAClC;;AACI;;AACJ;;AACA;;AAA8B;;AAAgB;;AAClD;;AACJ;;AACA;;AAAkE;;AAAM;;AACxE;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACF;;AACF;;AAIA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACA;;AACE;;AACI;;AAAM;AAAA,mBAAY,IAAAC,gBAAA,EAAZ;AAA8B,WAA9B;;AACF;;AACI;;AACI;;AAA+B;;AAAK;;AACpC;;AAA6B;AAAA;AAAA,aAA+B,eAA/B,EAA+B;AAAA,mBAA+E,IAAAC,aAAA,uBAA/E;AAA+G,WAA9I;;AACzB;;AACJ;;AACJ;;AACA;;AACI;;AAA0B;;AAAM;;AAChC;;AAA6B;AAAA;AAAA;;AACzB;;AACJ;;AACJ;;AACJ;;AACA;;AAAkE;;AAAM;;AAC5E;;AAEA;;AAA+B;AAAA,mBAAY,IAAAC,cAAA,EAAZ;AAA4B,WAA5B;;AAC3B;;AACI;;AACI;;AAA2B;;AAAK;;AAChC;;;;AACJ;;AACA;;AACI;;AAA0B;;AAAI;;AAC9B;;AACJ;;AACA;;AACI;;AAA8B;;AAAM;;AACpC;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAA0B;;AAAI;;AAC9B;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAA4B;;AAAM;;AAClC;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAAuE;;AAAS;;AAChF;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACF;;AACF;;AAIA;;AACI;;AACI;;AACA;;AACI;;AACJ;;AACA;;AACJ;;AACA;;AACI;;AACI;;AAAM;AAAA,mBAAY,IAAAC,YAAA,EAAZ;AAA0B,WAA1B;;AACF;;AACI;;AACI;;AAA+B;;AAAoB;;AACnD;;AAA6B;AAAA;AAAA,aAA+B,eAA/B,EAA+B;AAAA,mBAA+E,IAAAF,aAAA,uBAA/E;AAA+G,WAA9I;;AACzB;;AACJ;;AACJ;;AACA;;AACI;;AAA0B;;AAAqB;;AAC/C;;AAA6B;AAAA;AAAA;;AACzB;;AACJ;;AACJ;;AACJ;;AACA;;AAAmE;;AAAM;;AACzE;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAEF;;AACN;;AAGA;;AACI;;AAEI;;AACI;;AACI;;AACA;;AACI;;AACJ;;AACA;;AACJ;;AAEA;;AACI;;AACI;;AAA+B;AAAA,mBAAY,IAAAG,SAAA,EAAZ;AAAuB,WAAvB;;AAC3B;;AACI;;AACI;;AAA4B;;AAAM;;AAClC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAAiC;;AAAW;;AAC5C;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA4B;;AAAM;;AAClC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACJ;;AACA;;AAAkE;;AAAM;;AACxE;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AACI;;AACA;;AACI;;AACJ;;AACA;;AACJ;;AACA;;AACI;;AACI;;AAA8B;AAAA,mBAAY,IAAAC,YAAA,EAAZ;AAA0B,WAA1B;;AAC1B;;AACI;;AAAwC;AAAA;AAAA;;AACpC;;AACJ;;AACA;;AAAkE;;AAAU;;AAChF;;AACJ;;AACA;;AAA+B;AAAA,mBAAY,IAAAC,cAAA,EAAZ;AAA4B,WAA5B;;AAC3B;;AACI;;AACI;;AAA4B;;AAAM;;AAClC;;AACJ;;AACA;;AACI;;AAAiC;;AAAW;;AAC5C;;AACJ;;AACA;;AACI;;AAA4B;;AAAM;;AAClC;;AACA;;AAA8B;;AAAc;;AAChD;;AACJ;;AACA;;AAAkE;;AAAS;;AAC3E;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AACI;;AACA;;AACI;;AACJ;;AACA;;AACJ;;AACA;;AACI;;AACI;;AAAM;AAAA,mBAAY,IAAAC,YAAA,EAAZ;AAA0B,WAA1B;;AACF;;AACI;;AAA0B;;AAAM;;AAChC;;AAAwC;AAAA;AAAA;;AACpC;;AACJ;;AACJ;;AACA;;AAAmE;;AAAM;;AACzE;;AACI;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAEJ;;AACJ;;AACJ;;;;AAzc8B;;AAAA;;AAoBkB;;AAAA;;AASA;;AAAA;;AA4CwB;;AAAA,sGAAgC,gBAAhC,EAAgC,sEAAhC;;AAE5B;;AAAA;;AAKd;;AAAA;;AAGmG;;AAAA;;AAKA;;AAAA;;AAKA;;AAAA;;AAI5B;;AAAA;;AACrD;;AAAA;;AAOsF;;AAAA;;AACtF;;AAAA;;AAKmG;;AAAA;;AAKZ;;AAAA;;AAKF;;AAAA;;AA2B7D;;AAAA,mGAA6B,gBAA7B,EAA6B,sEAA7B;;AAE5B;;AAAA;;AA8BlB;;AAAA;;AAekB;;AAAA;;AASA;;AAAA;;AAOA;;AAAA;;AA+BiB;;AAAA,qGAA+B,gBAA/B,EAA+B,sEAA/B;;AACjB;;AAAA;;AAKiB;;AAAA,gGAA0B,gBAA1B,EAA0B,sEAA1B;;AACjB;;AAAA;;AAOlB;;AAAA;;AAIiG;;AAAA;;AAIF;;AAAA;;AAIH;;AAAA;;AAC1E;;AAAA;;AAOkE;;AAAA;;AAClE;;AAAA;;AAKsE;;AAAA;;AACtE;;AAAA;;AA8BqB;;AAAA,qGAA+B,gBAA/B,EAA+B,sEAA/B;;AACjB;;AAAA;;AAKiB;;AAAA,gGAA0B,gBAA1B,EAA0B,sEAA1B;;AACjB;;AAAA;;AAgClB;;AAAA;;AA0C0C;;AAAA,sGAAgC,gBAAhC,EAAgC,sEAAhC;;AAC5B;;AAAA;;AAKd;;AAAA;;AAImG;;AAAA;;AAIU;;AAAA;;AAIY;;AAAA;;AA6B/E;;AAAA,iGAA2B,gBAA3B,EAA2B,sEAA3B;;AAC5B;;AAAA;;;;;;;;;;sEDpc/BjJ,a,EAAa;cANzB,uDAMyB;eANf;AACTT,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,uBAFJ;AAGTC,mBAAS,EAAE,CAAC,sBAAD;AAHF,S;AAMe,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEf1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACmB4B;;AACI;;AACJ;;;;;;AADS;;AAAA;;AAA6C;;;;;;AAF1D;;AACI;;AAGJ;;;;;;;;AAHS;;AAAA;;;;;;AAaG;;AACI;;AAAkE;;AAAa;;AACnF;;;;;;AADsE;;AAAA;;;;;;AAEtE;;AACI;;AAAkE;;AAAa;;AACnF;;;;;;AADsE;;AAAA;;;;;;AAEtE;;AACI;;AAAiE;;AAAa;;AAClF;;;;;;AADqE;;AAAA;;;;;;AARzE;;AACI;;AAGA;;AAGA;;AAGJ;;;;;;;;AATS;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;;;;;;;AAWL;;AACI;;AAAiD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAK;;AAChF;;AAAqF;;AAAO;;AAChG;;;;;;AADO;;AAAA;;;;;;AAHX;;AACI;;AAIJ;;;;;;;;AAJU;;AAAA;;;;;;AAlC9B;;AACI;;AACI;;AACI;;AAKJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAuB;;AAAe;;AACtC;;AAAuB;;AAAkE;;AAC7F;;AACA;;AAWJ;;AACA;;AACA;;AAAuB;;AAAS;;AAC5B;;AAA0B;;AAAiB;;AAC/C;;AACA;;AACI;;AAMJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAxCiB;;AAAA;;AAU8B;;AAAA;;AACA;;AAAA;;AAEtB;;AAAA;;AAcqB;;AAAA;;AAGpB;;AAAA;;;;;;AAiBV;;AACI;;AACJ;;;;;;AADS;;AAAA;;AAA6C;;;;;;AAF1D;;AACI;;AAGJ;;;;;;;;AAHS;;AAAA;;;;;;AAaG;;AACI;;AAAkE;;AAAa;;AACnF;;;;;;AADsE;;AAAA;;;;;;AAEtE;;AACI;;AAAkE;;AAAa;;AACnF;;;;;;AADsE;;AAAA;;;;;;AAEtE;;AACI;;AAAiE;;AAAa;;AAClF;;;;;;AADqE;;AAAA;;;;;;AARzE;;AACI;;AAGA;;AAGA;;AAGJ;;;;;;;;AATS;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;;;;;;;AAUT;;AACI;;AAA0E;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAA8B;;AACzJ;;;;;;AADgD;;AAAA;;AAA2E;;AAAA;;;;;;AAGvH;;AAAmF;;AAA8B;;;;;;AAArE;;AAAuC;;AAAA;;;;;;AAL3F;;AACI;;AAGA;;AAGJ;;;;;;;;AANU;;AAAA,yHAA+D,UAA/D,EAA+D,IAA/D;;;;;;AAjC1B;;AACI;;AACI;;AACI;;AAKJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAuB;;AAAwB;;AAC/C;;AAAuB;;AAAsG;;AACjI;;AACA;;AAWJ;;AACA;;AACA;;AAAuB;;AAAS;;AAC5B;;AAA0B;;AAA0B;;AACxD;;AACA;;AAQJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAxCiB;;AAAA;;AAU8B;;AAAA;;AACA;;AAAA;;AAEtB;;AAAA;;AAcqB;;AAAA;;AAExB;;AAAA;;;;;;AAjC1B;;AACI;;AA4CJ;;;;;;AA7C2B;;AAAyC;;AACxB;;AAAA;;;;QDjDvCyJ,kB;AASX,kCAAoBjJ,mBAApB,EAAqEC,cAArE,EAA4GC,MAA5G,EAA2H;AAAA;;AAAvG,aAAAF,mBAAA,GAAAA,mBAAA;AAAiD,aAAAC,cAAA,GAAAA,cAAA;AAAuC,aAAAC,MAAA,GAAAA,MAAA;AARrG,aAAAgJ,SAAA,GAAuB,EAAvB;AACA,aAAAC,SAAA,GAAuB,EAAvB;AACA,aAAAC,cAAA,GAA4B,EAA5B;AACA,aAAAC,UAAA,GAAwB,EAAxB;AACA,aAAAC,eAAA,GAA6B,EAA7B;AAEA,aAAAC,gBAAA,GAAiB,IAAIjJ,KAAJ,EAAjB;AAEuH;;;;mCAEtH;AACN,eAAKkJ,UAAL;AACA,eAAKC,aAAL;AACA,eAAKC,aAAL;AACA,eAAKC,eAAL;;AACA,cAAIhG,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK3D,cAAL,CAAoBiE,eAApB;;AACA,iBAAK0F,KAAL,GAAajG,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAb,CAFsF,CAExC;AAC/C;AAEF;AAED;;;;;;;;qCAKU;AACR,eAAK,IAAIiG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,gBAAIC,GAAG,GAAG,IAAIpJ,IAAJ,EAAV;AACA,iBAAK4I,eAAL,CAAqBjD,IAArB,CAA0ByD,GAAG,CAACC,OAAJ,CAAYD,GAAG,CAACE,OAAJ,KAAcH,CAA1B,CAA1B;AACD;AACF;AAED;;;;;;;;wCAKa;AAAA;;AACX,eAAK7J,mBAAL,CAAyBiK,iBAAzB,GAA6C7F,SAA7C,CAAuD,UAAAC,IAAI,EAAE;AAC3D,kBAAI,CAACgF,UAAL,GAAkBhF,IAAlB;AACD,WAFD;AAGD;AAED;;;;;;wCAGa;AAAA;;AACX,eAAKrE,mBAAL,CAAyBkK,iBAAzB,GAA6C9F,SAA7C,CAAuD,UAAAC,IAAI,EAAE;AAC3D,mBAAI,CAAC+E,cAAL,GAAsB/E,IAAtB;AACD,WAFD;AAGD;AAED;;;;;;0CAGe;AAAA;;AACb,cAAI8F,GAAG,GAAG,IAAIzJ,IAAJ,EAAV;AACA,cAAI0J,MAAJ;AACA,cAAIC,QAAQ,GAAG,IAAI/J,KAAJ,EAAf;AACA,cAAIgK,eAAe,GAAG,IAAIhK,KAAJ,EAAtB;AACA,cAAIiK,UAAU,GAAG,KAAjB,CALa,CAKW;;AACxB,eAAKvK,mBAAL,CAAyBsE,eAAzB,GAA2CF,SAA3C,CAAqD,UAAAC,IAAI,EAAE;AACzD,mBAAI,CAAC8E,SAAL,GAAiB9E,IAAjB;;AACA,mBAAI,CAACrE,mBAAL,CAAyBwK,gBAAzB,GAA4CpG,SAA5C,CAAsD,UAAAqG,KAAK,EAAE;AAC3D,qBAAI,CAACvB,SAAL,GAAiBuB,KAAjB;;AACA,mBAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1BM,mBAAG,GAAG,IAAIzJ,IAAJ,EAAN;AACAyJ,mBAAG,CAACJ,OAAJ,CAAYI,GAAG,CAACH,OAAJ,KAAcH,CAAd,GAAgB,CAA5B;;AACA,uBAAI,CAACV,SAAL,CAAenD,OAAf,CAAuB,UAAAC,OAAO,EAAI;AAChC,yBAAI,CAACiD,SAAL,CAAelD,OAAf,CAAuB,UAAA0E,QAAQ,EAAI;AAEjC;AACA,wBAAIA,QAAQ,CAACpE,KAAT,CAAeqE,MAAf,CAAsB,CAAtB,EAAwB,CAAxB,KAA8BR,GAAG,CAACS,WAAJ,GAAkBD,MAAlB,CAAyB,CAAzB,EAA2B,CAA3B,CAA9B,IAA+D1E,OAAO,CAACX,MAAR,IAAkBoF,QAAQ,CAACpF,MAA9F,EAAqG;AACnGiF,gCAAU,GAAG,IAAb;AACAH,4BAAM,GAAG,IAAI,4DAAJ,CAAeM,QAAQ,CAAC3D,YAAxB,EAAqC2D,QAAQ,CAACpE,KAA9C,EAAoDoE,QAAQ,CAAC9D,IAA7D,EAAkE8D,QAAQ,CAACpF,MAA3E,EAAkFoF,QAAQ,CAAC7D,MAA3F,EAAkG6D,QAAQ,CAAC5D,QAA3G,CAAT;AACAuD,8BAAQ,CAAChE,IAAT,CAAc+D,MAAd;AACD;AACF,mBARD;;AASA,sBAAIG,UAAJ,EAAe;AACb,wBAAI9J,QAAQ,GAAG,IAAI,wDAAJ,CAAawF,OAAO,CAACX,MAArB,EAA4BW,OAAO,CAACV,IAApC,EAAyCU,OAAO,CAACT,IAAjD,EAAsDS,OAAO,CAACR,MAA9D,EAAqEQ,OAAO,CAACP,YAA7E,EAA0FO,OAAO,CAACN,QAAlG,EAA2GM,OAAO,CAACL,OAAnH,EAA2HK,OAAO,CAACJ,QAAnI,CAAf;AACA,wBAAIgF,mBAAmB,GAAG;AACxB,kCAAapK,QADW;AAExB,kCAAa4J;AAFW,qBAA1B;AAIAE,8BAAU,GAAG,KAAb;AACAD,mCAAe,CAACjE,IAAhB,CAAqBwE,mBAArB;AACAR,4BAAQ,GAAG,IAAI/J,KAAJ,EAAX;AACD;AACF,iBApBD;;AAqBA,oBAAIwK,cAAc,GAAE;AAClB,2BAAUjB,CADQ;AAElB,qCAAoBS;AAFF,iBAApB;;AAIA,uBAAI,CAACf,gBAAL,CAAsBlD,IAAtB,CAA2ByE,cAA3B;;AACAR,+BAAe,GAAG,IAAIhK,KAAJ,EAAlB;AACD;AACF,aAjCD;AAkCD,WApCD;AAqCD;AAED;;;;;;;wCAIgB8J,M,EAAM;AACpBzG,wBAAc,CAACoH,OAAf,CAAuB,QAAvB,EAAgCX,MAAhC;AACA,eAAKlK,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,MAAD,CAArB;AACD;AAED;;;;;;;6BAIKqB,M,EAAM;AACT3B,wBAAc,CAACoH,OAAf,CAAuB,MAAvB,EAA8BzF,MAA9B;AACA,eAAKpF,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,MAAD,CAArB;AACD;;;;;;;uBAvHUgF,kB,EAAkB,kJ,EAAA,uI,EAAA,uH;AAAA,K;;;YAAlBA,kB;AAAkB,oC;AAAA,e;AAAA,c;AAAA,4uF;AAAA;AAAA;ACZ/B;;AAA6B;;AAAS;;AACtC;;AACI;;AACI;;AAA4K;;AAAS;;AACrL;;AAA6J;;;;AAAuC;;AACpM;;AAA6J;;;;AAAuC;;AACpM;;AAA6J;;;;AAAuC;;AACpM;;AAA6J;;;;AAAuC;;AACpM;;AAA6J;;;;AAAuC;;AACpM;;AAA6J;;;;AAAuC;;AACpM;;AAA6J;;;;AAAuC;;AACxM;;AACJ;;AACA;;AACQ;;AACI;;AA4CJ;;AACA;;AA8CR;;;;AAtGqK;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKjH;;AAAA;;AA6C2E;;AAAA;;;;;;;;;;sEDhDlHA,kB,EAAkB;cAL9B,uDAK8B;eALpB;AACT3J,kBAAQ,EAAE,eADD;AAETC,qBAAW,EAAE,4BAFJ;AAGTC,mBAAS,EAAE,CAAC,2BAAD;AAHF,S;AAKoB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEZ/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASawL,qB;AAEX,qCAAoB/K,cAApB,EAA2DC,MAA3D,EAA0E;AAAA;;AAAtD,aAAAD,cAAA,GAAAA,cAAA;AAAuC,aAAAC,MAAA,GAAAA,MAAA;AAAkB;;;;mCAErE;AACJ,eAAKD,cAAL,CAAoBgL,YAApB;AAEH;;;;;;;uBAPUD,qB,EAAqB,0I,EAAA,uH;AAAA,K;;;YAArBA,qB;AAAqB,uC;AAAA,c;AAAA,a;AAAA;AAAA;ACTlC;;AAAG;;AAAM;;;;;;;;sEDSIA,qB,EAAqB;cALjC,uDAKiC;eALvB;AACT1L,kBAAQ,EAAE,kBADD;AAETC,qBAAW,EAAE,+BAFJ;AAGTC,mBAAS,EAAE,CAAC,8BAAD;AAHF,S;AAKuB,Q;;;;;;;;;;;;;;;;;;;;;;;;AETlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQa0L,iB;AAEX,iCAAoBjL,cAApB,EAAmD;AAAA;;AAA/B,aAAAA,cAAA,GAAAA,cAAA;AAAkC;;;;mCAE9C;AACN,eAAKA,cAAL,CAAoBiE,eAApB;AACD;;;;;;;uBANUgH,iB,EAAiB,0I;AAAA,K;;;YAAjBA,iB;AAAiB,mC;AAAA,e;AAAA,a;AAAA,8xB;AAAA;AAAA;ACR9B;;AACI;;AAAwB;;AAAQ;;AAChC;;AACI;;AACI;;AAA4B;;AAAM;;AAClC;;AACJ;;AACA;;AACI;;AAA2B;;AAAK;;AAChC;;AACJ;;AACA;;AACI;;AAA4B;;AAAM;;AAClC;;AAEJ;;AACA;;AACI;;AAA8B;;AAAO;;AACrC;;AAEJ;;AACA;;AAAgE;;AAAgB;;AACpF;;AACJ;;;;;;;;;sEDfaA,iB,EAAiB;cAL7B,uDAK6B;eALnB;AACT5L,kBAAQ,EAAE,cADD;AAETC,qBAAW,EAAE,2BAFJ;AAGTC,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKmB,Q;;;;;;;;;;;;;;;;;;;;;;AER9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACEI;;AACI;;AACJ;;;;;;AAD+B;;AAAA;;AAAe;;;;QDOrC2L,a;AAGX,6BAAoBnL,mBAApB,EAAqEC,cAArE,EAA4GC,MAA5G,EAA2H;AAAA;;AAAvG,aAAAF,mBAAA,GAAAA,mBAAA;AAAiD,aAAAC,cAAA,GAAAA,cAAA;AAAuC,aAAAC,MAAA,GAAAA,MAAA;AAFrG,aAAAkL,eAAA,GAAkB,IAAI9K,KAAJ,EAAlB;AAEuH;;;;mCAEtH;AACN,eAAKmJ,aAAL;;AACA,cAAI9F,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK3D,cAAL,CAAoBiE,eAApB;AACD;AACF;AAED;;;;;;wCAGa;AAAA;;AACX,eAAKlE,mBAAL,CAAyBkK,iBAAzB,GAA6C9F,SAA7C,CAAuD,UAAAC,IAAI,EAAE;AAC3D,gBAAIiB,MAAM,GAAG3B,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAb;AACA,gBAAIyH,UAAU,GAAGhH,IAAI,CAACiH,MAAL,CAAY,UAAArF,OAAO;AAAA,qBAAIA,OAAO,CAACX,MAAR,IAAkBA,MAAtB;AAAA,aAAnB,CAAjB;AACA,mBAAI,CAAC8F,eAAL,GAAuBC,UAAU,CAAC,CAAD,CAAV,CAAcE,QAArC;AACD,WAJD;AAKD;;;;;;;uBArBUJ,a,EAAa,kJ,EAAA,uI,EAAA,uH;AAAA,K;;;YAAbA,a;AAAa,+B;AAAA,c;AAAA,a;AAAA,+K;AAAA;AAAA;ACV1B;;AAA6B;;AAAK;;AAClC;;AACI;;AAGJ;;;;AAH0B;;AAAA;;;;;;;;;sEDQbA,a,EAAa;cALzB,uDAKyB;eALf;AACT7L,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,uBAFJ;AAGTC,mBAAS,EAAE,CAAC,sBAAD;AAHF,S;AAKe,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEV1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQagM,c;AAGX,8BAAoBvL,cAApB,EAAmD;AAAA;;AAA/B,aAAAA,cAAA,GAAAA,cAAA;AAAkC;;;;mCAE9C;AACN,cAAI0D,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK3D,cAAL,CAAoBiE,eAApB;AACD;AACF;;;;;;;uBATUsH,c,EAAc,uI;AAAA,K;;;YAAdA,c;AAAc,gC;AAAA,e;AAAA,a;AAAA,01C;AAAA;AAAA;ACR3B;;AAA6B;;AAAS;;AACtC;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACA;;AACI;;AACI;;AACA;;AACI;;AAA6B;;AAAM;;AACnC;;AAA4B;;AAAyC;;AACzE;;AACJ;;AACA;;AACI;;AACA;;AACI;;AAA6B;;AAAS;;AACtC;;AAA4B;;AAAqD;;AACrF;;AACJ;;AACA;;AACI;;AACA;;AACI;;AAA6B;;AAAiC;;AAC9D;;AAA4B;;AAA2B;;AAC3D;;AACJ;;AACJ;;AACA;;AACI;;AACA;;AAAsB;;AAAQ;;AAClC;;AACA;;AACI;;AACA;;AAAsB;;AAAI;;AAC9B;;AACJ;;;;;;;;sED9BaA,c,EAAc;cAL1B,uDAK0B;eALhB;AACTlM,kBAAQ,EAAE,WADD;AAETC,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,uBAAD;AAHF,S;AAKgB,Q;;;;;;;;;;;;;;;;;;;;;;AER3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;QAUaiM,qB;AAUX,qCAAoBzL,mBAApB,EAAqEE,MAArE,EAAoF;AAAA;;AAAhE,aAAAF,mBAAA,GAAAA,mBAAA;AAAiD,aAAAE,MAAA,GAAAA,MAAA;AAR9D,aAAAwL,KAAA,GAAmB,EAAnB;AACA,aAAAC,KAAA,GAAgB,KAAhB;AAGA,aAAAC,OAAA,GAAiB,MAAjB;AACA,aAAArH,OAAA,GAAiB,MAAjB;AAGgF;;;;mCAE/E,CACP;AAED;;;;;;;;;mCAMWsH,W,EAAYC,Q,EAAQ;AAAA;;AAC7B,eAAK9L,mBAAL,CAAyB+L,eAAzB,CAAyCF,WAAzC,EAAqDC,QAAQ,CAACE,WAAT,EAArD,EAA6E5H,SAA7E,CAAuF,UAAAC,IAAI,EAAE;AAC3F,gBAAIA,IAAI,CAACuF,KAAL,IAAc,IAAlB,EAAwB;AACtBjG,4BAAc,CAACoH,OAAf,CAAuB,OAAvB,EAA+B1G,IAAI,CAACuF,KAApC;AACAjG,4BAAc,CAACoH,OAAf,CAAuB,WAAvB,EAAmC1G,IAAI,CAAC4H,SAAxC;AACAtI,4BAAc,CAACoH,OAAf,CAAuB,UAAvB,EAAkC1G,IAAI,CAACiD,MAAvC;;AACA,kBAAIjD,IAAI,CAAC6H,IAAT,EAAe;AACb,uBAAI,CAAChM,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,MAAD,CAArB;;AACAN,8BAAc,CAACoH,OAAf,CAAuB,MAAvB,EAA8B,MAA9B;AACD,eAHD,MAGO;AACLpH,8BAAc,CAACoH,OAAf,CAAuB,MAAvB,EAA8B,OAA9B;;AACA,uBAAI,CAAC7K,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,MAAD,CAArB;AACD;AAEF,aAZD,MAYO;AACL,qBAAI,CAAC2H,OAAL,GAAe,OAAf;AACA,qBAAI,CAACrH,OAAL,GAAe,YAAf;AACD;AACF,WAjBD;AAkBD;;;;;;;uBAxCUkH,qB,EAAqB,kJ,EAAA,uH;AAAA,K;;;YAArBA,qB;AAAqB,uC;AAAA,e;AAAA,c;AAAA,usB;AAAA;AAAA;ACVlC;;AACI;;AAAwB;;AAAc;;AACtC;;AAAM;AAAA,mBAAY,IAAAU,UAAA,+BAAZ;AAA4C,WAA5C;;AACF;;AACI;;AAA2B;;AAAK;;AAChC;;AAAgF;AAAA;AAAA;;AAAhF;;AACJ;;AACA;;AACI;;AAA0B;;AAAU;;AACpC;;AAAiF;AAAA;AAAA;;AAAjF;;AACA;;AAA6E;;AAAqB;;AACtG;;AACA;;AAAqE;;AAAa;;AACtF;;AACA;;AACI;;AAAoB;;AAAyB;;AACjD;;AACJ;;;;AAZwC;;AAAA,2FAAmB,SAAnB,EAAmB,YAAnB,EAAmB,gBAAnB,EAAmB,qEAAnB;;AAIA;;AAAA,2FAAmB,SAAnB,EAAmB,eAAnB,EAAmB,gBAAnB,EAAmB,qEAAnB;;AACD;;AAAA;;;;;;;;;sEDA1BV,qB,EAAqB;cALjC,uDAKiC;eALvB;AACTnM,kBAAQ,EAAE,kBADD;AAETC,qBAAW,EAAE,+BAFJ;AAGTC,mBAAS,EAAE,CAAC,8BAAD;AAHF,S;AAKuB,Q;;;;;;;;;;;;;;;;;;;;;;;;AEVlC;AAAA;;;AAAA;AAAA;AAAA;;QAAa4M,Q;AACT,wBACWC,OADX,EAEWC,KAFX,EAGWC,KAHX,EAIWC,OAJX,EAKWC,aALX,EAMWC,SANX,EAOWC,QAPX,EAQWC,SARX,EAQ2B;AAAA;;AAPhB,aAAAP,OAAA,GAAAA,OAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AAET;;;;4BAGkB;AAChB,iBAAO,KAAKP,OAAZ;AACH;;;4BACiB;AACd,iBAAO,KAAKC,KAAZ;AACH;;;4BACiB;AACd,iBAAO,KAAKC,KAAZ;AACH;;;4BACmB;AAChB,iBAAO,KAAKC,OAAZ;AACH;;;4BACyB;AACtB,iBAAO,KAAKC,aAAZ;AACH;;;4BACqB;AAClB,iBAAO,KAAKC,SAAZ;AACH;;;4BACoB;AACjB,iBAAO,KAAKC,QAAZ;AACH;;;4BACqB;AAClB,iBAAO,KAAKC,SAAZ;AACH;;;;;;;;;;;;;;;;;;;;;ACrCL;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,U;AACT,0BACWC,aADX,EAEWC,MAFX,EAGWC,KAHX,EAIWX,OAJX,EAKWY,OALX,EAMWC,SANX,EAM2B;AAAA;;AALhB,aAAAJ,aAAA,GAAAA,aAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAX,OAAA,GAAAA,OAAA;AACA,aAAAY,OAAA,GAAAA,OAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AAET;;;;4BAGwB;AACtB,iBAAO,KAAKJ,aAAZ;AACH;;;4BACkB;AACf,iBAAO,KAAKC,MAAZ;AACH;;;4BACiB;AACd,iBAAO,KAAKC,KAAZ;AACH;;;4BACmB;AAChB,iBAAO,KAAKX,OAAZ;AACH;;;4BACmB;AAChB,iBAAO,KAAKY,OAAZ;AACH;;;4BACqB;AAClB,iBAAO,KAAKC,SAAZ;AACH;;;;;;;;;;;;;;;;;;;;;AC7BL;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,M;AACT,sBACWD,SADX,EAEWE,OAFX,EAGWC,YAHX,EAIWC,OAJX,EAIyB;AAAA;;AAHd,aAAAJ,SAAA,GAAAA,SAAA;AACA,aAAAE,OAAA,GAAAA,OAAA;AACA,aAAAC,YAAA,GAAAA,YAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AAET;;;;4BAGoB;AAClB,iBAAO,KAAKJ,SAAZ;AACH;;;4BACmB;AAChB,iBAAO,KAAKE,OAAZ;AACH;;;4BACwB;AACrB,iBAAO,KAAKC,YAAZ;AACH;;;4BACmB;AAChB,iBAAO,KAAKC,OAAZ;AACH;;;;;;;;;;;;;;;;;;;;;ACrBL;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,O,GACT,iBACWtB,SADX,EAEW3E,MAFX,EAGWkG,SAHX,EAIWC,KAJX,EAKWC,QALX,EAMWC,aANX,EAMgC;AAAA;;AALrB,WAAA1B,SAAA,GAAAA,SAAA;AACA,WAAA3E,MAAA,GAAAA,MAAA;AACA,WAAAkG,SAAA,GAAAA,SAAA;AACA,WAAAC,KAAA,GAAAA,KAAA;AACA,WAAAC,QAAA,GAAAA,QAAA;AACA,WAAAC,aAAA,GAAAA,aAAA;AAET,K;;;;;;;;;;;;;;;;;ACTN;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACIY;;AACI;;AACJ;;;;;;AADwB;;AAAA;;AAAuB;;;;;;AAFnD;;AACI;;AAGJ;;;;;;;;AAHS;;AAAA;;;;;;AAcT;;AACI;;AACI;;AAAY;;AAAM;;AAAyB;;AAAQ;;AACvD;;AACJ;;;;;;AAF0B;;AAAA;;;;;;AAG1B;;AACI;;AACI;;AAAY;;AAAM;;AAAyB;;AAAQ;;AACvD;;AACJ;;;;;;AAF0B;;AAAA;;;;;;AAG1B;;AACI;;AACI;;AAAY;;AAAM;;AAAyB;;AAAQ;;AACvD;;AACJ;;;;;;AAF0B;;AAAA;;;;;;AAyDE;;AAA8D;;AAAQ;;;;;;AAA9D;;AAAsD;;AAAA;;;;;;AAK9D;;AAA8D;;AAAQ;;;;;;AAA9D;;AAAsD;;AAAA;;;;QDjFrFC,a;AAUX,6BAAoB5N,mBAApB,EAAqEC,cAArE,EAA4GC,MAA5G,EAAmIC,EAAnI,EAAoJ;AAAA;;AAAhI,aAAAH,mBAAA,GAAAA,mBAAA;AAAiD,aAAAC,cAAA,GAAAA,cAAA;AAAuC,aAAAC,MAAA,GAAAA,MAAA;AAAuB,aAAAC,EAAA,GAAAA,EAAA;AAT5H,aAAAiJ,cAAA,GAA4B,EAA5B;AACA,aAAAyE,OAAA,GAAqB,EAArB;AAIA,aAAAC,UAAA,GAAa,IAAIxN,KAAJ,CAAU,IAAV,EAAe,IAAf,EAAoB,IAApB,EAAyB,IAAzB,EAA8B,IAA9B,EAAmC,IAAnC,EAAwC,IAAxC,EAA6C,IAA7C,EAAkD,IAAlD,EAAuD,IAAvD,EAA4D,IAA5D,EAAiE,IAAjE,CAAb;AACA,aAAAyN,UAAA,GAAa,IAAIzN,KAAJ,EAAb;AAKL,aAAK0N,OAAL,GAAe,KAAK7N,EAAL,CAAQe,KAAR,CAAc;AAC3B+M,uBAAa,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAW7M,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,mFAAnB,CAArB,CAAJ,CADY;AAE3B4M,iBAAO,EAAE,CAAC,EAAD,EAAI,0DAAW9M,QAAf;AAFkB,SAAd,CAAf;AAKA,aAAK+M,QAAL,GAAgB,KAAKhO,EAAL,CAAQe,KAAR,CAAc;AAC5BkN,mBAAS,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWhN,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,YAAnB,CAArB,CAAJ,CADiB;AAE5B+M,sBAAY,EAAE,CAAC,IAAD,EAAM,0DAAWjN,QAAjB,CAFc;AAG5BkN,uBAAa,EAAE,CAAC,IAAI5N,IAAJ,GAAW6N,WAAX,EAAD,EAA0B,0DAAWnN,QAArC,CAHa;AAI5BoN,kBAAQ,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWpN,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,WAAnB,CAArB,CAAJ;AAJkB,SAAd,CAAhB;AAMD;;;;mCAEO;AACN,eAAKmI,aAAL;AACA,eAAKgF,UAAL;AACA,eAAKC,WAAL;;AACA,cAAI/K,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK3D,cAAL,CAAoBiE,eAApB;AACD,WAFD,MAEO;AACL,iBAAKhE,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,EAAD,CAArB;AACD;AAEF;AAED;;;;;;sCAGW;AACT,cAAI0K,IAAI,GAAG,IAAIjO,IAAJ,GAAW6N,WAAX,EAAX;;AACA,eAAK,IAAI1E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,iBAAKkE,UAAL,CAAgB1H,IAAhB,CAAqBsI,IAAI,GAAC9E,CAA1B;AACD;AACF;AAED;;;;;;wCAGa;AAAA;;AACX,eAAK7J,mBAAL,CAAyBkK,iBAAzB,GAA6C9F,SAA7C,CAAuD,UAAAC,IAAI,EAAE;AAC3D,mBAAI,CAAC+E,cAAL,GAAsB/E,IAAtB;AACD,WAFD;AAGD;AAED;;;;;;qCAGa;AAAA;;AACX,cAAI0C,YAAY,GAAGpD,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAAnB;;AACA,eAAK5D,mBAAL,CAAyB4O,cAAzB,CAAwC7H,YAAxC,EAAsD3C,SAAtD,CAAgE,UAAAC,IAAI,EAAE;AACpE,mBAAI,CAACwJ,OAAL,GAAexJ,IAAf;AACD,WAFD;AAGD;AAED;;;;;;;gCAIQwK,M,EAAQ;AACd,eAAKC,QAAL,GAAgBC,QAAQ,CAAoBrK,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CM,KAAhE,CAAxB;;AACA,cAAI,KAAK6J,QAAL,GAAgBD,MAApB,EAA4B;AACPnK,oBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CM,KAA5C,GAAoD4J,MAApD;AACpB;;AACD,cAAI,KAAKC,QAAL,IAAiB,CAArB,EAAwB;AACHpK,oBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CM,KAA5C,GAAoD,GAApD;AACpB;AACF;AAED;;;;;;;gCAIQuC,M,EAAOV,Q,EAAQ;AACrB,eAAKkI,KAAL,GAAaD,QAAQ,CAAoBrK,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CM,KAAhE,CAArB,CADqB,CACwE;;AAC7F,cAAI6B,QAAQ,IAAI,CAAZ,IAAiB,KAAKkI,KAAL,GAAW,CAAX,IAAc,CAAnC,EAAsC;AAAE;AACtC,iBAAKA,KAAL,IAAcD,QAAQ,CAACvH,MAAD,CAAtB;AACA,iBAAKwH,KAAL,IAAcD,QAAQ,CAACvH,MAAD,CAAtB;AACD,WAHD,MAGO;AACL,iBAAKwH,KAAL,IAAcD,QAAQ,CAACvH,MAAD,CAAtB;AACD;AAEF;AAED;;;;;;8CAGmB;AAAA;;AACjB,cAAI,KAAKwG,OAAL,CAAazJ,OAAjB,EAA0B;AACxB,iBAAKyJ,OAAL,CAAaiB,KAAb;;AACA,gBAAI,KAAKjB,OAAL,CAAaxJ,GAAb,CAAiB,eAAjB,EAAkCC,QAAlC,CAA2C,UAA3C,KAA0D,KAAKuJ,OAAL,CAAaxJ,GAAb,CAAiB,eAAjB,EAAkCC,QAAlC,CAA2C,SAA3C,CAA9D,EAAoH;AAClHC,sBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDC,GAAnD,CAAuD,YAAvD;;AACA,kBAAI,KAAKmJ,OAAL,CAAaxJ,GAAb,CAAiB,eAAjB,EAAkCC,QAAlC,CAA2C,SAA3C,CAAJ,EAA2D;AACzDC,wBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCI,WAAzC,CAAqDC,WAArD,GAAiE,mBAAjE;AACD;AACF;;AACD,gBAAI,KAAKgJ,OAAL,CAAaxJ,GAAb,CAAiB,SAAjB,EAA4BC,QAA5B,CAAqC,UAArC,CAAJ,EAAqD;AACnDC,sBAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA6CC,GAA7C,CAAiD,YAAjD;AACD;AAEF,WAZD,MAYK;AACH,gBAAIqK,MAAM,GAAsBxK,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CM,KAA5E;AACA,gBAAIZ,IAAI,GAAG;AACT,wBAAW6K,MADF;AAET,8BAAiBvL,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAFR;AAGT,2BAAcD,cAAc,CAACC,OAAf,CAAuB,WAAvB;AAHL,aAAX;;AAKA,iBAAK5D,mBAAL,CAAyBmP,YAAzB,CAAsC9K,IAAtC,EAA4CD,SAA5C,CAAsD,UAAAC,IAAI,EAAE;AAC1D,kBAAI+K,MAAM,GAAC,GAAX;AACA,kBAAIC,OAAO,GAAG,GAAd;AACA,kBAAIC,CAAC,GAAErH,MAAM,CAACsH,MAAP,CAAcC,MAAd,GAAqB,CAAtB,GAA0BJ,MAAM,GAAC,CAAvC;AACA,kBAAIK,CAAC,GAAExH,MAAM,CAACsH,MAAP,CAAcG,KAAd,GAAoB,CAArB,GAAyBL,OAAO,GAAC,CAAvC;AACA,kBAAIM,CAAC,GAAG1H,MAAM,CAAC2H,IAAP,CAAY,EAAZ,EAAe,EAAf,EAAkB,WAASP,OAAT,GAAiB,UAAjB,GAA4BD,MAA5B,GAAmC,OAAnC,GAA2CE,CAA3C,GAA6C,QAA7C,GAAsDG,CAAtD,GAAwD,wFAA1E,CAAR;AACAE,eAAC,CAACjL,QAAF,CAAWmL,KAAX,CAAiB,2BAAjB;AACAF,eAAC,CAACG,KAAF;AACAC,wBAAU,CAAC,YAAI;AACbJ,iBAAC,CAACK,KAAF;AACD,eAFS,EAEP,IAFO,CAAV;AAIAD,wBAAU,CAAC,YAAI;AACb,uBAAI,CAAC7P,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,EAAD,CAArB;AACD,eAFS,EAER,IAFQ,CAAV;AAGD,aAfD;AAgBD;AACF;AAED;;;;;;+CAGoB;AAAA;;AAClB,cAAI,KAAKkK,QAAL,CAAc5J,OAAlB,EAA2B;AACzB;AACA,gBAAI,KAAK4J,QAAL,CAAc3J,GAAd,CAAkB,WAAlB,EAA+BC,QAA/B,CAAwC,UAAxC,KAAuD,KAAK0J,QAAL,CAAc3J,GAAd,CAAkB,WAAlB,EAA+BC,QAA/B,CAAwC,SAAxC,CAA3D,EAA+G;AAC7GC,sBAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,CAA+CC,GAA/C,CAAmD,YAAnD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,CAA+CE,OAA/C,CAAuD,YAAvD,EAAoE,UAApE;AACD;;AACD,gBAAI,KAAKqJ,QAAL,CAAc3J,GAAd,CAAkB,cAAlB,EAAkCC,QAAlC,CAA2C,UAA3C,CAAJ,EAA4D;AAC1DC,sBAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDC,GAAlD,CAAsD,YAAtD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,CAAkDE,OAAlD,CAA0D,YAA1D,EAAuE,UAAvE;AACD;;AACD,gBAAI,KAAKqJ,QAAL,CAAc3J,GAAd,CAAkB,eAAlB,EAAmCC,QAAnC,CAA4C,UAA5C,CAAJ,EAA6D;AAC3DC,sBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDC,GAAnD,CAAuD,YAAvD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDE,OAAnD,CAA2D,YAA3D,EAAwE,UAAxE;AACD;;AAED,gBAAI,KAAKqJ,QAAL,CAAc3J,GAAd,CAAkB,UAAlB,EAA8BC,QAA9B,CAAuC,UAAvC,KAAsD,KAAK0J,QAAL,CAAc3J,GAAd,CAAkB,UAAlB,EAA8BC,QAA9B,CAAuC,SAAvC,CAA1D,EAA6G;AAC3GC,sBAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,CAA8CC,GAA9C,CAAkD,YAAlD;AACD,aAFD,MAEO;AACLH,sBAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,CAA8CE,OAA9C,CAAsD,YAAtD,EAAmE,UAAnE;AACD;AACF,WAvBD,MAuBK;AACH,gBAAIoK,MAAM,GAAsBxK,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CM,KAA5E,CADG,CACgF;;AACnF,gBAAIZ,IAAI,GAAG;AACT,wBAAW6K,MADF;AAET,8BAAiBvL,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAFR;AAGT,2BAAcD,cAAc,CAACC,OAAf,CAAuB,WAAvB;AAHL,aAAX;;AAKA,iBAAK5D,mBAAL,CAAyBmP,YAAzB,CAAsC9K,IAAtC,EAA4CD,SAA5C,CAAsD,UAAAC,IAAI,EAAE;AAC1D,kBAAI+K,MAAM,GAAC,GAAX;AACA,kBAAIC,OAAO,GAAG,GAAd;AACA,kBAAIC,CAAC,GAAErH,MAAM,CAACsH,MAAP,CAAcC,MAAd,GAAqB,CAAtB,GAA0BJ,MAAM,GAAC,CAAvC;AACA,kBAAIK,CAAC,GAAExH,MAAM,CAACsH,MAAP,CAAcG,KAAd,GAAoB,CAArB,GAAyBL,OAAO,GAAC,CAAvC;AACA,kBAAIM,CAAC,GAAG1H,MAAM,CAAC2H,IAAP,CAAY,EAAZ,EAAe,EAAf,EAAkB,WAASP,OAAT,GAAiB,UAAjB,GAA4BD,MAA5B,GAAmC,OAAnC,GAA2CE,CAA3C,GAA6C,QAA7C,GAAsDG,CAAtD,GAAwD,wFAA1E,CAAR;AACAE,eAAC,CAACjL,QAAF,CAAWmL,KAAX,CAAiB,6BAAjB;AACAF,eAAC,CAACG,KAAF;AACAC,wBAAU,CAAC,YAAI;AACbJ,iBAAC,CAACK,KAAF;AACD,eAFS,EAEP,IAFO,CAAV;AAIAD,wBAAU,CAAC,YAAI;AACb,uBAAI,CAAC7P,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,EAAD,CAArB;AACD,eAFS,EAER,IAFQ,CAAV;AAGD,aAfD;AAgBD;AACF;;;;;;;uBA5LU2J,a,EAAa,qJ,EAAA,0I,EAAA,uH,EAAA,2H;AAAA,K;;;YAAbA,a;AAAa,+B;AAAA,e;AAAA,c;AAAA,0vF;AAAA;AAAA;ACX1B;;AAAkC;;AAAiB;;AACnD;;AACI;;AACI;;AAKJ;;AACA;;AACI;;AAAiB;;AAA0B;;AAC3C;;AAAG;;AAA6C;;AAChD;;AAAG;;AAA+B;;AAClC;;AACI;;AAA0C;;AAAQ;;AAClD;;AAA8I;AAAA,mBAAQ,IAAAqC,OAAA,aAAqB,CAArB,EAAwBC,KAAxB,CAAR;AAAsC,WAAtC,EAAuC,QAAvC,EAAuC;AAAA,mBAAW,IAAAC,OAAA,aAAqB,CAArB,EAAwB3I,MAAxB,EAAsB,YAAsB,CAAtB,EAAyBV,QAA/C,CAAX;AAAmE,WAA1G;;AAA9I;;AACJ;;AAEA;;AAKA;;AAKA;;AAMA;;AAAG;;AAA0B;;AAAuB;;AAAc;;AAAO;;AAAC;;AAE9E;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAO;;AACX;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAA4B;AAAA,mBAAY,IAAAsJ,mBAAA,EAAZ;AAAiC,WAAjC;;AACxB;;AACI;;AAA2B;;AAAK;;AAChC;;AACA;;AAA8B;;AAAc;;AAChD;;AACA;;AACI;;AAAqB;;AAAU;;AAC/B;;AACA;;AAA8B;;AAAc;;AAChD;;AACA;;AAA8D;;AAAgB;;AAClF;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AACA;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAA6B;AAAA,mBAAY,IAAAC,oBAAA,EAAZ;AAAkC,WAAlC;;AACrB;;AACI;;AAAuB;;AAAgB;;AACvC;;AACA;;AAA8B;;AAAiB;;AACnD;;AACA;;AACI;;AAA6C;;AAAS;;AACtD;;AACI;;AACJ;;AACA;;AAA8B;;AAAiB;;AAC/C;;AAA4B;;AAAC;;AAC7B;;AACI;;AACJ;;AACA;;AAA8B;;AAAiB;;AACnD;;AACA;;AACI;;AAAyC;;AAAG;;AAC5C;;AACA;;AAA8B;;AAAiB;;AACnD;;AACJ;;AAA+D;;AAAgB;;AACnF;;AACJ;;AACJ;;AACJ;;AACJ;;AAGJ;;;;AA1Ga;;AAAA;;AAOY;;AAAA;;AACd;;AAAA;;AACA;;AAAA;;AAG6F;;AAAA;;AAG3F;;AAAA;;AAKA;;AAAA;;AAKA;;AAAA;;AAM+C;;AAAA;;AAelC;;AAAA;;AA6BA;;AAAA;;AASmC;;AAAA;;AAKA;;AAAA;;;;;;;;;sEDjFhDzC,a,EAAa;cALzB,uDAKyB;eALf;AACTtO,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,uBAFJ;AAGTC,mBAAS,EAAE,CAAC,sBAAD;AAHF,S;AAKe,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEX1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAYa8Q,iB;AAGX,iCAAoBtQ,mBAApB,EAAqEC,cAArE,EAA4GC,MAA5G,EAAmIC,EAAnI,EAAoJ;AAAA;;AAAhI,aAAAH,mBAAA,GAAAA,mBAAA;AAAiD,aAAAC,cAAA,GAAAA,cAAA;AAAuC,aAAAC,MAAA,GAAAA,MAAA;AAAuB,aAAAC,EAAA,GAAAA,EAAA;AACjI,aAAKoQ,SAAL,GAAiB,KAAKpQ,EAAL,CAAQe,KAAR,CAAc;AAC7BsP,wBAAc,EAAE,CAAC,EAAD,EAAI,0DAAWpP,QAAf,CADa;AAE7BqP,2BAAiB,EAAE,CAAC,EAAD,EAAI,0DAAWrP,QAAf,CAFU;AAG7BsP,uBAAa,EAAE,CAAC,EAAD,EAAI,CAAC,0DAAWtP,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,mFAAnB,CAArB,CAAJ,CAHc;AAI7BqP,2BAAiB,EAAE,CAAC,EAAD,EAAI,0DAAWvP,QAAf,CAJU;AAK7BwP,2BAAiB,EAAE,CAAC,EAAD,EAAI,0DAAWxP,QAAf;AALU,SAAd,CAAjB;AAOD;;;;mCAEO;AAEN,cAAIuC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK3D,cAAL,CAAoBiE,eAApB;AACD;AACF;AAGD;;;;;;0CAGe;AAAA;;AAEb,cAAG,KAAKqM,SAAL,CAAe/L,GAAf,CAAmB,gBAAnB,EAAqCC,QAArC,CAA8C,UAA9C,CAAH,EAA6D;AAC3DC,oBAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,CAAoDC,GAApD,CAAwD,YAAxD;AACD;;AACD,cAAG,KAAK0L,SAAL,CAAe/L,GAAf,CAAmB,mBAAnB,EAAwCC,QAAxC,CAAiD,UAAjD,CAAH,EAAgE;AAC9DC,oBAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,SAA7C,CAAuDC,GAAvD,CAA2D,YAA3D;AACD;;AACD,cAAG,KAAK0L,SAAL,CAAe/L,GAAf,CAAmB,eAAnB,EAAoCC,QAApC,CAA6C,UAA7C,KAA4D,KAAK8L,SAAL,CAAe/L,GAAf,CAAmB,eAAnB,EAAoCC,QAApC,CAA6C,SAA7C,CAA/D,EAAuH;AACrHC,oBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,CAAmDC,GAAnD,CAAuD,YAAvD;;AACA,gBAAG,KAAK0L,SAAL,CAAe/L,GAAf,CAAmB,eAAnB,EAAoCC,QAApC,CAA6C,SAA7C,CAAH,EAA2D;AACzDC,sBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCI,WAAzC,CAAqDC,WAArD,GAAiE,mBAAjE;AACD;AACF;;AACD,cAAG,KAAKuL,SAAL,CAAe/L,GAAf,CAAmB,mBAAnB,EAAwCC,QAAxC,CAAiD,UAAjD,CAAH,EAAgE;AAC9DC,oBAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,SAA7C,CAAuDC,GAAvD,CAA2D,YAA3D;AACD;;AACD,cAAG,KAAK0L,SAAL,CAAe/L,GAAf,CAAmB,mBAAnB,EAAwCC,QAAxC,CAAiD,UAAjD,KAAgE,KAAK8L,SAAL,CAAetL,KAAf,CAAqB2L,iBAArB,IAA0C,KAAKL,SAAL,CAAetL,KAAf,CAAqB0L,iBAAlI,EAAoJ;AAClJjM,oBAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,SAA7C,CAAuDC,GAAvD,CAA2D,YAA3D;;AACA,gBAAI,KAAK0L,SAAL,CAAetL,KAAf,CAAqB2L,iBAArB,IAA0C,KAAKL,SAAL,CAAetL,KAAf,CAAqB0L,iBAAnE,EAAqF;AACnFjM,sBAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CI,WAA7C,CAAyDC,WAAzD,GAAqE,8BAArE;AACD;AACF;;AAED,cAAI,CAAC,KAAKuL,SAAL,CAAehM,OAApB,EAA6B;AAC3B,gBAAIsM,YAAY,GAAG,IAAI,sDAAJ,CAAY,CAAZ,EAAc,KAAKN,SAAL,CAAetL,KAAf,CAAqBuL,cAAnC,EAAkD,KAAKD,SAAL,CAAetL,KAAf,CAAqBwL,iBAAvE,EAAyF,KAAKF,SAAL,CAAetL,KAAf,CAAqByL,aAArB,CAAmC1E,WAAnC,EAAzF,EAA0I,KAAKuE,SAAL,CAAetL,KAAf,CAAqB0L,iBAA/J,EAAiL,KAAjL,CAAnB;;AAEA,iBAAK3Q,mBAAL,CAAyB8Q,gBAAzB,CAA0CD,YAA1C,EAAwDzM,SAAxD,CAAkE,UAAAC,IAAI,EAAE;AACtEV,4BAAc,CAACoN,KAAf;;AACA,qBAAI,CAAC/Q,mBAAL,CAAyB+L,eAAzB,CAAyC,OAAI,CAACwE,SAAL,CAAetL,KAAf,CAAqB0L,iBAA9D,EAAgF,OAAI,CAACJ,SAAL,CAAetL,KAAf,CAAqByL,aAArG,EAAoHtM,SAApH,CAA8H,UAAAC,IAAI,EAAE;AAClI,oBAAIA,IAAI,CAACuF,KAAL,IAAc,IAAlB,EAAwB;AACtBjG,gCAAc,CAACoH,OAAf,CAAuB,OAAvB,EAA+B1G,IAAI,CAACuF,KAApC;AACAjG,gCAAc,CAACoH,OAAf,CAAuB,WAAvB,EAAmC1G,IAAI,CAAC4H,SAAxC;AACAtI,gCAAc,CAACoH,OAAf,CAAuB,UAAvB,EAAkC1G,IAAI,CAACiD,MAAvC;;AAEA,yBAAI,CAACpH,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,EAAD,CAArB;AACC;AAEJ,eATD;AAWD,aAbD;AAcD;AACF;;;;;;;uBAlEUqM,iB,EAAiB,qJ,EAAA,0I,EAAA,uH,EAAA,2H;AAAA,K;;;YAAjBA,iB;AAAiB,mC;AAAA,e;AAAA,a;AAAA,sjC;AAAA;AAAA;ACZ9B;;AAA6B;;AAAQ;;AAErC;;AAA8B;AAAA,mBAAY,IAAAU,eAAA,EAAZ;AAA6B,WAA7B;;AAC1B;;AACI;;AACI;;AAA4B;;AAAM;;AAClC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA+B;;AAAS;;AACxC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACJ;;AACA;;AACI;;AAA2B;;AAAK;;AAChC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA+B;;AAAU;;AACzC;;AACA;;AAA8B;;AAAgB;;AAClD;;AACA;;AACI;;AAA+B;;AAAmB;;AAClD;;AACA;;AAA8B;;AAAgB;;AAClD;;AAEA;;AAA8C;;AAAW;;AAC7D;;;;AA9BM;;AAAA;;;;;;;;;sEDUOV,iB,EAAiB;cAL7B,uDAK6B;eALnB;AACThR,kBAAQ,EAAE,cADD;AAETC,qBAAW,EAAE,2BAFJ;AAGTC,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZ9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACSgC;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAHoF;;AAAA,oHAAiD,eAAjD,EAAiD,gCAAjD;;AAC5E;;AAAA;;;;;;AAIJ;;AACI;;AACJ;;;;;;AAF0F,oHAAiD,eAAjD,EAAiD,gCAAjD;;AACtF;;AAAA;;;;;;AAOhB;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;;;;;AALS;;AAAA;;AAAwD;;AAErD;;AAAA;;;;;;AAKR;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAJK;;AAAmD;;AAEhD;;AAAA;;;;;;AA5BpB;;AACI;;AACI;;AACI;;AACI;;AAKA;;AAMJ;;AACJ;;AAEA;;AAOA;;AAQJ;;AACJ;;;;;;;;;;AAhCyC;;AAAA;;AAEpB;;AAAA,mGAA8C,UAA9C,EAA8C,GAA9C;;AAcR;;AAAA,mGAA2C,UAA3C,EAA2C,GAA3C;;;;QDdhByR,gB;AAGX,gCAAoBjR,mBAApB,EAAqEC,cAArE,EAAoG;AAAA;;AAAhF,aAAAD,mBAAA,GAAAA,mBAAA;AAAiD,aAAAC,cAAA,GAAAA,cAAA;AAF9D,aAAAyL,KAAA,GAAmB,EAAnB;AAEgG;;;;mCAE/F;AACN,eAAKwF,UAAL;;AACA,cAAIvN,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK3D,cAAL,CAAoBiE,eAApB;AACD;AAEF;AAED;;;;;;qCAGU;AAAA;;AACR,eAAKlE,mBAAL,CAAyBmH,cAAzB,GAA0C/C,SAA1C,CAAoD,UAAAC,IAAI,EAAE;AACxD,mBAAI,CAACqH,KAAL,GAAarH,IAAb;AACD,WAFD;AAGD;;;;;;;uBApBU4M,gB,EAAgB,kJ,EAAA,uI;AAAA,K;;;YAAhBA,gB;AAAgB,kC;AAAA,e;AAAA,a;AAAA,igE;AAAA;AAAA;ACT7B;;AACI;;AAA6B;;AAAO;;AACpC;;AACI;;AACI;;AACI;;AAmCJ;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AACA;;AACA;;AACJ;;AACA;;AACI;;AACI;;AACA;;AACI;;AAA6B;;AAAM;;AACnC;;AAA4B;;AAAyC;;AACzE;;AACJ;;AACA;;AACI;;AACA;;AACI;;AAA6B;;AAAS;;AACtC;;AAA4B;;AAAqD;;AACrF;;AACJ;;AACA;;AACI;;AACA;;AACI;;AAA6B;;AAAiC;;AAC9D;;AAA4B;;AAA2B;;AAC3D;;AACJ;;AACJ;;AACA;;AACI;;AACA;;AAAsB;;AAAQ;;AAClC;;AACA;;AACI;;AACA;;AAAsB;;AAAI;;AAC9B;;AACJ;;AACJ;;AACJ;;AACJ;;;;AA/EqB;;AAAA;;;;;;;;;sEDIRA,gB,EAAgB;cAL5B,uDAK4B;eALlB;AACT3R,kBAAQ,EAAE,aADD;AAETC,qBAAW,EAAE,0BAFJ;AAGTC,mBAAS,EAAE,CAAC,yBAAD;AAHF,S;AAKkB,Q;;;;;;;;;;;;;;;;;;;;;;;;AET7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACMoB;;AACI;;AACJ;;;;;;AADS;;AAAA;;AAAyC;;;;;;AAFtD;;AACI;;AAGJ;;;;;;;;AAHS;;AAAA;;;;;;AAWG;;AAAyE;;AAAO;;;;;;;AAA7D,6FAA6B,KAA7B,EAA6B,aAA7B;;;;;;;;AAhB/C;;AACI;;AACI;;AACI;;AACI;;AAKJ;;AACA;;AACI;;AACI;;AAAuB;;AAAe;;AACtC;;AACI;;AAAY;AAAA;;AAAA;;AAAA;AAAA;;AACR;;AAGJ;;AACA;;AACA;;AAAK;;AAAY;;AAAG;;AAAe;;AAAI;;AAC3C;;AACA;;AACI;;AAAgC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAuC;;AAAO;;AAClF;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAzBqB;;AAAA;;AAQsB;;AAAA;;AAEP;;AAAA;;AAMQ;;AAAA;;;;;;AAgBxB;;AACI;;AACJ;;;;;;AADS;;AAAA;;AAAyC;;;;;;AAFtD;;AACI;;AAGJ;;;;;;;;AAHS;;AAAA;;;;;;AALzB;;AACI;;AACI;;AACI;;AACI;;AAKJ;;AACA;;AACI;;AACI;;AAAuB;;AAAe;;AACtC;;AACI;;AACI;;AACJ;;AACA;;AACA;;AAAK;;AAAY;;AAAG;;AAAsB;;AAAI;;AAClD;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AApBqB;;AAAA;;AAQsB;;AAAA;;AAGF;;AAAA;;AAGG;;AAAA;;;;QDrC/B2R,a;AAQX,6BAAoBnR,mBAApB,EAAqEC,cAArE,EAA4GC,MAA5G,EAA2H;AAAA;;AAAvG,aAAAF,mBAAA,GAAAA,mBAAA;AAAiD,aAAAC,cAAA,GAAAA,cAAA;AAAuC,aAAAC,MAAA,GAAAA,MAAA;AAPrG,aAAAkR,WAAA,GAAqB,CAArB;AACA,aAAAnF,SAAA,GAAmBtI,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAnB;AACA,aAAAyN,sBAAA,GAAoC,EAApC;AACA,aAAAC,wBAAA,GAAsC,EAAtC;AACA,aAAAC,yBAAA,GAAuC,EAAvC;AACA,aAAAnI,cAAA,GAA4B,EAA5B;AAIN;;;;mCAEO;AACN,cAAIzF,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAnC,IAA2CD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAAlF,EAAwF;AACtF,iBAAK4N,oBAAL;AACA,iBAAKC,sBAAL;AACA,iBAAKhI,aAAL;;AACA,iBAAKxJ,cAAL,CAAoBiE,eAApB;AACD,WALD,MAKO;AACL,iBAAKhE,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,EAAD,CAArB;AACD;AACF;AAGD;;;;;;wCAGa;AAAA;;AACX,eAAKjE,mBAAL,CAAyBkK,iBAAzB,GAA6C9F,SAA7C,CAAuD,UAAAC,IAAI,EAAE;AAC3D,mBAAI,CAAC+E,cAAL,GAAsB/E,IAAtB;AACD,WAFD;AAGD;AAED;;;;;;+CAGoB;AAAA;;AAClB,eAAKrE,mBAAL,CAAyB0R,wBAAzB,CAAkD,KAAKzF,SAAvD,EAAkE7H,SAAlE,CAA4E,UAAAC,IAAI,EAAE;AAChF,mBAAI,CAACgN,sBAAL,GAA8BhN,IAA9B;AACD,WAFD;AAGD;AAED;;;;;;iDAGsB;AAAA;;AACpB,eAAKrE,mBAAL,CAAyB2R,0BAAzB,CAAoD,KAAK1F,SAAzD,EAAoE7H,SAApE,CAA8E,UAAAC,IAAI,EAAE;AAClF,mBAAI,CAACiN,wBAAL,GAAgCjN,IAAhC;AACD,WAFD;AAGD;AAED;;;;;;;wCAIgBiB,M,EAAM;AACpB,cAAIjB,IAAI,GAAG;AACT,sBAAWiB,MADF;AAET,0BAAe,KAAK8L,WAFX;AAGT,yBAAc,KAAKnF;AAHV,WAAX;;AAKA,eAAKjM,mBAAL,CAAyB4R,qBAAzB,CAA+CvN,IAA/C,EAAqDD,SAArD,CAA+D,UAAAC,IAAI,EAAE,CAAE,CAAvE;;AACA,eAAKnE,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,MAAD,CAArB;AACD;;;;;;;uBA/DUkN,a,EAAa,kJ,EAAA,uI,EAAA,uH;AAAA,K;;;YAAbA,a;AAAa,+B;AAAA,c;AAAA,a;AAAA,2f;AAAA;AAAA;ACb1B;;AAA6B;;AAAa;;AAC1C;;AA+BA;;;;AA/BK;;AAAA;;AA+BA;;AAAA;;;;;;;;;sEDnBQA,a,EAAa;cALzB,uDAKyB;eALf;AACT7R,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,uBAFJ;AAGTC,mBAAS,EAAE,CAAC,sBAAD;AAHF,S;AAKe,Q;;;;;;;;;;;;;;;;;;;;;;;;;;AEb1B;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAMqS,WAAW,GAAG;AACzBC,gBAAU,EAAE;AADa,KAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBC,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAItL,OAAO,CAACuL,KAAR,CAAcD,GAAd,CAAJ;AAAA,KADZ;;;;;;;;;;;;;;;;;ACVA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaE,kB;AAKT,kCAAoBC,IAApB,EAAsC;AAAA;;AAAlB,aAAAA,IAAA,GAAAA,IAAA;AAChB,aAAKC,GAAL,GAAW,uBAAX;AACA,aAAKC,aAAL,GAAqB,0BAArB;AAEH;AAED;;;;;;;;;;wCAMgB3E,Q,EAAS5B,Q,EAAQ;AAC7B,cAAIzH,IAAI,GAAG;AACP,wBAAayH,QADN;AAEP,wBAAa4B;AAFN,WAAX;AAIA,iBAAO,KAAKyE,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,WAAxB,EAAqC/N,IAArC,CAAP;AACH;AAED;;;;;;;yCAIc;AACV,iBAAO,KAAK8N,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,UAAvB,CAAP;AACH;AAED;;;;;;;2CAIgB;AACZ,iBAAO,KAAKD,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,YAAvB,CAAP;AACH;AAED;;;;;;;0CAIe;AACX,iBAAO,KAAKD,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,qBAAvB,CAAP;AACH;AAED;;;;;;;4CAIiB;AACb,iBAAO,KAAKD,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,aAAvB,CAAP;AACH;AAED;;;;;;;uCAIY;AACR,iBAAO,KAAKD,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,cAAvB,CAAP;AACH;AAED;;;;;;;yCAIiBvB,Y,EAAY;AACzB,iBAAO,KAAKsB,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,oBAAxB,EAA6CvB,YAA7C,CAAP;AACH,S,CAED;AACA;;AACA;;;;;;;0CAIkBxM,I,EAAI;AAClB,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,gBAAxB,EAAyC/N,IAAzC,CAAP;AACH;AAED;;;;;;;+CAIuBA,I,EAAI;AACvB,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,qBAAxB,EAA8C/N,IAA9C,CAAP;AACH;AAED;;;;;;;6CAIqBiB,M,EAAM;AACvB,cAAI7E,QAAQ,GAAG;AACX,sBAAW6E;AADA,WAAf;AAIA,iBAAO,KAAK6M,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,mBAAxB,EAA4C3R,QAA5C,CAAP;AACH,S,CAED;;AAEA;;;;;;;0CAIe;AACX,iBAAO,KAAK0R,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,SAAvB,CAAP;AACH;AAED;;;;;;;wCAIgB/N,I,EAAI;AAChB,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,aAAxB,EAAsC/N,IAAtC,CAAP;AACH;AAED;;;;;;;6CAIqBA,I,EAAI;AACrB,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,kBAAxB,EAA2C/N,IAA3C,CAAP;AACH;AAED;;;;;;;2CAImB6C,Y,EAAY;AAC3B,cAAI7C,IAAI,GAAG;AACP,sBAAW6C;AADJ,WAAX;AAGA,iBAAO,KAAKiL,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,gBAAxB,EAAyC/N,IAAzC,CAAP;AACH,S,CAED;;AAEA;;;;;;;wCAIgBA,I,EAAI;AAChB,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,cAAxB,EAAuC/N,IAAvC,CAAP;AACH;AAED;;;;;;;6CAIqBA,I,EAAI;AACrB,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,mBAAxB,EAA4C/N,IAA5C,CAAP;AACH;AAED;;;;;;;2CAImBsD,a,EAAa;AAC5B,cAAItD,IAAI,GAAG;AACP,wBAAasD;AADN,WAAX;AAGA,iBAAO,KAAKwK,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,iBAAxB,EAA0C/N,IAA1C,CAAP;AACH,S,CAED;;AAEA;;;;;;;;iDAKyBkO,O,EAAO;AAC5B,iBAAO,KAAKJ,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,qBAAT,GAA+BG,OAA7C,CAAP;AACH;AAED;;;;;;;;mDAK2BA,O,EAAO;AAC9B,iBAAO,KAAKJ,IAAL,CAAU3N,GAAV,CAAc,KAAK4N,GAAL,GAAS,uBAAT,GAAiCG,OAA/C,CAAP;AACH;AAED;;;;;;;8CAIsBlO,I,EAAI;AACtB,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,qBAAxB,EAA8C/N,IAA9C,CAAP;AACH,S,CAGD;;AAEA;;;;;;;4CAIiB;AACb,iBAAO,KAAK8N,IAAL,CAAU3N,GAAV,CAAc,KAAK6N,aAAnB,CAAP;AACH,S,CAED;;AACA;;;;;;;;uCAKetL,Y,EAAY;AACvB,cAAI1C,IAAI,GAAG;AACP,4BAAiB0C;AADV,WAAX;AAGA,iBAAO,KAAKoL,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,UAAxB,EAAmC/N,IAAnC,CAAP;AACH;AAED;;;;;;;qCAIaA,I,EAAI;AACb,iBAAO,KAAK8N,IAAL,CAAUG,IAAV,CAAe,KAAKF,GAAL,GAAS,oBAAxB,EAA6C/N,IAA7C,CAAP;AACH;;;;;;;uBAnOQ6N,kB,EAAkB,uH;AAAA,K;;;aAAlBA,kB;AAAkB,eAAlBA,kBAAkB,K;AAAA,kBAFN;;;;;sEAEZA,kB,EAAkB;cAF9B,wDAE8B;eAFnB;AAACM,oBAAU,EAAE;AAAb,S;AAEmB,Q;;;;;;;;;;;;;;;;;;;;;;ACN/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaC,a;AACT,6BAAoBvS,MAApB,EAAmC;AAAA;;AAAf,aAAAA,MAAA,GAAAA,MAAA;AAEnB;AAED;;;;;;;0CAGe;AACX,cAAGyD,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,IAApC,EAAyC;AACrCc,oBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCmD,KAAzC,CAA+CC,OAA/C,GAAuD,MAAvD;AACArD,oBAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCmD,KAApC,CAA0CC,OAA1C,GAAkD,MAAlD;AACArD,oBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CK,WAA9C,GAA2D,UAAQrB,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAnE;AACAc,oBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CmD,KAA9C,CAAoDC,OAApD,GAA4D,QAA5D;AACArD,oBAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCmD,KAAvC,CAA6CC,OAA7C,GAAqD,QAArD;AACH;;AACD,cAAGpE,cAAc,CAACC,OAAf,CAAuB,MAAvB,KAAgC,MAAnC,EAA0C;AACtCc,oBAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8C+N,YAA9C,CAA2D,MAA3D,EAAkE,OAAlE;AACH;AACJ;AAED;;;;;;uCAGY;AAAA;;AACR1K,qBAAW,CAAC,YAAI;AACZrE,0BAAc,CAACoN,KAAf;;AACA,mBAAI,CAAC7Q,MAAL,CAAY+D,QAAZ,CAAqB,CAAC,EAAD,CAArB;AACH,WAHU,CAAX;AAKH;;;;;;;uBA9BQwO,a,EAAa,8G;AAAA,K;;;aAAbA,a;AAAa,eAAbA,aAAa,K;AAAA,kBAFD;;;;;sEAEZA,a,EAAa;cAFzB,wDAEyB;eAFd;AAACD,oBAAU,EAAE;AAAb,S;AAEc,Q","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IndexComponent } from './index/index.component';\nimport { CarteleraComponent } from './cartelera/cartelera.component';\nimport { TarifasComponent } from './tarifas/tarifas.component';\nimport { ContactoComponent } from './contacto/contacto.component';\nimport { RegistroComponent } from './registro/registro.component';\nimport { IniciosesionComponent } from './iniciosesion/iniciosesion.component';\nimport { AuthComponent } from './auth/auth.component';\nimport { UserComponent } from './user/user.component';\nimport { CierrasesionComponent } from './cierrasesion/cierrasesion.component';\nimport { PagoComponent } from './pago/pago.component';\nimport { FotoComponent } from './foto/foto.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IndexComponent\n  },\n  {\n    path: 'cartelera',\n    component: CarteleraComponent\n  },\n  {\n    path: 'tarifas',\n    component: TarifasComponent\n  },\n  {\n    path: 'contacto',\n    component: ContactoComponent\n  },\n  {\n    path: 'registro',\n    component: RegistroComponent\n  },\n  {\n    path: 'iniciosesion',\n    component: IniciosesionComponent\n  },\n  {\n    path: 'cierrasesion',\n    component: CierrasesionComponent\n  },\n  {\n    path: 'auth',\n    component: AuthComponent\n  },\n  {\n    path: 'user',\n    component: UserComponent\n  },\n  {\n    path: 'pago',\n    component: PagoComponent\n  },\n  {\n    path: 'foto',\n    component: FotoComponent\n  },\n  {\n    path: '**',\n    component: IndexComponent\n  }\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent {\n  title = 'cineCliente';\n}\n","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { LOCALE_ID, NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport localeEs  from '@angular/common/locales/es';\nimport { ShowHidePasswordModule } from 'ngx-show-hide-password';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CarteleraComponent } from './cartelera/cartelera.component';\nimport { TarifasComponent } from './tarifas/tarifas.component';\nimport { RegistroComponent } from './registro/registro.component';\nimport { IniciosesionComponent } from './iniciosesion/iniciosesion.component';\nimport { IndexComponent } from './index/index.component';\nimport { ContactoComponent } from './contacto/contacto.component';\nimport { AuthComponent } from './auth/auth.component';\nimport { UserComponent } from './user/user.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { RatingModule } from 'ng-starrating';\nimport { registerLocaleData } from '@angular/common';\nimport { CierrasesionComponent } from './cierrasesion/cierrasesion.component';\nimport { PagoComponent } from './pago/pago.component';\nimport { FotoComponent } from './foto/foto.component';\n\nregisterLocaleData(localeEs, 'es');\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CarteleraComponent,\n    TarifasComponent,\n    RegistroComponent,\n    IniciosesionComponent,\n    IndexComponent,\n    ContactoComponent,\n    AuthComponent,\n    UserComponent,\n    CierrasesionComponent,\n    PagoComponent,\n    FotoComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgbModule,\n    RatingModule,\n    ShowHidePasswordModule\n  ],\n  providers: [{ provide: LOCALE_ID, useValue: 'es' }],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from '../../servicios/peticiones.servicio';\nimport { UsuarioSesion } from 'src/servicios/usuarioSesion';\nimport { Pelicula } from '../model/Pelicula';\nimport { Proyeccion } from '../model/Proyeccion';\nimport { Tarifa } from '../model/Tarifa';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\n\nexport class AuthComponent implements OnInit {\n  public listaSalas:Array<any> = [];\n  public listaGenero = new Array('Acción','Aventura','Comedia','Fantasía','Drama','Suspense','Infantil','Ciencia ficción','Miedo');\n  public listaCalificacion = new Array('TP','+7','+12','+16','+18');\n\n  // Gestión de Películas\n  public listaPeliculas:Array<any> = [];\n  public pelicula = new Pelicula(\"\",\"\",\"\",\"\",\"\",\"\",new Date(),\"\");\n  public peliculaBorrada:string;\n  public peliculaAModificar:string;\n  public faddpelicula: FormGroup;\n  public fmodpelicula: FormGroup;\n\n  // Gestión de proyecciones\n  public listaSesion:Array<any> = [];\n  public listaSesionDia:Array<any> = [];\n  public listaFechaSesion:Array<any> = [];\n  public proyeccion = new Proyeccion(\"\",new Date(),\"\",\"\",\"\",\"\");\n  public fechaSelectSesion:string;\n  public selectSesion:string;\n  public fechaBorrarSesion:string;\n  public borrarSesion:string;\n  public faddsesion: FormGroup;\n  public fmodsesion: FormGroup;\n\n  // Gestión de tarifas\n  public listaTarifas:Array<any> = [];\n  public tarifa = new Tarifa(\"\",\"\",\"\",-1);\n  public tarifaBorrada:string;\n  public tarifaSeleccionada:string;\n  public faddtarifa: FormGroup;\n  public fmodtarifa: FormGroup;\n\n  /**\n   * Constructor\n   * @param _peticionesServicio \n   * @param _usuarioSesion \n   * @param router \n   * @param fb \n   */\n  constructor(private _peticionesServicio: PeticionesServicio,private _usuarioSesion: UsuarioSesion, private router:Router, private fb: FormBuilder) {\n    this.faddpelicula = this.fb.group({\n      tituloPeliculaAP: ['',Validators.required],\n      anyoPeliculaAP: ['',[Validators.required,Validators.pattern(/^(19\\d{2}|20[0-2]\\d|2030)$/)]],\n      paisPeliculaAP: ['',Validators.required],\n      generoPeliculaAP: ['',Validators.required],\n      calificacionPeliculaAP: ['',Validators.required],\n      duracionPeliculaAP: ['',[Validators.required,Validators.min(0)]],\n      estrenoPeliculaAP: ['',Validators.required],\n      sinopsisPeliculaAP: ['',Validators.required]\n    });\n\n    this.fmodpelicula = this.fb.group({\n      tituloPeliculaMP: ['',Validators.required],\n      anyoPeliculaMP: ['',[Validators.required,Validators.pattern(/^(19\\d{2}|20[0-2]\\d|2030)$/)]],\n      paisPeliculaMP: ['',Validators.required],\n      generoPeliculaMP: ['',Validators.required],\n      calificacionPeliculaMP: ['',Validators.required],\n      duracionPeliculaMP: ['',[Validators.required,Validators.min(0)]],\n      estrenoPeliculaMP: ['',Validators.required],\n      sinopsisPeliculaMP: ['',Validators.required]\n    });\n\n    this.faddsesion = this.fb.group({\n      fechaSesionAS: ['',Validators.required],\n      horaSesionAS: ['',Validators.required],\n      tituloPeliculaAS: ['',Validators.required],\n      salaSesionAS: ['',Validators.required],\n      tarifaSesionAS: ['',Validators.required]\n    });\n\n    this.fmodsesion = this.fb.group({\n      fechaSesionMS: ['',Validators.required],\n      horaSesionMS: ['',Validators.required],\n      tituloPeliculaMS: ['',Validators.required],\n      salaSesionMS: ['',Validators.required],\n      tarifaSesionMS: ['',Validators.required]\n    });\n\n    this.faddtarifa = this.fb.group({\n      nombreTarifaAT: ['',Validators.required],\n      descripcionTarifaAT: ['',Validators.required],\n      precioTarifaAT: ['',[Validators.required,Validators.min(0)]]\n    });\n\n    this.fmodtarifa = this.fb.group({\n      nombreTarifaMT: ['',Validators.required],\n      descripcionTarifaMT: ['',Validators.required],\n      precioTarifaMT: ['',[Validators.required,Validators.min(0)]]\n    });\n  }\n\n  ngOnInit(): void {\n    if (sessionStorage.getItem('role')==\"true\") {\n      this.getTodasPeliculas();\n      this.getTodasSesiones();\n      this.getTodasTarifas();\n      this.getTodasSalas();\n    } else {\n      this.router.navigate(['']);\n    }\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this._usuarioSesion.comprobarSesion();\n    }\n  }\n\n  /**\n   *  Obtiene todas las salas\n   *  @param sin parámetros\n   *  @returns  devuelve una lista con todas las salas\n   */\n  getTodasSalas(){\n    this._peticionesServicio.getSalasJSON().subscribe(data=>{\n      this.listaSalas = data;\n    });\n  }\n\n  /**\n   *  Obtiene todas las películas\n   *  @param sin parámetros\n   *  @returns  devuelve una lista con todas las películas\n   */\n  getTodasPeliculas(){\n    this._peticionesServicio.getPeliculaJSON().subscribe(data=>{\n      this.listaPeliculas = data;\n    });  \n  }\n\n  /**\n   *  Envía la información necesaria para crear una película en la base de datos\n   *  @param sin parámetros\n   *  @returns  No devuelve nada\n   */\n  addPelicula(){\n    if (this.faddpelicula.invalid) {\n      if(this.faddpelicula.get('tituloPeliculaAP').hasError('required')){\n        document.getElementById('tituloPeliculaAP').classList.add('is-invalid');\n      } else {\n        document.getElementById('tituloPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddpelicula.get('anyoPeliculaAP').hasError('required') || this.faddpelicula.get('anyoPeliculaAP').hasError('pattern')){\n        document.getElementById('anyoPeliculaAP').classList.add('is-invalid');\n        if (this.faddpelicula.get('anyoPeliculaAP').hasError('pattern')) {\n          document.getElementById('anyoPeliculaAP').nextSibling.textContent='Año no válido';\n        }\n      } else {\n        document.getElementById('anyoPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n      \n      if(this.faddpelicula.get('paisPeliculaAP').hasError('required')){\n        document.getElementById('paisPeliculaAP').classList.add('is-invalid');\n      } else {\n        document.getElementById('paisPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddpelicula.get('generoPeliculaAP').hasError('required')){\n        document.getElementById('generoPeliculaAP').classList.add('is-invalid');\n      } else {\n        document.getElementById('generoPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddpelicula.get('calificacionPeliculaAP').hasError('required')){\n        document.getElementById('calificacionPeliculaAP').classList.add('is-invalid');\n      } else {\n        document.getElementById('calificacionPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddpelicula.get('duracionPeliculaAP').hasError('required') || this.faddpelicula.get('duracionPeliculaAP').hasError('min')){\n        document.getElementById('duracionPeliculaAP').classList.add('is-invalid');\n      } else {\n        document.getElementById('duracionPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddpelicula.get('estrenoPeliculaAP').hasError('required')){\n        document.getElementById('estrenoPeliculaAP').classList.add('is-invalid');\n      } else {\n        document.getElementById('estrenoPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddpelicula.get('sinopsisPeliculaAP').hasError('required')){\n        document.getElementById('sinopsisPeliculaAP').classList.add('is-invalid');\n      } else {\n        document.getElementById('sinopsisPeliculaAP').classList.replace('is-invalid','is-valid')\n      }\n    }else {  \n      let data ={\n        'titulo' : this.faddpelicula.value.tituloPeliculaAP,\n        'anyo' : this.faddpelicula.value.anyoPeliculaAP,\n        'pais' : this.faddpelicula.value.paisPeliculaAP,\n        'genero' : this.faddpelicula.value.generoPeliculaAP,\n        'calificacion' : this.faddpelicula.value.calificacionPeliculaAP,\n        'duracion' : this.faddpelicula.value.duracionPeliculaAP,\n        'estreno' : this.faddpelicula.value.estrenoPeliculaAP,\n        'sinopsis' : this.faddpelicula.value.sinopsisPeliculaAP\n      }\n      this._peticionesServicio.addPeliculaServer(data).subscribe();\n\n      this.refrescar(\"botonAddPelicula\",\"botonAddPelicula2\");\n    }  \n  }\n\n  /**\n   *  Borra una película\n   *  @param peliculaBorrada\n   *  @returns  recarga la página cuando borra la película\n   */\n  deletePelicula(peliculaBorrada){\n    this._peticionesServicio.deletePeliculaServer(peliculaBorrada).subscribe(data=>{});\n\n    this.refrescar(\"botonBorraPelicula\",\"botonBorraPelicula2\");\n  }\n  /**\n   * Modifica una película\n   * @param sin parámetros\n   * @returns recarga la página cuando actualiza la película\n   */\n  modificaPelicula(){\n\n    if (this.fmodpelicula.invalid) {\n      if(this.fmodpelicula.get('tituloPeliculaMP').hasError('required')){\n        this.fmodpelicula.value.tituloPeliculaMP = this.pelicula.titulo;\n      }\n      if(this.fmodpelicula.get('anyoPeliculaMP').hasError('required') || this.fmodpelicula.get('anyoPeliculaMP').hasError('pattern')){\n        this.fmodpelicula.value.anyoPeliculaMP = this.pelicula.anyo;\n        if (this.fmodpelicula.get('anyoPeliculaMP').hasError('pattern')) {\n          document.getElementById('anyoPeliculaMP').classList.add('is-invalid');\n        }\n      }\n      if(this.fmodpelicula.get('paisPeliculaMP').hasError('required')){\n        this.fmodpelicula.value.paisPeliculaMP = this.pelicula.pais;\n      }\n      if(this.fmodpelicula.get('generoPeliculaMP').hasError('required')){\n        this.fmodpelicula.value.generoPeliculaMP = this.pelicula.genero;\n      }\n      if(this.fmodpelicula.get('calificacionPeliculaMP').hasError('required')){\n        this.fmodpelicula.value.calificacionPeliculaMP = this.pelicula.calificacion;\n      }\n      if(this.fmodpelicula.get('duracionPeliculaMP').hasError('required') || this.fmodpelicula.get('duracionPeliculaMP').hasError('min')){\n        this.fmodpelicula.value.duracionPeliculaMP = this.pelicula.duracion;\n        if (this.fmodpelicula.get('duracionPeliculaMP').hasError('min')) {\n          document.getElementById('duracionPeliculaMP').classList.add('is-invalid');\n        }\n      }\n      if(this.fmodpelicula.get('estrenoPeliculaMP').hasError('required')){\n        this.fmodpelicula.value.estrenoPeliculaMP = this.pelicula.estreno;\n      }\n      if(this.fmodpelicula.get('sinopsisPeliculaMP').hasError('required')){\n        this.fmodpelicula.value.sinopsisPeliculaMP = this.pelicula.sinopsis;\n      }\n    }\n    if (!this.fmodpelicula.get('anyoPeliculaMP').hasError('pattern') && !this.fmodpelicula.get('duracionPeliculaMP').hasError('min')) {\n      let data ={\n        'titulo' : this.peliculaAModificar,\n        'tituloNuevo' : this.fmodpelicula.value.tituloPeliculaMP,\n        'anyo' : this.fmodpelicula.value.anyoPeliculaMP,\n        'pais' : this.fmodpelicula.value.paisPeliculaMP,\n        'genero' : this.fmodpelicula.value.generoPeliculaMP,\n        'calificacion' : this.fmodpelicula.value.calificacionPeliculaMP,\n        'duracion' : this.fmodpelicula.value.duracionPeliculaMP,\n        'estreno' : this.fmodpelicula.value.estrenoPeliculaMP,\n        'sinopsis' : this.fmodpelicula.value.sinopsisPeliculaMP\n      }\n      this._peticionesServicio.modificaPeliculaServer(data).subscribe();\n\n      this.refrescar(\"botonModificaPelicula\",\"botonModificaPelicula2\");\n    }\n\n  }\n\n  /**\n   *  Devuelve un objeto película que se usa paara cargar el formulario de modificación rellenando los datos\n   *  @param peliculaAModificar titulo de la pelicula que se desea modificar\n   *  @returns  pelicula  Objeto del tipo Pelicula\n   */\n  selectPelicula(peliculaAModificar){\n    this.listaPeliculas.forEach(element => {\n      if (element['titulo'] == peliculaAModificar ) {\n        this.pelicula = new Pelicula(element['titulo'],element['anyo'],element['pais'],element['genero'],element['calificacion'],element['duracion'],element['estreno'],element['sinopsis']);\n        document.getElementById(\"fmodpelicula\").removeAttribute(\"hidden\"); // muestra el formulario una vez a sido seleccionada la película a modificar\n      }\n    });\n\n  }\n\n  // Sesiones - Proyección\n\n  /**\n   * Crea una lista con la fecha de todas las proyecciones\n   * @param sin parámetros\n   * @returns lista con la fecha de todas las proyecciones\n   */\n  getTodasSesiones(){\n    this._peticionesServicio.getSesionesJSON().subscribe(data=>{\n      this.listaSesion = data;\n      this.listaSesion.forEach(element => {\n        if (!this.listaFechaSesion.includes(element['fecha'])) {\n          this.listaFechaSesion.push(element['fecha']);\n        }\n      });\n    });\n  }\n\n  /**\n   * Crea una lista con las sesiones de ese día\n   * @param fecha\n   * @returns no devuelve nada \n   */\n  muestraSesion(fecha){\n    this.listaSesionDia=[]; //Refresco de lista para el cambio del día\n    Date.parse(fecha);\n    this.listaSesion.forEach(element => {\n      if(element['fecha']  == fecha){\n        this.listaSesionDia.push(element);\n      }\n    });\n  }\n\n  /**\n   * Selecciona la sesión que quieres modificar, para rellenar los campos del formulario y modificar lo que desees\n   * @param sin parámetros\n   * @returns\n   */\n  seleccionaSesion(){ \n    this.listaSesion.forEach(element => {\n      if (element['idProyeccion'] == this.selectSesion ) {\n        this.proyeccion = new Proyeccion(element['idProyeccion'],element['fecha'],element['hora'],element['titulo'],element['idSala'],element['idTarifa']);\n        document.getElementById(\"fmodsesion\").removeAttribute(\"hidden\"); // muestra el formulario una vez a sido seleccionada la sesion a modificar\n      }\n    });\n  } \n  /**\n   * Envía la información necesaria para crear una sesión en la base de datos\n   * @param sin parametros\n   */\n  addSesion(){\n    if (this.faddsesion.invalid) {\n      if(this.faddsesion.get('tituloPeliculaAS').hasError('required')){\n        document.getElementById('tituloPeliculaAS').classList.add('is-invalid');\n      } else {\n        document.getElementById('tituloPeliculaAS').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddsesion.get('fechaSesionAS').hasError('required')){\n        document.getElementById('fechaSesionAS').classList.add('is-invalid');\n      } else {\n        document.getElementById('fechaSesionAS').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddsesion.get('horaSesionAS').hasError('required')){\n        document.getElementById('horaSesionAS').classList.add('is-invalid');\n      } else {\n        document.getElementById('horaSesionAS').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddsesion.get('salaSesionAS').hasError('required')){\n        document.getElementById('salaSesionAS').classList.add('is-invalid');\n      } else {\n        document.getElementById('salaSesionAS').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddsesion.get('tarifaSesionAS').hasError('required')){\n        document.getElementById('tarifaSesionAS').classList.add('is-invalid');\n      } else {\n        document.getElementById('tarifaSesionAS').classList.replace('is-invalid','is-valid')\n      }\n\n    }else {\n      let data ={\n        'titulo' : this.faddsesion.value.tituloPeliculaAS,\n        'fecha' : this.faddsesion.value.fechaSesionAS,\n        'hora' : this.faddsesion.value.horaSesionAS,\n        'idSala' : this.faddsesion.value.salaSesionAS,\n        'idTarifa' : this.faddsesion.value.tarifaSesionAS\n      }\n      this._peticionesServicio.addSesionServer(data).subscribe();\n\n      this.refrescar(\"botonAddSesion\",\"botonAddSesion2\");\n    }\n  }\n  /**\n   * Envía la información necesaria para modificar una sesión en la base de datos\n   * @param sin parametros\n   */\n  modificaSesion(){\n    console.log(this.fmodsesion.value.salaSesionMS);\n    if (this.fmodsesion.invalid) {\n      if(this.fmodsesion.get('tituloPeliculaMS').hasError('required')){\n        this.fmodsesion.value.tituloPeliculaMS = this.proyeccion.titulo;\n      }\n      if(this.fmodsesion.get('fechaSesionMS').hasError('required')){\n        this.fmodsesion.value.fechaSesionMS = this.proyeccion.fecha;\n      }\n      if(this.fmodsesion.get('horaSesionMS').hasError('required')){\n        this.fmodsesion.value.horaSesionMS = this.proyeccion.hora;\n      }\n      if(this.fmodsesion.get('salaSesionMS').hasError('required')){\n        this.fmodsesion.value.salaSesionMS = this.proyeccion.idSala;\n      }\n      if(this.fmodsesion.get('tarifaSesionMS').hasError('required')){\n        this.fmodsesion.value.tarifaSesionMS = this.proyeccion.idTarifa;\n      }\n    }\n    let data ={\n      'idProyeccion' : this.proyeccion.idProyeccion,\n      'titulo' : this.fmodsesion.value.tituloPeliculaMS,\n      'fecha' : this.fmodsesion.value.fechaSesionMS,\n      'hora' : this.fmodsesion.value.horaSesionMS,\n      'idSala' : this.fmodsesion.value.salaSesionMS,\n      'idTarifa' : this.fmodsesion.value.tarifaSesionMS\n    }\n    this._peticionesServicio.modificaSesionServer(data).subscribe();\n\n    this.refrescar(\"botonModificaSesion\",\"botonModificaSesion2\");\n\n  }\n\n  /**\n   * Envía la información necesaria para borrar una sesión en la base de datos\n   * @param sin parametros\n   */\n  deleteSesion(){\n    this._peticionesServicio.deleteSesionServer(this.borrarSesion).subscribe();\n\n    this.refrescar(\"botonBorraSesion\",\"botonBorraSesion2\");\n  }\n\n  // Tarifas\n  /**\n   * Obtiene todas las tarifas y las carga en una lista\n   * @param sin parametros\n   */\n  getTodasTarifas(){\n    this._peticionesServicio.getTarifasJSON().subscribe(data=>{\n      this.listaTarifas = data;\n    });\n\n  }\n\n  /**\n   * Selecciona una tarifa y carga una lista con los datos para ser cargados en un formulario\n   * @param sin parametros\n   */\n  selectTarifa() {\n    this.listaTarifas.forEach(element => {\n      if (element['idTarifa'] == this.tarifaSeleccionada ) {\n        this.tarifa = new Tarifa(element['idTarifa'],element['nombre'],element['descripcion'],element['precio']);\n        document.getElementById(\"fmodtarifa\").removeAttribute(\"hidden\"); // muestra el formulario una vez a sido seleccionada la sesion a modificar\n      }\n    });\n  }\n\n  /**\n   * Envía la información necesaria para añadir una tarifa en la base de datos\n   * @param sin parametros\n   */\n  addTarifa(){\n    if (this.faddtarifa.invalid) {\n      if(this.faddtarifa.get('nombreTarifaAT').hasError('required')){\n        document.getElementById('nombreTarifaAT').classList.add('is-invalid');\n      } else {\n        document.getElementById('nombreTarifaAT').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddtarifa.get('descripcionTarifaAT').hasError('required')){\n        document.getElementById('descripcionTarifaAT').classList.add('is-invalid');\n      } else {\n        document.getElementById('descripcionTarifaAT').classList.replace('is-invalid','is-valid')\n      }\n      if(this.faddtarifa.get('precioTarifaAT').hasError('required') || this.faddtarifa.get('precioTarifaAT').hasError('min')){\n        document.getElementById('precioTarifaAT').classList.add('is-invalid');\n      } else {\n        document.getElementById('precioTarifaAT').classList.replace('is-invalid','is-valid')\n      }\n      \n    } else {\n      let data ={\n        'nombre' : this.faddtarifa.value.nombreTarifaAT,\n        'descripcion' : this.faddtarifa.value.descripcionTarifaAT,\n        'precio' : this.faddtarifa.value.precioTarifaAT\n      }\n      this._peticionesServicio.addTarifaServer(data).subscribe();\n\n      this.refrescar(\"botonAddTarifa\",\"botonAddTarifa2\");\n    }\n  }\n\n  /**\n   * Envía la información necesaria para modificar una tarifa en la base de datos\n   * @param sin parametros\n   */\n  modificaTarifa(){\n    if (this.fmodtarifa.invalid) {\n      if(this.fmodtarifa.get('nombreTarifaMT').hasError('required')){\n        this.fmodtarifa.value.nombreTarifaMT = this.tarifa.nombre;\n      }\n      if(this.fmodtarifa.get('descripcionTarifaMT').hasError('required')){\n        this.fmodtarifa.value.descripcionTarifaMT = this.tarifa.descripcion;\n      }\n      if(this.fmodtarifa.get('precioTarifaMT').hasError('required') || this.fmodtarifa.get('precioTarifaMT').hasError('min')){\n        this.fmodtarifa.value.precioTarifaMT = this.tarifa.precio;\n        if (this.fmodtarifa.get('precioTarifaMT').hasError('min')) {\n          document.getElementById('precioTarifaMT').classList.add('is-invalid');\n        }\n      }    \n    } \n    if(!this.fmodtarifa.get('precioTarifaMT').hasError('min')){\n      let data ={\n        'nombre' : this.fmodtarifa.value.nombreTarifaMT,\n        'descripcion' : this.fmodtarifa.value.descripcionTarifaMT,\n        'precio' : this.fmodtarifa.value.precioTarifaMT,\n        'idTarifa' : this.tarifa.idTarifa\n      }\n      this._peticionesServicio.modificaTarifaServer(data).subscribe();\n\n      this.refrescar(\"botonModTarifa\",\"botonModTarifa2\");\n    }\n\n  }\n  \n  /**\n   * Envía la información necesaria para eliminar una tarifa en la base de datos\n   * @param sin parametros\n   */\n  deleteTarifa(){\n    this._peticionesServicio.deleteTarifaServer(this.tarifaBorrada).subscribe();\n    \n    this.refrescar(\"botonBorraTarifa\",\"botonBorraTarifa2\");\n  }\n\n  /**\n   * Genera un refresco de pantalla cuando hemos realizado una acción CRUD\n   * @param boton \n   * @param boton2 \n   */\n  refrescar(boton,boton2){\n    document.getElementById(boton).style.display=\"none\";\n    document.getElementById(boton2).style.display=\"inline\";\n    setInterval(() => {\n      window.location.reload();\n    },2000);\n  }\n}\n","<h1 class=\"text-center my-5\">Administración</h1>\n<nav>\n    <div class=\"nav nav-tabs\" id=\"nav-tab-admin\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-peliculas-tab\" data-toggle=\"tab\" href=\"#nav-peliculas\" role=\"tab\" aria-controls=\"nav-peliculas\" aria-selected=\"true\">Películas</a>\n        <a class=\"nav-item nav-link\" id=\"nav-sesiones-tab\" data-toggle=\"tab\" href=\"#nav-sesiones\" role=\"tab\" aria-controls=\"nav-sesiones\" aria-selected=\"false\">Sesiones</a>\n        <a class=\"nav-item nav-link\" id=\"nav-tarifas-tab\" data-toggle=\"tab\" href=\"#nav-tarifas\" role=\"tab\" aria-controls=\"nav-tarifas\" aria-selected=\"false\">Tarifas</a>\n    </div>\n</nav>\n<div class=\"tab-content\" id=\"nav-tab-adminContent\">\n\n    <!-- Administración de Películas -->\n    <div class=\"tab-pane fade show active\" id=\"nav-peliculas\" role=\"tabpanel\" aria-labelledby=\"nav-peliculas-tab\">\n        <div class=\"accordion col-md-6 mr-auto ml-auto my-5\" id=\"accordionPeliculas\">\n            <!-- Comienzo de Añadir películas -->\n            <div class=\"card\">\n                <div class=\"card-header bg-dark\" id=\"headingOnePeliculas\">\n                    <h2 class=\"mb-0\">\n                        <button class=\"btn btn-link btn-block text-left text-white font-weight-bold\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOnePeliculas\" aria-expanded=\"true\" aria-controls=\"collapseOnePeliculas\">\n                            Añadir\n                        </button>\n                    </h2>\n                </div>\n        \n                <div id=\"collapseOnePeliculas\" class=\"collapse show\" aria-labelledby=\"headingOnePeliculas\" data-parent=\"#accordionPeliculas\">\n                    <div class=\"card-body\">\n                        <form [formGroup]=\"faddpelicula\" (ngSubmit)=\"addPelicula()\"><!--titulo, anyo, pais, genero, calificacion, duracion, estreno, sinopsis-->\n                            <div class=\"form-group\">\n                                <label for=\"tituloPeliculaAP\">Título</label>\n                                <input type=\"text\" class=\"form-control\" formControlName=\"tituloPeliculaAP\" id=\"tituloPeliculaAP\">\n                                <div class=\"invalid-feedback\">Rellene el campo</div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"anyoPeliculaAP\">Año</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"anyoPeliculaAP\" id=\"anyoPeliculaAP\" maxlength=\"4\">\n                                    <div class=\"invalid-feedback\">Rellene el campo</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"paisPeliculaAP\">País</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"paisPeliculaAP\" id=\"paisPeliculaAP\">\n                                    <div class=\"invalid-feedback\">Rellene el campo</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"generoPeliculaAP\">Género</label>\n                                    <select formControlName=\"generoPeliculaAP\" id=\"generoPeliculaAP\" class=\"form-control\">\n                                        <option *ngFor=\"let item of this.listaGenero\" value='{{item}}'>{{item}}</option>\n                                    </select>\n                                    <div class=\"invalid-feedback\">Seleccione un campo</div>\n                                </div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"calificacionPeliculaAP\">Calificación</label>\n                                    <select formControlName=\"calificacionPeliculaAP\" id=\"calificacionPeliculaAP\" class=\"form-control\">\n                                        <option *ngFor=\"let item of this.listaCalificacion\" value='{{item}}'>{{item}}</option>\n                                    </select>\n                                    <div class=\"invalid-feedback\">Seleccione un campo</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"duracionPeliculaAP\">Duración</label>\n                                    <input type=\"number\" min=\"0\" class=\"form-control\" formControlName=\"duracionPeliculaAP\" id=\"duracionPeliculaAP\" placeholder=\"min.\">\n                                    <div class=\"invalid-feedback\">Rellene el campo</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"estrenoPeliculaAP\">Estreno</label>\n                                    <input type=\"date\" class=\"form-control\" formControlName=\"estrenoPeliculaAP\" id=\"estrenoPeliculaAP\">\n                                    <div class=\"invalid-feedback\">Rellene el campo</div>\n                                </div>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"sinopsisPeliculaAP\">Sinopsis</label>\n                                <textarea class=\"form-control\" formControlName=\"sinopsisPeliculaAP\" id=\"sinopsisPeliculaAP\" rows=\"3\" requied></textarea>\n                                <div class=\"invalid-feedback\">Rellene el campo</div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-success\" id=\"botonAddPelicula\">Añadir</button>\n                            <button class=\"btn btn-primary\" type=\"button\" id=\"botonAddPelicula2\" disabled style=\"display: none;\">\n                                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                Añadiendo...\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <!--Fin de Añadir Películas-->\n\n            <!-- Inicio Modificar películas -->\n            <div class=\"card\">\n                <div class=\"card-header bg-dark\" id=\"headingTwoPeliculas\">\n                    <h2 class=\"mb-0\">\n                        <button class=\"btn btn-link btn-block text-left text-white font-weight-bold collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwoPeliculas\" aria-expanded=\"false\" aria-controls=\"collapseTwoPeliculas\">\n                            Modificar\n                        </button>\n                    </h2>\n                </div>\n                <div id=\"collapseTwoPeliculas\" class=\"collapse\" aria-labelledby=\"headingTwoPeliculas\" data-parent=\"#accordionPeliculas\">\n                    <div class=\"card-body\">\n                        <form #fselectpelicula=\"ngForm\" (ngSubmit)=\"selectPelicula(peliculaAModificar)\">\n                            <div class=\"row mb-3 mx-auto\">\n                                <select class=\"form-control col-4 mr-3\" [(ngModel)]=\"peliculaAModificar\" [ngModelOptions]=\"{standalone: true}\" id=\"peliculaAModificar\">\n                                    <option selected>--- Selecciona una película ---</option>\n                                    <option *ngFor=\"let item of listaPeliculas\" >{{item.titulo}}</option>\n                                </select>\n                                <button type=\"submit\" class=\"btn btn-info\" id=\"selectPeliculaMod\">Selecciona</button>\n                            </div>\n                        </form>\n                        <form [formGroup]=\"fmodpelicula\" (ngSubmit)=\"modificaPelicula()\" id=\"fmodpelicula\" hidden><!--titulo, anyo, pais, genero, calificacion, duracion, estreno, sinopsis-->\n                            <div class=\"form-group\">\n                                <label for=\"tituloPeliculaMP\">Título</label>\n                                <input type=\"text\" class=\"form-control\" formControlName=\"tituloPeliculaMP\" id=\"tituloPeliculaMP\" value=\"{{this.pelicula.titulo}}\">\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"anyoPeliculaMP\">Año</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"anyoPeliculaMP\" id=\"anyoPeliculaMP\" value=\"{{this.pelicula.anyo}}\" maxlength=\"4\">\n                                    <div class=\"invalid-feedback\">Año no válido</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"paisPeliculaMP\">País</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"paisPeliculaMP\" id=\"paisPeliculaMP\" value=\"{{this.pelicula.pais}}\">\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"generoPeliculaMP\">Género</label>\n                                    <select formControlName=\"generoPeliculaMP\" id=\"generoPeliculaMP\" value=\"{{this.pelicula.genero}}\" class=\"form-control\">\n                                        <option *ngFor=\"let item of this.listaGenero\" value='{{item}}'>{{item}}</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"calificacionPeliculaMP\">Calificación</label>\n                                    <select formControlName=\"calificacionPeliculaMP\" id=\"calificacionPeliculaMP\" class=\"form-control\" value=\"{{this.pelicula.calificacion}}\">\n                                        <option *ngFor=\"let item of this.listaCalificacion\" value='{{item}}'>{{item}}</option>\n                                    </select>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"duracionPeliculaMP\">Duración</label>\n                                    <input type=\"number\" min=\"0\" class=\"form-control\" formControlName=\"duracionPeliculaMP\" id=\"duracionPeliculaMP\" value=\"{{this.pelicula.duracion}}\" placeholder=\"min.\">\n                                    <div class=\"invalid-feedback\">Campo no válido</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"estrenoPeliculaMP\">Estreno</label>\n                                    <input type=\"date\" class=\"form-control\" formControlName=\"estrenoPeliculaMP\" id=\"estrenoPeliculaMP\" value=\"{{this.pelicula.estreno | date:'yyyy-MM-dd'}}\">\n                                </div>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"sinopsisPeliculaMP\">Sinopsis</label>\n                                <textarea class=\"form-control\" formControlName=\"sinopsisPeliculaMP\" id=\"sinopsisPeliculaMP\" rows=\"3\" value=\"{{this.pelicula.sinopsis}}\" requied></textarea>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-warning\" id=\"botonModificaPelicula\">Modificar</button>\n                            <button class=\"btn btn-primary\" type=\"button\" id=\"botonModificaPelicula2\" disabled style=\"display: none;\">\n                                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                Modificando...\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <!-- Fin de Modificar Películas-->\n\n\n            <!-- Inicio de Borrar películas -->\n            <div class=\"card\">\n                <div class=\"card-header bg-dark\" id=\"headingThreePeliculas\">\n                    <h2 class=\"mb-0\">\n                        <button class=\"btn btn-link btn-block text-left text-white font-weight-bold collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseThreePeliculas\" aria-expanded=\"false\" aria-controls=\"collapseThreePeliculas\">\n                            Borrar\n                        </button>\n                    </h2>\n                </div>\n                <div id=\"collapseThreePeliculas\" class=\"collapse\" aria-labelledby=\"headingThreePeliculas\" data-parent=\"#accordionPeliculas\">\n                    <div class=\"card-body\">\n                        <form (ngSubmit)=\"deletePelicula(peliculaBorrada)\" #fborrapelicula=\"ngForm\">\n                            <div class=\"row\">\n                                <select class=\"form-control col-4 mr-3\" [(ngModel)]=\"peliculaBorrada\" [ngModelOptions]=\"{standalone: true}\" id=\"borrarPelicula\">\n                                    <option selected>-- Selecciona una película --</option>\n                                    <option *ngFor=\"let item of listaPeliculas\" >{{item.titulo}}</option>\n                                </select>\n                                <button type=\"submit\" class=\"btn btn-danger\" id=\"botonBorraPelicula\">Borrar</button>\n                                <button class=\"btn btn-primary\" type=\"button\" id=\"botonBorraPelicula2\" disabled style=\"display: none;\">\n                                    <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                    Borrando...\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div><!-- Fin de Borrar películas -->\n\n    <!-- Administracion de Sesiones -->\n    <div class=\"tab-pane fade\" id=\"nav-sesiones\" role=\"tabpanel\" aria-labelledby=\"nav-sesiones-tab\">\n        <div class=\"accordion col-md-6 mr-auto ml-auto my-5\" id=\"accordionSesiones\">\n            <!-- Inicio añadir sesión/ proyección-->\n            <div class=\"card\">\n              <div class=\"card-header bg-dark\" id=\"headingOneSesiones\">\n                <h2 class=\"mb-0\">\n                  <button class=\"btn btn-link btn-block text-left text-white font-weight-bold text-white font-weight-bold\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOneSesiones\" aria-expanded=\"true\" aria-controls=\"collapseOneSesiones\">\n                    Añadir\n                  </button>\n                </h2>\n              </div>\n          \n              <div id=\"collapseOneSesiones\" class=\"collapse show\" aria-labelledby=\"headingOneSesiones\" data-parent=\"#accordionSesiones\">\n                <div class=\"card-body\">\n                    <form [formGroup]=\"faddsesion\" (ngSubmit)=\"addSesion()\"><!--fecha, hora, titulo, idSala, idTarifa-->\n                        <div class=\"form-row\">\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"fechaSesionAS\">Fecha</label>\n                                <input type=\"date\" class=\"form-control\" formControlName=\"fechaSesionAS\" id=\"fechaSesionAS\">\n                                <div class=\"invalid-feedback\">Rellene el campo</div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"horaSesionAS\">Hora</label>\n                                <input type=\"time\" class=\"form-control\" formControlName=\"horaSesionAS\" id=\"horaSesionAS\">\n                                <div class=\"invalid-feedback\">Rellene el campo</div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"tituloPeliculaAS\">Título</label>\n                                <select formControlName=\"tituloPeliculaAS\" id=\"tituloPeliculaAS\" class=\"form-control\">\n                                    <option *ngFor=\"let item of listaPeliculas\" value=\"{{item.titulo}}\">{{item.titulo}}</option>\n                                </select>\n                                <div class=\"invalid-feedback\">Rellene el campo</div>\n                            </div>\n                        </div>\n                        <div class=\"form-row\">\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"salaSesionAS\">Sala</label>\n                                <select formControlName=\"salaSesionAS\" id=\"salaSesionAS\" class=\"form-control\">\n                                    <option *ngFor=\"let item of listaSalas\" value=\"{{item.idSala}}\">{{item.idSala}}</option>\n                                </select>\n                                <div class=\"invalid-feedback\">Rellene el campo</div>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"tarifaSesionAS\">Tarifa</label>\n                                <select formControlName=\"tarifaSesionAS\" id=\"tarifaSesionAS\" class=\"form-control\">\n                                    <option *ngFor=\"let item of listaTarifas\" value=\"{{item.idTarifa}}\">{{item.idTarifa+'.- '+item.nombre}}</option>\n                                </select>\n                                <div class=\"invalid-feedback\">Rellene el campo</div>\n                            </div>    \n                        </div>\n                        <button type=\"submit\" class=\"btn btn-success\" id=\"botonAddSesion\">Añadir</button>\n                        <button class=\"btn btn-primary\" type=\"button\" id=\"botonAddSesion2\" disabled style=\"display: none;\">\n                            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                            Añadiendo...\n                        </button>\n                    </form>\n                </div>\n              </div>\n            </div>\n            <!-- Fin añadir sesión -->\n\n            <!-- Inicio modificar sesión -->\n            <div class=\"card\">\n              <div class=\"card-header bg-dark\" id=\"headingTwoSesiones\">\n                <h2 class=\"mb-0\">\n                  <button class=\"btn btn-link btn-block text-left text-white font-weight-bold collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwoSesiones\" aria-expanded=\"false\" aria-controls=\"collapseTwoSesiones\">\n                    Modificar\n                  </button>\n                </h2>\n              </div>\n              <div id=\"collapseTwoSesiones\" class=\"collapse\" aria-labelledby=\"headingTwoSesiones\" data-parent=\"#accordionSesiones\">\n                <div class=\"card-body\">\n                    <form (ngSubmit)=\"seleccionaSesion()\" #fselectsesion=\"ngForm\">\n                        <div class=\"form-row\">\n                            <div class=\"form-goup col-md-4\">\n                                <label for=\"fechaSelectSesion\">Fecha</label>\n                                <select class=\"form-control\" [(ngModel)]=\"fechaSelectSesion\" [ngModelOptions]=\"{standalone: true}\" id=\"fechaSelectSesion\" (ngModelChange)=\"muestraSesion(fechaSelectSesion)\">\n                                    <option *ngFor=\"let item of listaFechaSesion\" value=\"{{item}}\">{{item | date : 'dd-MM-yyyy'}}</option>\n                                </select>\n                            </div>\n                            <div class=\"form-goup col-md-4\">\n                                <label for=\"selectSesion\">Sesión</label>\n                                <select class=\"form-control\" [(ngModel)]=\"selectSesion\" [ngModelOptions]=\"{standalone: true}\" id=\"selectSesion\">\n                                    <option *ngFor=\"let item of listaSesionDia\" value=\"{{item.idProyeccion}}\" >{{item.hora+'-'+item.titulo+'- Sala:'+item.idSala}}</option>\n                                </select>\n                            </div>\n                        </div>\n                        <button type=\"submit\" class=\"btn btn-info\" id=\"BotonSelectSesion\">Buscar</button>\n                    </form>\n\n                    <form [formGroup]=\"fmodsesion\" (ngSubmit)=\"modificaSesion()\" id=\"fmodsesion\" hidden><!--fecha, hora, titulo, idSala, idTarifa-->\n                        <div class=\"form-row\">\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"fechaSesionMS\">Fecha</label>\n                                <input type=\"date\" class=\"form-control\" formControlName=\"fechaSesionMS\" id=\"fechaSesionMS\" value=\"{{this.proyeccion.fecha | date : 'yyyy-MM-dd'}}\">\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"horaSesionMS\">Hora</label>\n                                <input type=\"time\" class=\"form-control\" formControlName=\"horaSesionMS\" id=\"horaSesionMS\" value={{this.proyeccion.hora}}>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"tituloPeliculaMS\">Título</label>\n                                <select formControlName=\"tituloPeliculaMS\" id=\"tituloPeliculaMS\" class=\"form-control\" value={{this.proyeccion.titulo}}>\n                                    <option *ngFor=\"let item of listaPeliculas\" value=\"{{item.titulo}}\">{{item.titulo}}</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class=\"form-row\">\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"salaSesionMS\">Sala</label>\n                                <select formControlName=\"salaSesionMS\" id=\"salaSesionMS\" class=\"form-control\" value={{this.proyeccion.idSala}}>\n                                    <option *ngFor=\"let item of listaSalas\" value=\"{{item.idSala}}\">{{item.idSala}}</option>\n                                </select>\n                            </div>\n                            <div class=\"form-group col-md-4\">\n                                <label for=\"tarifaSesionMS\">Tarifa</label>\n                                <select formControlName=\"tarifaSesionMS\" id=\"tarifaSesionMS\" class=\"form-control\" value={{this.proyeccion.idTarifa}}>\n                                    <option *ngFor=\"let item of listaTarifas\" value=\"{{item.idTarifa}}\">{{item.idTarifa+'.- '+item.nombre}}</option>\n                                </select>\n                            </div>    \n                        </div>\n                        <button type=\"submit\" class=\"btn btn-warning\" id=\"botonModificaSesion\">Modificar</button>\n                        <button class=\"btn btn-primary\" type=\"button\" id=\"botonModificaSesion2\" disabled style=\"display: none;\">\n                            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                            Modificando...\n                        </button>\n                    </form>\n                </div>\n              </div>\n            </div>\n            <!-- Fin modificar sesión -->\n\n            <!-- Inicio borrar sesión -->\n            <div class=\"card\">\n                <div class=\"card-header bg-dark\" id=\"headingThreeSesiones\">\n                    <h2 class=\"mb-0\">\n                    <button class=\"btn btn-link btn-block text-left text-white font-weight-bold collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseThreeSesiones\" aria-expanded=\"false\" aria-controls=\"collapseThreeSesiones\">\n                        Borrar\n                    </button>\n                    </h2>\n                </div>\n                <div id=\"collapseThreeSesiones\" class=\"collapse\" aria-labelledby=\"headingThreeSesiones\" data-parent=\"#accordionSesiones\">\n                    <div class=\"card-body\">\n                        <form (ngSubmit)=\"deleteSesion()\" #fborrasesion=\"ngForm\">\n                            <div class=\"form-row\">\n                                <div class=\"form-goup col-md-4\">\n                                    <label for=\"fechaBorrarSesion\">Selecciona una fecha</label>\n                                    <select class=\"form-control\" [(ngModel)]=\"fechaBorrarSesion\" [ngModelOptions]=\"{standalone: true}\" id=\"fechaBorrarSesion\" (ngModelChange)=\"muestraSesion(fechaBorrarSesion)\">\n                                        <option *ngFor=\"let item of listaFechaSesion\" value=\"{{item}}\">{{item | date : 'dd-MM-yyyy'}}</option>\n                                    </select>\n                                </div>\n                                <div class=\"form-goup col-md-4\">\n                                    <label for=\"borrarSesion\">Selecciona una sesión</label>\n                                    <select class=\"form-control\" [(ngModel)]=\"borrarSesion\" [ngModelOptions]=\"{standalone: true}\" id=\"borrarSesion\">\n                                        <option *ngFor=\"let item of listaSesionDia\" value=\"{{item.idProyeccion}}\" >{{item['hora']+'-'+item['titulo']+'- Sala:'+item.idSala}}</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-danger\" id=\"botonBorraSesion\">Borrar</button>\n                            <button class=\"btn btn-primary\" type=\"button\" id=\"botonBorraSesion2\" disabled style=\"display: none;\">\n                                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                Borrando...\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <!-- Fin Borrar sesión-->\n          </div>  \n    </div>\n\n    <!-- Administracion de Tarifas -->\n    <div class=\"tab-pane fade\" id=\"nav-tarifas\" role=\"tabpanel\" aria-labelledby=\"nav-tarifas-tab\">\n        <div class=\"accordion col-md-6 mr-auto ml-auto my-5\" id=\"accordionTarifasAdmin\">\n            <!-- Inicio Añadir tarifas-->\n            <div class=\"card\">\n                <div class=\"card-header bg-dark\" id=\"headingOneTarifas\">\n                    <h2 class=\"mb-0\">\n                    <button class=\"btn btn-link btn-block text-left text-white font-weight-bold\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOneTarifas\" aria-expanded=\"true\" aria-controls=\"collapseOneTarifas\">\n                        Añadir\n                    </button>\n                    </h2>\n                </div>\n          \n                <div id=\"collapseOneTarifas\" class=\"collapse show\" aria-labelledby=\"headingOneTarifas\" data-parent=\"#accordionTarifasAdmin\">\n                    <div class=\"card-body\">\n                        <form [formGroup]=\"faddtarifa\" (ngSubmit)=\"addTarifa()\" id=\"faddtarifa\"><!--nombre,descripcion,precio-->\n                            <div class=\"form-row\">\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"nombreTarifaAT\">Nombre</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"nombreTarifaAT\" id=\"nombreTarifaAT\">\n                                    <div class=\"invalid-feedback\">Rellene el campo</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"descripcionTarifaAT\">Descripción</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"descripcionTarifaAT\" id=\"descripcionTarifaAT\">\n                                    <div class=\"invalid-feedback\">Rellene el campo</div>\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"precioTarifaAT\">Precio</label>\n                                    <input type=\"number\" min=\"0\" class=\"form-control\" formControlName=\"precioTarifaAT\" id=\"precioTarifaAT\" step=\"0.01\">\n                                    <div class=\"invalid-feedback\">Rellene el campo</div>\n                                </div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-success\" id=\"botonAddTarifa\">Añadir</button>\n                            <button class=\"btn btn-primary\" type=\"button\" id=\"botonAddTarifa2\" disabled style=\"display: none;\">\n                                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                Añadiendo...\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <!-- Fin Añadir tarifas-->\n\n            <!-- Inicio Modificar tarifas-->\n            <div class=\"card\">\n                <div class=\"card-header bg-dark\" id=\"headingTwoTarifas\">\n                    <h2 class=\"mb-0\">\n                    <button class=\"btn btn-link btn-block text-left text-white font-weight-bold collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwoTarifas\" aria-expanded=\"false\" aria-controls=\"collapseTwoTarifas\">\n                        Modificar\n                    </button>\n                    </h2>\n                </div>\n                <div id=\"collapseTwoTarifas\" class=\"collapse\" aria-labelledby=\"headingTwoTarifas\" data-parent=\"#accordionTarifasAdmin\">\n                    <div class=\"card-body\">\n                        <form #fselecttarifa=\"ngForm\" (ngSubmit)=\"selectTarifa()\">\n                            <div class=\"row mb-3 mx-auto\">\n                                <select class=\"form-control col-4 mr-3\" [(ngModel)]=\"tarifaSeleccionada\" [ngModelOptions]=\"{standalone: true}\" id=\"tarifaSeleccionada\">\n                                    <option *ngFor=\"let item of listaTarifas\" value=\"{{item.idTarifa}}\">{{item.nombre}}</option>\n                                </select>    \n                                <button type=\"submit\" class=\"btn btn-info\" id=\"botonSelectTarifa\">Selecciona</button>\n                            </div>\n                        </form>\n                        <form [formGroup]=\"fmodtarifa\" (ngSubmit)=\"modificaTarifa()\" id=\"fmodtarifa\" hidden><!--nombre,descripcion,precio-->\n                            <div class=\"form-row\">\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"nombreTarifaMT\">Nombre</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"nombreTarifaMT\" id=\"nombreTarifaMT\" value=\"{{this.tarifa.nombre}}\">\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"descripcionTarifaMT\">Descripción</label>\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"descripcionTarifaMT\" id=\"descripcionTarifaMT\" value=\"{{this.tarifa.descripcion}}\">\n                                </div>\n                                <div class=\"form-group col-md-4\">\n                                    <label for=\"precioTarifaMT\">Precio</label>\n                                    <input type=\"number\" min=\"0\" class=\"form-control\" formControlName=\"precioTarifaMT\" id=\"precioTarifaMT\" step=\"0.01\" value=\"{{this.tarifa.precio}}\">\n                                    <div class=\"invalid-feedback\">Campo inválido</div>\n                                </div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-warning\" id=\"botonModTarifa\">Modificar</button>\n                            <button class=\"btn btn-primary\" type=\"button\" id=\"botonModTarifa2\" disabled style=\"display: none;\">\n                                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                Modificando...\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <!-- Fin Modificar tarifas-->\n\n            <!-- Inicio Borrar tarifas-->\n            <div class=\"card\">\n                <div class=\"card-header bg-dark\" id=\"headingThreeTarifas\">\n                    <h2 class=\"mb-0\">\n                    <button class=\"btn btn-link btn-block text-left text-white font-weight-bold collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseThreeTarifas\" aria-expanded=\"false\" aria-controls=\"collapseThreeTarifas\">\n                        Eliminar\n                    </button>\n                    </h2>\n                </div>\n                <div id=\"collapseThreeTarifas\" class=\"collapse\" aria-labelledby=\"headingThreeTarifas\" data-parent=\"#accordionTarifasAdmin\">\n                    <div class=\"card-body\">\n                        <form (ngSubmit)=\"deleteTarifa()\" #fborratarifa=\"ngForm\">\n                            <div class=\"form-group\">\n                                <label for=\"borrarTarifa\">Tarifa</label>\n                                <select class=\"form-control col-4 mr-3\" [(ngModel)]=\"tarifaBorrada\" [ngModelOptions]=\"{standalone: true}\" id=\"borrarTarifa\">\n                                    <option *ngFor=\"let item of listaTarifas\" value=\"{{item.idTarifa}}\">{{item.nombre}}</option>\n                                </select>\n                            </div>    \n                            <button type=\"submit\" class=\"btn btn-danger\" id=\"botonBorraTarifa\">Borrar</button>\n                            <button class=\"btn btn-primary\" type=\"button\" id=\"botonBorraTarifa2\" disabled style=\"display: none;\">\n                                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                                Borrando...\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <!-- Fin Borrar tarifas-->\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from '../../servicios/peticiones.servicio';\nimport { UsuarioSesion } from '../../servicios/usuarioSesion';\nimport { Proyeccion } from '../model/Proyeccion';\nimport { Pelicula } from '../model/Pelicula';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-cartelera',\n  templateUrl: './cartelera.component.html',\n  styleUrls: ['./cartelera.component.css']\n})\nexport class CarteleraComponent implements OnInit {\n  public cartelera:Array<any> = [];\n  public peliculas:Array<any> = [];\n  public multimediaInfo:Array<any> = [];\n  public valoracion:Array<any> = [];\n  public listaDiasSemana:Array<any> = [];\n  public token;\n  public carteleraSemanal=new Array();\n\n  constructor(private _peticionesServicio: PeticionesServicio, private _usuarioSesion: UsuarioSesion, private router:Router) { }\n\n  ngOnInit(): void {\n    this.diasSemana();\n    this.getMultimedia();\n    this.getValoracion();\n    this.getCarteleraDia();\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this._usuarioSesion.comprobarSesion();\n      this.token = sessionStorage.getItem('token'); // Para habilitar los botones de las sesiones para un usario registrado\n    }\n\n  }\n  \n  /**\n   * Crea una lista con los 7 días de la semana incluyendo hoy\n   * @param Sin parámetros\n   * @returns\n   */\n  diasSemana(){\n    for (let i = 0; i < 7; i++) {\n      let hoy = new Date();\n      this.listaDiasSemana.push(hoy.setDate(hoy.getDate()+i));      \n    }\n  }\n\n  /**\n   * Obtiene todas las valoraciones\n   * @param Sin parámetros\n   * @returns\n   */\n  getValoracion(){\n    this._peticionesServicio.getValoracionJSON().subscribe(data=>{\n      this.valoracion = data;\n    });\n  }\n\n  /**\n   * Obtiene la info contenida en el multimedia.json \n   */\n  getMultimedia(){\n    this._peticionesServicio.getMultimediaJSON().subscribe(data=>{\n      this.multimediaInfo = data;\n    });\n  }\n\n  /**\n   * Genera la lista con los datos de la cartelera para cada uno de los 7 días\n   */\n  getCarteleraDia(){\n    let dia = new Date();\n    let sesion;\n    let sesiones = new Array();\n    let carteleraDelDia = new Array();\n    let encontrado = false; // Control en el caso de que una película no esté en una sesión el día que se quiere consultar \n    this._peticionesServicio.getPeliculaJSON().subscribe(data=>{\n      this.peliculas = data;\n      this._peticionesServicio.getCarteleraJSON().subscribe(data2=>{\n        this.cartelera = data2;\n        for (let i = 0; i < 7; i++) {\n          dia = new Date();\n          dia.setDate(dia.getDate()+i-1);\n          this.peliculas.forEach(element => { \n            this.cartelera.forEach(element2 => {\n              \n              //let cambio = element2.fecha.setDate(element2.fecha.getDate()-1);\n              if (element2.fecha.substr(5,5) == dia.toISOString().substr(5,5) && element.titulo == element2.titulo){\n                encontrado = true;\n                sesion = new Proyeccion(element2.idProyeccion,element2.fecha,element2.hora,element2.titulo,element2.idSala,element2.idTarifa);\n                sesiones.push(sesion);           \n              }           \n            });  \n            if (encontrado){\n              let pelicula = new Pelicula(element.titulo,element.anyo,element.pais,element.genero,element.calificacion,element.duracion,element.estreno,element.sinopsis,);\n              let peliculaEnCartelera = {\n                'pelicula' : pelicula,\n                'sesiones' : sesiones\n              }\n              encontrado = false;\n              carteleraDelDia.push(peliculaEnCartelera);\n              sesiones = new Array();\n            }                  \n          });\n          let ordenCartelera ={\n            'orden' : i,\n            'carteleraDelDia' : carteleraDelDia\n          }\n          this.carteleraSemanal.push(ordenCartelera);         \n          carteleraDelDia = new Array();\n        }\n      });\n    });\n  }\n  \n  /**\n   * Se encarga de dirigirnos al pago con la sesión que queremos adquirir\n   * @param sesion \n   */\n  procesoDeCompra(sesion){\n    sessionStorage.setItem('compra',sesion);\n    this.router.navigate(['pago']);\n  }\n\n  /**\n   * Nos dirige a una página con las fotos de la película deseada\n   * @param titulo \n   */\n  foto(titulo){\n    sessionStorage.setItem('foto',titulo);\n    this.router.navigate(['foto']);\n  }\n\n}\n","<h1 class=\"text-center my-5\">Cartelera</h1>\n<nav>\n    <div class=\"nav nav-tabs text-center\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" style=\"min-width: 130px;\" id=\"nav-info-tab\" data-toggle=\"tab\" href=\"#nav-info\" role=\"tab\" aria-controls=\"nav-info\" aria-selected=\"true\">Películas</a>\n        <a class=\"nav-item nav-link\" style=\"min-width: 130px;\" id=\"nav-0-tab\" data-toggle=\"tab\" href=\"#nav-0\" role=\"tab\" aria-controls=\"nav-0\" aria-selected=\"false\">{{listaDiasSemana[0] | date: 'EEEE d'}}</a>\n        <a class=\"nav-item nav-link\" style=\"min-width: 130px;\" id=\"nav-1-tab\" data-toggle=\"tab\" href=\"#nav-1\" role=\"tab\" aria-controls=\"nav-1\" aria-selected=\"false\">{{listaDiasSemana[1] | date: 'EEEE d'}}</a>\n        <a class=\"nav-item nav-link\" style=\"min-width: 130px;\" id=\"nav-2-tab\" data-toggle=\"tab\" href=\"#nav-2\" role=\"tab\" aria-controls=\"nav-2\" aria-selected=\"false\">{{listaDiasSemana[2] | date: 'EEEE d'}}</a>\n        <a class=\"nav-item nav-link\" style=\"min-width: 130px;\" id=\"nav-3-tab\" data-toggle=\"tab\" href=\"#nav-3\" role=\"tab\" aria-controls=\"nav-3\" aria-selected=\"false\">{{listaDiasSemana[3] | date: 'EEEE d'}}</a>\n        <a class=\"nav-item nav-link\" style=\"min-width: 130px;\" id=\"nav-4-tab\" data-toggle=\"tab\" href=\"#nav-4\" role=\"tab\" aria-controls=\"nav-4\" aria-selected=\"false\">{{listaDiasSemana[4] | date: 'EEEE d'}}</a>\n        <a class=\"nav-item nav-link\" style=\"min-width: 130px;\" id=\"nav-5-tab\" data-toggle=\"tab\" href=\"#nav-5\" role=\"tab\" aria-controls=\"nav-5\" aria-selected=\"false\">{{listaDiasSemana[5] | date: 'EEEE d'}}</a>\n        <a class=\"nav-item nav-link\" style=\"min-width: 130px;\" id=\"nav-6-tab\" data-toggle=\"tab\" href=\"#nav-6\" role=\"tab\" aria-controls=\"nav-6\" aria-selected=\"false\">{{listaDiasSemana[6] | date: 'EEEE d'}}</a>\n    </div>\n</nav>\n<div class=\"tab-content\" id=\"nav-tabContent\"> \n        <div class=\"tab-pane fade show active\" id=\"nav-info\" role=\"tabpanel\" aria-labelledby=\"nav-info-tab\">\n            <div class=\"card my-3 mx-auto col-md-9\" *ngFor=\"let item of this.peliculas\">\n                <div class=\"row no-gutters\">\n                    <div class=\"col-md-2\">\n                        <div *ngFor=\"let item2 of this.multimediaInfo\">\n                            <div *ngIf=\"item2.titulo == item.titulo\">\n                                <img src={{item2.portada}} class=\"card-img ml-n3\" alt=\"Poster de la película {{item2.titulo}}\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-10\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-9\">\n                                    <h5 class=\"card-title\">{{item.titulo}}</h5>\n                                    <div class=\"card-text\">{{item.anyo}} {{item.pais}} {{item.genero}} {{item.duracion}} min.</div>\n                                </div>\n                                <div *ngFor=\"let val of this.valoracion\">\n                                    <div *ngIf=\"(val.titulo == item.titulo && val.media >= 7)\">\n                                        <div class=\"col-3 text-center circulo pt-3 bg-success text-white\">{{val.media}}</div>\n                                    </div>\n                                    <div *ngIf=\"(val.titulo == item.titulo && (val.media < 7 && val.media >= 5))\">\n                                        <div class=\"col-3 text-center circulo pt-3 bg-warning text-white\">{{val.media}}</div>\n                                    </div>\n                                    <div *ngIf=\"(val.titulo == item.titulo && val.media < 5)\">\n                                        <div class=\"col-3 text-center circulo pt-3 bg-danger text-white\">{{val.media}}</div>\n                                    </div>\n                                </div>\n                            </div>\n                            <hr>\n                            <div class=\"card-text\">Sinopsis <br>\n                                <small class=\"text-muted\">{{item.sinopsis}}</small>\n                            </div>\n                            <div class=\"card-text mt-4\">      \n                                <span *ngFor=\"let item2 of this.multimediaInfo\">\n                                    <span *ngIf=\"item2.titulo == item.titulo\">\n                                        <button class=\"btn btn-outline-info btn-sm mx-3\" (click)=foto(item.titulo)>Fotos</button>\n                                        <a href=\"{{item2.trailer}}\" target=\"_blank\" class=\"btn btn-outline-info btn-sm mx-3\">Trailer</a>\n                                    </span>\n                                </span>      \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"tab-pane fade\" id=\"nav-{{index.orden}}\" role=\"tabpanel\" [attr.aria-labelledby]=\"'nav-'+index.orden+'-tab'\" *ngFor=\"let index of this.carteleraSemanal\">\n            <div class=\"card my-3 mx-auto col-md-9\" *ngFor=\"let item of index.carteleraDelDia\">\n                <div class=\"row no-gutters\">\n                    <div class=\"col-md-2\">\n                        <div *ngFor=\"let item2 of this.multimediaInfo\">\n                            <div *ngIf=\"item2.titulo == item.pelicula.titulo\">\n                                <img src={{item2.portada}} class=\"card-img ml-n3\" alt=\"Poster de la película {{item2.titulo}}\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-10\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-9\">\n                                    <h5 class=\"card-title\">{{item.pelicula.titulo}}</h5>\n                                    <div class=\"card-text\">{{item.pelicula.anyo}} {{item.pelicula.pais}} {{item.pelicula.genero}} {{item.pelicula.duracion}} min.</div>\n                                </div>\n                                <div *ngFor=\"let val of this.valoracion\">\n                                    <div *ngIf=\"(val.titulo == item.pelicula.titulo && val.media >= 7)\">\n                                        <div class=\"col-3 text-center circulo pt-3 bg-success text-white\">{{val.media}}</div>\n                                    </div>\n                                    <div *ngIf=\"(val.titulo == item.pelicula.titulo && (val.media < 7 && val.media >= 5))\">\n                                        <div class=\"col-3 text-center circulo pt-3 bg-warning text-white\">{{val.media}}</div>\n                                    </div>\n                                    <div *ngIf=\"(val.titulo == item.pelicula.titulo && val.media < 5)\">\n                                        <div class=\"col-3 text-center circulo pt-3 bg-danger text-white\">{{val.media}}</div>\n                                    </div>\n                                </div>\n                            </div>\n                            <hr>\n                            <div class=\"card-text\">Sinopsis <br>\n                                <small class=\"text-muted\">{{item.pelicula.sinopsis}}</small>\n                            </div>\n                            <span *ngFor=\"let sesion of item.sesiones\">\n                                <span *ngIf=\"(this.token != 'No' && this.token != null);else miboton\">\n                                    <button class=\"btn btn-primary btn-lg mx-3\" value={{sesion.idProyeccion}} (click)=procesoDeCompra(sesion.idProyeccion)>{{sesion.hora.substring(0,5)}}</button>\n                                </span>\n                                <ng-template #miboton>\n                                    <button class=\"btn btn-primary btn-lg mx-3\" value={{sesion.idProyeccion}} disabled>{{sesion.hora.substring(0,5)}}</button>\n                                </ng-template>   \n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UsuarioSesion } from 'src/servicios/usuarioSesion';\n\n@Component({\n  selector: 'app-cierrasesion',\n  templateUrl: './cierrasesion.component.html',\n  styleUrls: ['./cierrasesion.component.css']\n})\nexport class CierrasesionComponent implements OnInit {\n\n  constructor(private _usuarioSesion: UsuarioSesion, private router:Router) { }\n\n  ngOnInit(): void {\n      this._usuarioSesion.cierraSesion();\n    \n  }\n\n}\n","<p>Adios!</p>\n","import { Component, OnInit } from '@angular/core';\nimport { UsuarioSesion } from 'src/servicios/usuarioSesion';\n\n@Component({\n  selector: 'app-contacto',\n  templateUrl: './contacto.component.html',\n  styleUrls: ['./contacto.component.css']\n})\nexport class ContactoComponent implements OnInit {\n\n  constructor(private _usuarioSesion: UsuarioSesion) { }\n\n  ngOnInit(): void {\n    this._usuarioSesion.comprobarSesion();\n  }\n\n}\n","<div class=\"content col-md-5 ml-auto mr-auto my-5\">\n    <h1 class=\"text-center\">Contacto</h1>\n    <form>\n        <div class=\"form-group\">\n            <label for=\"nombreContacto\">Nombre</label>\n            <input class=\"form-control\" type=\"text\" name=\"nombre\" id=\"nombreReg\" placeholder=\"Nombre\" required>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"emailContacto\">Email</label>\n            <input class=\"form-control\" type=\"email\" name=\"email\" id=\"emailContacto\" aria-describedby=\"emailHelp\" placeholder=\"example@mail.com\" required> \n        </div>\n        <div class=\"form-group\">\n            <label for=\"asuntoContacto\">Asunto</label>\n            <input class=\"form-control\" type=\"text\" name=\"asunto\" id=\"asuntoReg\" placeholder=\"Asunto\" required>\n\n        </div>\n        <div class=\"form-group\">\n            <label for=\"mesnsajeContacto\">Mensaje</label>\n            <textarea class=\"form-control\" name=\"mensaje\" rows=\"6\" id=\"mensajeContacto\" placeholder=\"Mensaje\" required></textarea>\n\n        </div>\n        <button class=\"btn btn-primary text-align-center\" type=\"submit\">Envía tu mensaje</button>\n    </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from '../../servicios/peticiones.servicio';\nimport { UsuarioSesion } from '../../servicios/usuarioSesion';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-foto',\n  templateUrl: './foto.component.html',\n  styleUrls: ['./foto.component.css']\n})\nexport class FotoComponent implements OnInit {\n  public listaMultimedia = new Array();\n\n  constructor(private _peticionesServicio: PeticionesServicio, private _usuarioSesion: UsuarioSesion, private router:Router) { }\n\n  ngOnInit(): void {\n    this.getMultimedia();\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this._usuarioSesion.comprobarSesion();\n    }\n  }\n\n  /**\n   * Pide el fichero JSON que contiene las direcciones de las fotos\n   */\n  getMultimedia(){\n    this._peticionesServicio.getMultimediaJSON().subscribe(data=>{\n      let titulo = sessionStorage.getItem('foto');\n      let infoTitulo = data.filter(element => element.titulo == titulo);\n      this.listaMultimedia = infoTitulo[0].imagenes;\n    });\n  }\n\n}\n","<h1 class=\"text-center my-5\">Fotos</h1>\n<div class=\"mx-auto col-md-9\">\n    <div class=\"d-inline\" *ngFor=\"let item of listaMultimedia\">\n        <img class=\"col-md-4 my-3\" src=\"{{item}}\" alt=\"foto del rodaje de {{item.titulo}}\">\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { UsuarioSesion } from '../../servicios/usuarioSesion';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.css']\n})\nexport class IndexComponent implements OnInit {\n\n\n  constructor(private _usuarioSesion: UsuarioSesion) { }\n\n  ngOnInit(): void {\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this._usuarioSesion.comprobarSesion();\n    }\n  }\n\n}\n","<h1 class=\"text-center mt-5\">Cine Luna</h1>\n<div id=\"carouselCine\" class=\"carousel slide col-md-8 mx-auto my-4\" data-ride=\"carousel\">\n    <ol class=\"carousel-indicators\">\n        <li data-target=\"#carouselCine\" data-slide-to=\"0\" class=\"active\"></li>\n        <li data-target=\"#carouselCine\" data-slide-to=\"1\"></li>\n        <li data-target=\"#carouselCine\" data-slide-to=\"2\"></li>\n    </ol>\n    <div class=\"carousel-inner\">\n        <div class=\"carousel-item active\">\n            <img src=\"https://prod-ripcut-delivery.disney-plus.net/v1/variant/disney/6B8D014C4D6BEAE3FB5911345CD9E0118FCBF8CFB3CA36E3AC083B9012A75E8D/scale?aspectRatio=1.78&format=jpeg\" class=\"d-block w-100\" alt=\"Onward\">\n            <div class=\"carousel-caption d-none d-md-block\">\n                <h5 class=\"font-weight-bold\">Onward</h5>\n                <p class=\"font-weight-bold\">No te pierdas el último estreno de Disney</p>\n            </div>\n        </div>\n        <div class=\"carousel-item\">\n            <img src=\"https://www.ecestaticos.com/image/clipping/a930589160fdabec8daf77487fb8b0d3/por-que-se-comen-palomitas-en-el-cine-en-vez-de-otros-039-snacks-039.jpg\" class=\"d-block w-100\" alt=\"Snack-Bar\">\n            <div class=\"carousel-caption d-none d-md-block\">\n                <h5 class=\"font-weight-bold\">Snack-Bar</h5>\n                <p class=\"font-weight-bold\">Disfruta tu pélicula con un refresco y unas palomitas</p>\n            </div>\n        </div>\n        <div class=\"carousel-item\">\n            <img src=\"https://inmendoza.com/wp-content/uploads/2020/01/dolittle.jpg\" class=\"d-block w-100\" alt=\"Doctor Dolittle\">\n            <div class=\"carousel-caption d-none d-md-block\">\n                <h5 class=\"font-weight-bold\">Las aventuras del Doctor Dolittle</h5>\n                <p class=\"font-weight-bold\">Las personas no son lo suyo</p>\n            </div>\n        </div>\n    </div>\n    <a class=\"carousel-control-prev\" href=\"#carouselCine\" role=\"button\" data-slide=\"prev\">\n        <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n        <span class=\"sr-only\">Previous</span>\n    </a>\n    <a class=\"carousel-control-next\" href=\"#carouselCine\" role=\"button\" data-slide=\"next\">\n        <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n        <span class=\"sr-only\">Next</span>\n    </a>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from '../../servicios/peticiones.servicio';\nimport { Router } from '@angular/router';\nimport { Usuario } from '../model/Usuario';\n\n@Component({\n  selector: 'app-iniciosesion',\n  templateUrl: './iniciosesion.component.html',\n  styleUrls: ['./iniciosesion.component.css']\n})\nexport class IniciosesionComponent implements OnInit {\n\n  public datos:Array<any> = [];\n  public login:boolean = false;\n  public passwordIni?:string;\n  public username:string;\n  public nologin:string = 'none';\n  public invalid:string = 'none';\n  public user:Usuario;\n\n  constructor(private _peticionesServicio: PeticionesServicio, private router:Router) { }\n\n  ngOnInit(): void {\n  }\n\n  /**\n   * Comprueba que el usuario está registrado\n   * @param passwordIni \n   * @param username \n   * @returns Si está registrado lleva al usuario a su home si no lo está lo mantiene en la página y lo avisa\n   */\n  getUsuario(passwordIni,username){ \n    this._peticionesServicio.getUsuariosJSON(passwordIni,username.toLowerCase()).subscribe(data=>{\n      if (data.token != \"No\") {\n        sessionStorage.setItem('token',data.token);\n        sessionStorage.setItem('idUsuario',data.idUsuario);\n        sessionStorage.setItem('username',data.nombre);\n        if (data.role) {\n          this.router.navigate(['auth']);\n          sessionStorage.setItem('role','true');\n        } else {\n          sessionStorage.setItem('role','false');\n          this.router.navigate(['user']);\n        }\n\n      } else {\n        this.nologin = 'block';\n        this.invalid = 'is-invalid';\n      }\n    });  \n  }\n\n}\n","<div class=\"content col-md-4 ml-auto mr-auto my-5\">\n    <h1 class=\"text-center\">Iniciar Sesión</h1>  \n    <form (ngSubmit)=\"getUsuario(passwordIni,username)\" #f=\"ngForm\">\n        <div class=\"form-group\">\n            <label for=\"emailContacto\">Email</label> \n            <input class=\"form-control\" [ngClass]=\"invalid\" type=\"email\" id=\"emailContacto\" [(ngModel)]=\"username\" [ngModelOptions]=\"{standalone: true}\" aria-describedby=\"emailHelp\" autocomplete=\"username\" required>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"passwordIni\"> Contraseña</label>\n            <input class=\"form-control\" [ngClass]=\"invalid\" type=\"password\" id=\"passwordIni\" [(ngModel)]=\"passwordIni\" [ngModelOptions]=\"{standalone: true}\" required>\n            <small class=\"text-danger\" [ngStyle]=\"{'display': nologin}\" id=\"avisoAcceso\">Usuario no encontrado</small>\n        </div>\n        <button class=\"btn btn-primary text-align-center mt-2\" type=\"submit\">Inicia Sesión</button>\n    </form>\n    <div class=\"no-registro mt-1\">\n        <a href=\"/registro\">¿Aún no estás registrado?</a>\n    </div>\n</div>\n","export class Pelicula {\n    constructor(\n        public _titulo :string,\n        public _anyo:string,\n        public _pais:string,\n        public _genero:string,\n        public _calificacion:string,\n        public _duracion:string,\n        public _estreno:Date,\n        public _sinopsis:string\n    )\n    {}\n\n    \n    public get titulo() : string {\n        return this._titulo;\n    }\n    public get anyo() : string {\n        return this._anyo;\n    }\n    public get pais() : string {\n        return this._pais;\n    }\n    public get genero() : string {\n        return this._genero;\n    }\n    public get calificacion() : string {\n        return this._calificacion;\n    }\n    public get duracion() : string {\n        return this._duracion;\n    }\n    public get estreno() : Date {\n        return this._estreno;\n    }\n    public get sinopsis() : string {\n        return this._sinopsis;\n    }\n    \n} ","export class Proyeccion {\n    constructor(\n        public _idProyeccion :string,\n        public _fecha:Date,\n        public _hora:string,\n        public _titulo:string,\n        public _idSala:string,\n        public _idTarifa:string\n    )\n    {}\n\n    \n    public get idProyeccion() : string {\n        return this._idProyeccion;\n    }\n    public get fecha() : Date {\n        return this._fecha;\n    }\n    public get hora() : string {\n        return this._hora;\n    }\n    public get titulo() : string {\n        return this._titulo;\n    }\n    public get idSala() : string {\n        return this._idSala;\n    }\n    public get idTarifa() : string {\n        return this._idTarifa;\n    }\n    \n} ","export class Tarifa {\n    constructor(\n        public _idTarifa :string,\n        public _nombre:string,\n        public _descripcion:string,\n        public _precio:number,\n    )\n    {}\n\n    \n    public get idTarifa() : string {\n        return this._idTarifa;\n    }\n    public get nombre() : string {\n        return this._nombre;\n    }\n    public get descripcion() : string {\n        return this._descripcion;\n    }\n    public get precio() : number {\n        return this._precio;\n    }number\n\n    \n} ","export class Usuario {\n    constructor(\n        public idUsuario :number,\n        public nombre:string,\n        public apellidos:string,\n        public email:string,\n        public password:string,\n        public administrador:boolean\n    )\n    {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from 'src/servicios/peticiones.servicio';\nimport { UsuarioSesion } from 'src/servicios/usuarioSesion';\nimport { Router } from '@angular/router';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\n\n@Component({\n  selector: 'app-pago',\n  templateUrl: './pago.component.html',\n  styleUrls: ['./pago.component.css']\n})\nexport class PagoComponent implements OnInit {\n  public multimediaInfo:Array<any> = [];\n  public reserva:Array<any> = [];\n  public entradas: number;\n  public fpaypal: FormGroup;\n  public ftarjeta: FormGroup;\n  public listaMeses = new Array('01','02','03','04','05','06','07','08','09','10','11','12');\n  public listaAnyos = new Array();\n  public total: number;\n\n  constructor(private _peticionesServicio: PeticionesServicio, private _usuarioSesion: UsuarioSesion, private router:Router, private fb: FormBuilder) \n  {\n    this.fpaypal = this.fb.group({\n      usuarioPagoPP: ['',[Validators.required,Validators.pattern('[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}')]],\n      clavePP: ['',Validators.required]\n    });\n\n    this.ftarjeta = this.fb.group({\n      numCuenta: ['',[Validators.required,Validators.pattern('^[0-9]{16}')]],\n      mesCaducidad: ['01',Validators.required],\n      anyoCaducidad: [new Date().getFullYear(),Validators.required],\n      claveCVV: ['',[Validators.required,Validators.pattern('^[0-9]{3}')]]\n    });\n  }\n\n  ngOnInit(): void {\n    this.getMultimedia();\n    this.getReserva();\n    this.cargarAnyos();\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this._usuarioSesion.comprobarSesion();\n    } else {\n      this.router.navigate(['']);\n    }\n    \n  }\n\n  /**\n   * Crea una lista con los siguientes 6 años para la verificación de la tarjeta de crédito\n   */\n  cargarAnyos(){\n    let year = new Date().getFullYear();\n    for (let i = 0; i < 6; i++) {\n      this.listaAnyos.push(year+i);\n    }\n  }\n\n  /**\n   * Obtiene el JSON multimedia de assets\n   */\n  getMultimedia(){\n    this._peticionesServicio.getMultimediaJSON().subscribe(data=>{\n      this.multimediaInfo = data;\n    });\n  }\n\n  /**\n   * Pide la información de una reserva para generar la página (butacas disponibles, nombre película, hora, ..)\n   */\n  getReserva() {\n    let idProyeccion = sessionStorage.getItem('compra');\n    this._peticionesServicio.getReservaJSON(idProyeccion).subscribe(data=>{\n      this.reserva = data;\n    });\n  }\n\n  /**\n   * Asegura que las butacas reservadas sean las correctas\n   * @param libres \n   */\n  butacas(libres) {\n    this.entradas = parseInt((<HTMLInputElement>document.getElementById('butacaReservada')).value);\n    if (this.entradas > libres) {\n      (<HTMLInputElement>document.getElementById('butacaReservada')).value = libres;\n    }\n    if (this.entradas <= 0) {\n      (<HTMLInputElement>document.getElementById('butacaReservada')).value = \"1\";\n    }\n  }\n\n  /**\n   * Según las entradas seleccionadas modifica el precio a mostrar.\n   * @param precio \n   */\n  mostrar(precio,idTarifa){\n    this.total = parseInt((<HTMLInputElement>document.getElementById('butacaReservada')).value); //parse en TypeScript el de JS no funciona para value\n    if (idTarifa == 3 && this.total%2!=0) { // Controla los 2x1 de los jueves en caso de comprar una entrada impar\n      this.total *= parseInt(precio);\n      this.total += parseInt(precio);\n    } else {\n      this.total *= parseInt(precio);\n    }\n\n  }\n\n  /**\n   * Formulario para el pago por paypal si todo va bien muestra una ventana simulando el pago y la conexión a Paypal\n   */\n  procesoDePagoPaypal(){\n    if (this.fpaypal.invalid) {\n      this.fpaypal.reset();\n      if (this.fpaypal.get('usuarioPagoPP').hasError('required') || this.fpaypal.get('usuarioPagoPP').hasError('pattern')){\n        document.getElementById('usuarioPagoPP').classList.add('is-invalid');\n        if (this.fpaypal.get('usuarioPagoPP').hasError('pattern')) {\n          document.getElementById('usuarioPagoPP').nextSibling.textContent='Formato no válido';\n        }\n      }\n      if (this.fpaypal.get('clavePP').hasError('required')){\n        document.getElementById('clavePP').classList.add('is-invalid');\n      }\n        \n    }else{\n      let butaca = (<HTMLInputElement>document.getElementById('butacaReservada')).value;\n      let data = {\n        'butaca' : butaca,\n        'idProyeccion' : sessionStorage.getItem('compra'),\n        'idUsuario' : sessionStorage.getItem('idUsuario')\n      }\n      this._peticionesServicio.resevaServer(data).subscribe(data=>{\n        let altura=380;\n        let anchura = 630;\n        let y=(window.screen.height/2)-(altura/2);\n        let x=(window.screen.width/2)-(anchura/2);\n        let w = window.open('','','width='+anchura+',height='+altura+',top='+y+',left='+x+',toolbar=no,location=no,status=no,menubar=no,scrollbars=no,directories=no,resizable=no');\n        w.document.write('Conectando con Paypal ...');\n        w.focus();\n        setTimeout(()=>{\n          w.close();\n        }, 1500);\n        \n        setTimeout(()=>{\n          this.router.navigate(['']);\n        },1600);\n      });\n    }\n  }\n\n  /**\n   * Formulario de pago con tarjeta\n   */\n  procesoDePagoTarjeta(){\n    if (this.ftarjeta.invalid) {\n      //this.ftarjeta.reset();\n      if (this.ftarjeta.get('numCuenta').hasError('required') || this.ftarjeta.get('numCuenta').hasError('pattern')) {\n        document.getElementById('numCuenta').classList.add('is-invalid');\n      } else {\n        document.getElementById('numCuenta').classList.replace('is-invalid','is-valid');\n      }\n      if (this.ftarjeta.get('mesCaducidad').hasError('required')) {\n        document.getElementById('mesCaducidad').classList.add('is-invalid');\n      } else {\n        document.getElementById('mesCaducidad').classList.replace('is-invalid','is-valid');\n      }\n      if (this.ftarjeta.get('anyoCaducidad').hasError('required')) {\n        document.getElementById('anyoCaducidad').classList.add('is-invalid');\n      } else {\n        document.getElementById('anyoCaducidad').classList.replace('is-invalid','is-valid');\n      }\n\n      if (this.ftarjeta.get('claveCVV').hasError('required') || this.ftarjeta.get('claveCVV').hasError('pattern')) {\n        document.getElementById('claveCVV').classList.add('is-invalid');\n      } else {\n        document.getElementById('claveCVV').classList.replace('is-invalid','is-valid');\n      }\n    }else{\n      let butaca = (<HTMLInputElement>document.getElementById('butacaReservada')).value; //parse en TypeScript el de JS no funciona para value\n      let data = {\n        'butaca' : butaca,\n        'idProyeccion' : sessionStorage.getItem('compra'),\n        'idUsuario' : sessionStorage.getItem('idUsuario')\n      }\n      this._peticionesServicio.resevaServer(data).subscribe(data=>{\n        let altura=380;\n        let anchura = 630;\n        let y=(window.screen.height/2)-(altura/2);\n        let x=(window.screen.width/2)-(anchura/2);\n        let w = window.open('','','width='+anchura+',height='+altura+',top='+y+',left='+x+',toolbar=no,location=no,status=no,menubar=no,scrollbars=no,directories=no,resizable=no');\n        w.document.write('Conectando con el Banco ...');\n        w.focus();\n        setTimeout(()=>{\n          w.close();\n        }, 1500);\n        \n        setTimeout(()=>{\n          this.router.navigate(['']);\n        },1600);\n      });\n    }\n  }\n\n}\n","<h1 class=\"text-center mt-5 mb-3\">Proceso de compra</h1>\n<div class=\"row col-md-6 mx-auto\">\n    <div class=\"col-md-3\">\n        <div *ngFor=\"let item of this.multimediaInfo\">\n            <div *ngIf=\"(item.titulo == this.reserva[0].titulo)\">\n                <img class=\"col-12\" src=\"{{item.portada}}\" alt=\"'Portada de '+{{item.portada}}\">\n            </div>\n        </div>\n    </div>\n    <div class=\"col-md-9\">\n        <h3 class=\"mb-2\">{{this.reserva[0].titulo}}</h3>\n        <p>Hora: {{this.reserva[0].hora.substring(0,5)}}</p>\n        <p>Sala {{this.reserva[0].idSala}}</p>\n        <div class=\"form-group mt-3\">\n            <label for=\"butacaReservada\" class=\"mt-5\">Entradas</label>\n            <input class=\"form-control col-4\" type=\"number\" name=\"butacaReservada\" id=\"butacaReservada\" max=\"{{this.reserva[0].libre}}\" min=\"1\" value=\"1\" (blur)=\"butacas(this.reserva[0].libre)\" (change)=\"mostrar(this.reserva[0].precio,this.reserva[0].idTarifa)\">\n        </div>\n        \n        <div *ngIf=\"(this.reserva[0].libre > 10)\">\n            <div class=\"alert alert-success\" role=\"alert\">\n                Disponibles <span>{{this.reserva[0].libre}}</span> entradas\n            </div>\n        </div>\n        <div *ngIf=\"(this.reserva[0].libre <= 10 && this.reserva[0].libre > 0)\">\n            <div class=\"alert alert-warning\" role=\"alert\">\n                Disponibles <span>{{this.reserva[0].libre}}</span> entradas\n            </div>\n        </div>\n        <div *ngIf=\"(this.reserva[0].libre == 0)\">\n            <div class=\"alert alert-danger\" role=\"alert\">\n                Disponibles <span>{{this.reserva[0].libre}}</span> entradas\n            </div>\n        </div>\n        \n        <p>Total Precio (IVA Incl.): <span id=\"precioTotal\">{{this.total}}</span>€</p>\n\n    </div>\n    <div class=\"accordion col-md-12 my-3\" id=\"accordionPago\">\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"headingOnePago\">\n                <h2 class=\"mb-0\">\n                    <button class=\"btn btn-link btn-block text-left\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOnePago\" aria-expanded=\"true\" aria-controls=\"collapseOnePago\">\n                        Paypal <i class=\"fa fa-paypal ml-2\" aria-hidden=\"true\"></i>\n                    </button>\n                </h2>\n            </div>\n    \n            <div id=\"collapseOnePago\" class=\"collapse show\" aria-labelledby=\"headingOnePago\" data-parent=\"#accordionPago\">\n                <div class=\"card-body\">\n                    <form [formGroup]=\"fpaypal\" (ngSubmit)=\"procesoDePagoPaypal()\" id=\"fpaypal\" novalidate>\n                        <div class=\"form-group\">\n                            <label for=\"usuarioPagoPP\">Email</label>\n                            <input type=\"email\" class=\"form-control\" formControlName=\"usuarioPagoPP\" id=\"usuarioPagoPP\">\n                            <div class=\"invalid-feedback\">Dato necesario</div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"clavePP\">Contraseña</label>\n                            <input type=\"password\" class=\"form-control\" formControlName=\"clavePP\" id=\"clavePP\">\n                            <div class=\"invalid-feedback\">Dato necesario</div>\n                        </div>\n                        <button type=\"submit\" class=\"btn btn-success\" id=\"pagoPayPal\">Proceder al pago</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n        <div class=\"card\">\n            <div class=\"card-header\" id=\"headingTwoPago\">\n                <h2 class=\"mb-0\">\n                    <button class=\"btn btn-link btn-block text-left collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwoPago\" aria-expanded=\"false\" aria-controls=\"collapseTwoPago\">\n                        Tarjeta\n                        <i class=\"fa fa-cc-visa mx-2\" aria-hidden=\"true\"></i>\n                        <i class=\"fa fa-cc-mastercard mr-2\" aria-hidden=\"true\"></i> \n                        <i class=\"fa fa-cc-amex\" aria-hidden=\"true\"></i>\n                    </button>\n                </h2>\n            </div>\n            <div id=\"collapseTwoPago\" class=\"collapse\" aria-labelledby=\"headingTwoPago\" data-parent=\"#accordionPago\">\n                <div class=\"card-body\">\n                    <form [formGroup]=\"ftarjeta\" (ngSubmit)=\"procesoDePagoTarjeta()\" id=\"ftarjeta\">\n                            <div class=\"form-group mb-2\">\n                                <label for=\"numCuenta\">Número de cuenta</label>\n                                <input type=\"text\" class=\"form-control col-8\" formControlName=\"numCuenta\" id=\"numCuenta\" maxlength=\"16\">\n                                <div class=\"invalid-feedback\">Datos incorrectos</div>\n                            </div>\n                            <div class=\"form-row mb-2\">\n                                <label for=\"mesCaducidad\" class=\"col-2 mt-2\">Caducidad</label>\n                                <select class=\"form-control col-1 mr-2\" formControlName=\"mesCaducidad\" id=\"mesCaducidad\">\n                                    <option value=\"{{item}}\" *ngFor=\"let item of this.listaMeses\">{{item}}</option>\n                                </select>\n                                <div class=\"invalid-feedback\">Datos incorrectos</div>\n                                <p class=\"text-center mt-2\">/</p>\n                                <select class=\"form-control col-1 ml-2\" formControlName=\"anyoCaducidad\" id=\"anyoCaducidad\">\n                                    <option value=\"{{item}}\" *ngFor=\"let item of this.listaAnyos\">{{item}}</option>\n                                </select>\n                                <div class=\"invalid-feedback\">Datos incorrectos</div>\n                            </div>\n                            <div class=\"form-row mb-2\">\n                                <label for=\"claveCVV\" class=\"col-2 mt-2\">CVV</label>\n                                <input type=\"text\" class=\"form-control col-1\" formControlName=\"claveCVV\" id=\"claveCVV\" maxlength=\"3\">\n                                <div class=\"invalid-feedback\">Datos incorrectos</div>\n                            </div>\n                        <button type=\"submit\" class=\"btn btn-success\" id=\"pagoTarjeta\">Proceder al pago</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    \n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from 'src/servicios/peticiones.servicio';\nimport { UsuarioSesion } from 'src/servicios/usuarioSesion';\nimport { Router } from '@angular/router';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { Usuario } from '../model/Usuario';\n\n@Component({\n  selector: 'app-registro',\n  templateUrl: './registro.component.html',\n  styleUrls: ['./registro.component.css']\n})\nexport class RegistroComponent implements OnInit {\n  public fregistro: FormGroup;\n\n  constructor(private _peticionesServicio: PeticionesServicio, private _usuarioSesion: UsuarioSesion, private router:Router, private fb: FormBuilder) { \n    this.fregistro = this.fb.group({\n      nombreRegistro: ['',Validators.required],\n      apellidosRegistro: ['',Validators.required],\n      emailRegistro: ['',[Validators.required,Validators.pattern('[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}')]],\n      passwordRegistro1: ['',Validators.required],\n      passwordRegistro2: ['',Validators.required]\n    });\n  }\n\n  ngOnInit(): void {\n\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this._usuarioSesion.comprobarSesion();\n    }\n  }\n\n\n  /**\n   * Recoge la información necesaria para registrar un nuevo cliente\n   */\n  registraUsuario(){\n  \n    if(this.fregistro.get('nombreRegistro').hasError('required')){\n      document.getElementById('nombreRegistro').classList.add('is-invalid');\n    }\n    if(this.fregistro.get('apellidosRegistro').hasError('required')){\n      document.getElementById('apellidosRegistro').classList.add('is-invalid');\n    }\n    if(this.fregistro.get('emailRegistro').hasError('required') || this.fregistro.get('emailRegistro').hasError('pattern')){\n      document.getElementById('emailRegistro').classList.add('is-invalid');\n      if(this.fregistro.get('emailRegistro').hasError('pattern')){\n        document.getElementById('emailRegistro').nextSibling.textContent='Formato no válido';\n      }\n    }\n    if(this.fregistro.get('passwordRegistro1').hasError('required')){\n      document.getElementById('passwordRegistro1').classList.add('is-invalid');\n    }\n    if(this.fregistro.get('passwordRegistro2').hasError('required') || this.fregistro.value.passwordRegistro2 != this.fregistro.value.passwordRegistro1){\n      document.getElementById('passwordRegistro2').classList.add('is-invalid');\n      if (this.fregistro.value.passwordRegistro2 != this.fregistro.value.passwordRegistro1){\n        document.getElementById('passwordRegistro2').nextSibling.textContent='Las contraseñas no coinciden';\n      }\n    }    \n    \n    if (!this.fregistro.invalid) {\n      let nuevoUsuario = new Usuario(0,this.fregistro.value.nombreRegistro,this.fregistro.value.apellidosRegistro,this.fregistro.value.emailRegistro.toLowerCase(),this.fregistro.value.passwordRegistro1,false);\n\n      this._peticionesServicio.addUsuarioServer(nuevoUsuario).subscribe(data=>{\n        sessionStorage.clear();\n        this._peticionesServicio.getUsuariosJSON(this.fregistro.value.passwordRegistro1,this.fregistro.value.emailRegistro).subscribe(data=>{\n          if (data.token != \"No\") {\n            sessionStorage.setItem('token',data.token);\n            sessionStorage.setItem('idUsuario',data.idUsuario);\n            sessionStorage.setItem('username',data.nombre);\n            \n            this.router.navigate(['']);\n            }\n    \n        });\n  \n      });\n    }  \n  }\n\n}\n","<h1 class=\"text-center my-5\">Registro</h1>\n\n<form [formGroup]=\"fregistro\" (ngSubmit)=\"registraUsuario()\" id=\"fregistro\" class=\"mx-auto col-md-4\">\n    <div class=\"form-row\">\n        <div class=\"form-group md-form col-5\">\n            <label for=\"nombreRegistro\">Nombre</label>\n            <input type=\"text\" class=\"form-control\" formControlName=\"nombreRegistro\" id=\"nombreRegistro\" maxlength=\"50\">\n            <div class=\"invalid-feedback\">Rellene el campo</div>\n        </div>\n        <div class=\"form-group col-7\">\n            <label for=\"apellidosRegistro\">Apellidos</label>\n            <input type=\"text\" class=\"form-control\" formControlName=\"apellidosRegistro\" id=\"apellidosRegistro\" maxlength=\"50\">\n            <div class=\"invalid-feedback\">Rellene el campo</div>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <label for=\"emailRegistro\">Email</label>\n        <input type=\"email\" class=\"form-control\" formControlName=\"emailRegistro\" autocomplete=\"username\" id=\"emailRegistro\">\n        <div class=\"invalid-feedback\">Rellene el campo</div>\n    </div>\n    <div class=\"form-group\">\n        <label for=\"passwordRegistro1\">Contraseña</label>\n        <input type=\"password\" class=\"form-control\" formControlName=\"passwordRegistro1\" autocomplete=\"new-password\" id=\"passwordRegistro1\">\n        <div class=\"invalid-feedback\">Rellene el campo</div>\n    </div>\n    <div class=\"form-group\">\n        <label for=\"passwordRegistro2\">Verifica Contraseña</label>\n        <input type=\"password\" class=\"form-control\" formControlName=\"passwordRegistro2\" autocomplete=\"new-password\" id=\"passwordRegistro2\">\n        <div class=\"invalid-feedback\">Rellene el campo</div>\n    </div>\n\n    <button type=\"submit\" class=\"btn btn-primary\">Registrarse</button>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from '../../servicios/peticiones.servicio';\nimport { UsuarioSesion } from '../../servicios/usuarioSesion';\n\n@Component({\n  selector: 'app-tarifas',\n  templateUrl: './tarifas.component.html',\n  styleUrls: ['./tarifas.component.css']\n})\nexport class TarifasComponent implements OnInit {\n  public datos:Array<any> = [];\n\n  constructor(private _peticionesServicio: PeticionesServicio, private _usuarioSesion: UsuarioSesion) { }\n\n  ngOnInit(): void {\n    this.getTarifas();\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this._usuarioSesion.comprobarSesion();\n    }\n    \n  }\n\n  /**\n   * Pide todas las tarifas y las carga en una lista \n   */\n  getTarifas(){ \n    this._peticionesServicio.getTarifasJSON().subscribe(data=>{\n      this.datos = data;\n    });  \n  }\n}\n","<div class=\"content\">\n    <h1 class=\"text-center my-5\">Tarifas</h1>\n    <div class=\"row\">\n        <div class=\"col-md-4\">\n            <div id=\"accordionTarifas\" class=\"col-12 ml-md-5 mt-2 mb-5\">\n                <div *ngFor=\"let item of datos\">\n                    <div class=\"card\">\n                        <div class=\"card-header bg-dark\" id=\"headerTarifa{{item['idTarifa']}}\">\n                            <h5 class=\"mb-0\">\n                                <div *ngIf=\"(item['idTarifa'] == 1);else collapsed\">\n                                    <button class=\"btn btn-link text-white font-weight-bold\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse'+item['idTarifa']\" aria-expanded=\"true\" [attr.aria-controls]=\"'collapse'+item['idTarifa']\">\n                                        {{item['nombre']}}\n                                    </button>\n                                </div>\n                                <ng-template #collapsed>\n                                    <button class=\"btn btn-link collapsed text-white font-weight-bold\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse'+item['idTarifa']\" aria-expanded=\"false\" [attr.aria-controls]=\"'collapse'+item['idTarifa']\">\n                                        {{item['nombre']}}\n                                    </button>\n                                </ng-template>\n                        \n                            </h5>\n                        </div>\n\n                        <div *ngIf=\"(item['idTarifa'] == 1),else noshow\">\n                            <div id=\"collapse{{item['idTarifa']}}\" class=\"collapse show\" [attr.aria-labelledby]=\"'headerTarifa'+item['idTarifa']\" data-parent=\"#accordionTarifas\">\n                                <div class=\"card-body\">\n                                    {{item['descripcion']}}. {{item['precio']}}€\n                                </div>\n                            </div>\n                        </div>\n                        <ng-template #noshow>\n                            <div id=\"collapse{{item['idTarifa']}}\" class=\"collapse\" [attr.aria-labelledby]=\"'headerTarifa'+item['idTarifa']\" data-parent=\"#accordionTarifas\">\n                                <div class=\"card-body\">\n                                    {{item['descripcion']}}. {{item['precio']}}€\n                                </div>\n                            </div>\n                        </ng-template>\n            \n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-1\"></div>\n        <div class=\"col-md-6\">\n            <div id=\"carouselTarifas\" class=\"carousel slide col-12\" data-ride=\"carousel\">\n                <ol class=\"carousel-indicators\">\n                    <li data-target=\"#carouselTarifas\" data-slide-to=\"0\" class=\"active\"></li>\n                    <li data-target=\"#carouselTarifas\" data-slide-to=\"1\"></li>\n                    <li data-target=\"#carouselTarifas\" data-slide-to=\"2\"></li>\n                </ol>\n                <div class=\"carousel-inner\">\n                    <div class=\"carousel-item active\">\n                        <img src=\"https://prod-ripcut-delivery.disney-plus.net/v1/variant/disney/6B8D014C4D6BEAE3FB5911345CD9E0118FCBF8CFB3CA36E3AC083B9012A75E8D/scale?aspectRatio=1.78&format=jpeg\" class=\"d-block w-100\" alt=\"Onward\">\n                        <div class=\"carousel-caption d-none d-md-block\">\n                            <h5 class=\"font-weight-bold\">Onward</h5>\n                            <p class=\"font-weight-bold\">No te pierdas el último estreno de Disney</p>\n                        </div>\n                    </div>\n                    <div class=\"carousel-item\">\n                        <img src=\"https://www.ecestaticos.com/image/clipping/a930589160fdabec8daf77487fb8b0d3/por-que-se-comen-palomitas-en-el-cine-en-vez-de-otros-039-snacks-039.jpg\" class=\"d-block w-100\" alt=\"Snack Bar\">\n                        <div class=\"carousel-caption d-none d-md-block\">\n                            <h5 class=\"font-weight-bold\">Snack-Bar</h5>\n                            <p class=\"font-weight-bold\">Disfruta tu pélicula con un refresco y unas palomitas</p>\n                        </div>\n                    </div>\n                    <div class=\"carousel-item\">\n                        <img src=\"https://inmendoza.com/wp-content/uploads/2020/01/dolittle.jpg\" class=\"d-block w-100\" alt=\"Doctor Dolittle\">\n                        <div class=\"carousel-caption d-none d-md-block\">\n                            <h5 class=\"font-weight-bold\">Las aventuras del Doctor Dolittle</h5>\n                            <p class=\"font-weight-bold\">Las personas no son lo suyo</p>\n                        </div>\n                    </div>\n                </div>\n                <a class=\"carousel-control-prev\" href=\"#carouselTarifas\" role=\"button\" data-slide=\"prev\">\n                    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                    <span class=\"sr-only\">Previous</span>\n                </a>\n                <a class=\"carousel-control-next\" href=\"#carouselTarifas\" role=\"button\" data-slide=\"next\">\n                    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                    <span class=\"sr-only\">Next</span>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { PeticionesServicio } from '../../servicios/peticiones.servicio';\nimport { UsuarioSesion } from '../../servicios/usuarioSesion';\nimport { NgbRatingConfig } from '@ng-bootstrap/ng-bootstrap';\nimport { StarRatingComponent } from 'ng-starrating';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})\nexport class UserComponent implements OnInit {\n  public currentRate:number = 5;\n  public idUsuario:string = sessionStorage.getItem(\"idUsuario\");\n  public listaReservasValoradas:Array<any> = []; \n  public listaReservasNoValoradas:Array<any> = [];\n  public listaPeliculasNoValoradas:Array<any> = [];\n  public multimediaInfo:Array<any> = [];\n\n  constructor(private _peticionesServicio: PeticionesServicio, private _usuarioSesion: UsuarioSesion, private router:Router) { \n\n  }\n\n  ngOnInit(): void {\n    if (sessionStorage.getItem('token') != \"No\" && sessionStorage.getItem('token') != null) {\n      this.getReservasValoradas();\n      this.getReservasNoValoradas();\n      this.getMultimedia();\n      this._usuarioSesion.comprobarSesion();\n    } else {\n      this.router.navigate(['']);\n    }\n  }\n\n\n  /**\n   * Pide la información del multimedia.json de assets\n   */\n  getMultimedia(){\n    this._peticionesServicio.getMultimediaJSON().subscribe(data=>{\n      this.multimediaInfo = data;\n    });\n  }\n\n  /**\n   * Pide las reservas valoradas por el usuario\n   */\n  getReservasValoradas(){\n    this._peticionesServicio.getReservasValoradasJSON(this.idUsuario).subscribe(data=>{\n      this.listaReservasValoradas = data;\n    });\n  }\n\n  /**\n   * Pide las reservas no valoradas por el usuario\n   */\n  getReservasNoValoradas(){\n    this._peticionesServicio.getReservasNoValoradasJSON(this.idUsuario).subscribe(data=>{\n      this.listaReservasNoValoradas = data;\n    });\n  }\n\n  /**\n   * Envía una valoración a la base de datos\n   * @param titulo \n   */\n  enviaValoracion(titulo){\n    let data = {\n      'titulo' : titulo,\n      'valoracion' : this.currentRate,\n      'idUsuario' : this.idUsuario\n    }\n    this._peticionesServicio.enviaValoracionServer(data).subscribe(data=>{});\n    this.router.navigate(['user']);\n  }\n  \n\n}\n","<h1 class=\"text-center my-5\">Tus Películas</h1>\n<div *ngFor=\"let item of listaReservasNoValoradas\">\n    <div class=\"card mb-3 mx-auto\" style=\"max-width: 800px;\">\n        <div class=\"row no-gutters\">\n            <div class=\"col-md-4\">\n                <div *ngFor=\"let item2 of multimediaInfo\">\n                    <div *ngIf=\"item.titulo == item2.titulo\">\n                        <img src=\"{{item2.portada}}\" class=\"card-img\" alt=\"Portada de {{item2.titulo}}\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-8\">\n                <div class=\"card-body\">\n                    <h5 class=\"card-title\">{{item.titulo}}</h5>\n                    <div class=\"card-text\">\n                        <ngb-rating [(rate)]=\"currentRate\">\n                            <ng-template let-fill=\"fill\" let-index=\"index\">\n                            <span class=\"star\" [class.filled]=\"fill === 100\" [class.bad]=\"index < 4\">&#9733;</span>\n                            </ng-template>\n                        </ngb-rating>\n                        <hr>\n                        <pre>Puntuación: <b>{{currentRate}}</b></pre>\n                    </div>\n                    <div class=\"card-text\">\n                        <button class=\"btn btn-success\" (click)=\"enviaValoracion(item.titulo)\">Puntuar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div *ngFor=\"let item of listaReservasValoradas\">\n    <div class=\"card mb-3 mx-auto\" style=\"max-width: 800px;\">\n        <div class=\"row no-gutters\">\n            <div class=\"col-md-4\">\n                <div *ngFor=\"let item2 of multimediaInfo\">\n                    <div *ngIf=\"item.titulo == item2.titulo\">\n                        <img src=\"{{item2.portada}}\" class=\"card-img\" alt=\"Portada de {{item2.titulo}}\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-8\">\n                <div class=\"card-body\">\n                    <h5 class=\"card-title\">{{item.titulo}}</h5>\n                    <div class=\"card-text\">\n                        <div class=\"rating\">\n                            <star-rating value=\"{{item.valoracion}}\" totalstars=\"10\" checkedcolor=\"black\" uncheckedcolor=\"lightgray\" size=\"24px\" readonly=\"false\"></star-rating>\n                        </div>\n                        <hr>\n                        <pre>Puntuación: <b>{{item['valoracion']}}</b></pre>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from \"rxjs\";\n\n@Injectable({providedIn: 'root'})\n\nexport class PeticionesServicio {\n\n    public url:string;\n    public urlMultimedia:string;\n\n    constructor(private http: HttpClient) { \n        this.url = \"http://localhost:9000\";\n        this.urlMultimedia = \"./assets/multimedia.json\";\n\n    }\n\n    /**\n     * Hace una petición para comprobar que el usuario está registrado\n     * @param password \n     * @param username\n     * @returns Devuelve si está registrado o no  \n     */\n    getUsuariosJSON(password,username): Observable<any> {\n        let data = {\n            'username' : username,\n            'password' : password\n        };\n        return this.http.post(this.url+\"/usuarios\", data);\n    }\n\n    /**\n     * Petición de tarifas al servidor\n     * @returns Devuelve las tarifas\n     */\n    getTarifasJSON(): Observable<any> {\n        return this.http.get(this.url+\"/tarifas\");\n    }\n\n    /**\n     * Petición de la Cartelera al servidor\n     * @returns Devuelve la cartelera\n     */\n    getCarteleraJSON(): Observable<any> {\n        return this.http.get(this.url+\"/cartelera\");\n    }\n\n    /**\n     * Petición de las películas al servidor\n     * @returns Devuelve las películas\n     */\n    getPeliculaJSON(): Observable<any> {\n        return this.http.get(this.url+\"/cartelera/pelicula\");\n    }\n\n    /**\n     * Petición de las valoraciones\n     * @returns Devuelve las valoraciones por película ya calculada\n     */\n    getValoracionJSON(): Observable<any> {\n        return this.http.get(this.url+\"/valoracion\");\n    }\n\n    /**\n     * Petición de las Salas\n     * @returns Devuelve las salas\n     */\n    getSalasJSON(): Observable<any> {\n        return this.http.get(this.url+\"/sesion/sala\");\n    }\n\n    /**\n     * Envía al servidor los datos para el registro de un usuario nuevo\n     * @param nuevoUsuario \n     */\n    addUsuarioServer(nuevoUsuario): Observable<any> {\n        return this.http.post(this.url+\"/usuarios/registro\",nuevoUsuario);\n    }\n\n    //Peticiones de la parte de Administración\n    //Peliculas\n    /**\n     * Envía información al servidor para añadir una película a la BD\n     * @param data \n     */\n    addPeliculaServer(data): Observable<any> {\n        return this.http.post(this.url+\"/cartelera/add\",data);\n    }\n\n    /**\n     * Envía información al servidor para modificar una película de la BD\n     * @param data \n     */\n    modificaPeliculaServer(data): Observable<any> {\n        return this.http.post(this.url+\"/cartelera/modifica\",data);\n    }\n\n    /**\n     * Envía información al servidor para borrar una película de la BD\n     * @param titulo \n     */\n    deletePeliculaServer(titulo): Observable<any>{\n        let pelicula = {\n            'titulo' : titulo\n        };\n\n        return this.http.post(this.url+\"/cartelera/delete\",pelicula);\n    }\n\n    //Sesiones - Proyección\n\n    /**\n     * Pide al servidor todas las sesiones\n     * @returns devuelve un JSON con las sesiones\n     */\n    getSesionesJSON():Observable<any>{\n        return this.http.get(this.url+\"/sesion\");\n    }\n\n    /**\n     * Envía información al servidor para añadir una sesión en la BD\n     * @param data \n     */\n    addSesionServer(data):Observable<any>{\n        return this.http.post(this.url+\"/sesion/add\",data);\n    }\n\n    /**\n     * Envía información al servidor para modificar una sesión de la BD\n     * @param data \n     */\n    modificaSesionServer(data):Observable<any>{\n        return this.http.post(this.url+\"/sesion/modifica\",data);\n    }\n\n    /**\n     * Envía información al servidor para borrar una sesión de la BD\n     * @param borrarSesion \n     */\n    deleteSesionServer(borrarSesion):Observable<any>{\n        let data = {\n            'sesion' : borrarSesion\n        };\n        return this.http.post(this.url+\"/sesion/delete\",data);\n    }\n\n    // Tarifas\n\n    /**\n     * Envía información al servidor para añadir una tarifa en la BD\n     * @param data \n     */\n    addTarifaServer(data):Observable<any>{\n        return this.http.post(this.url+\"/tarifas/add\",data);\n    }\n\n    /**\n     * Envía información al servidor para modificar una tarifa de la BD\n     * @param data \n     */\n    modificaTarifaServer(data):Observable<any>{\n        return this.http.post(this.url+\"/tarifas/modifica\",data);\n    }\n\n    /**\n     * Envía información al servidor para borrar una tarifa de la BD\n     * @param tarifaBorrada \n     */\n    deleteTarifaServer(tarifaBorrada):Observable<any>{\n        let data = {\n            'idTarifa' : tarifaBorrada\n        };\n        return this.http.post(this.url+\"/tarifas/delete\",data);\n    }\n\n    // Peticiones de la parte de usuario registrado\n\n    /**\n     * Petición al servidor de las películas valoradas\n     * @param usuario \n     * @returns Devuelve un JSON con las películas valoradas\n     */\n    getReservasValoradasJSON(usuario):Observable<any>{\n        return this.http.get(this.url+\"/reserva/valorada/:\"+usuario);\n    }\n\n    /**\n     * Petición al servidor de las películas no valoradas\n     * @param usuario \n     * @returns Devuelve un JSON con las películas no valoradas\n     */\n    getReservasNoValoradasJSON(usuario):Observable<any>{\n        return this.http.get(this.url+\"/reserva/novalorada/:\"+usuario);\n    }\n\n    /**\n     * Envía al servidor la información necesaria para añadir una valoración en la BD\n     * @param data \n     */\n    enviaValoracionServer(data):Observable<any>{\n        return this.http.post(this.url+\"/reserva/valoracion\",data);\n    }\n\n\n    // Peticiones al JSON multimedia.json\n\n    /**\n     * Obtiene la información contenida en el JSON de la carpeta assets\n     * @returns Devueve el JSON con la información\n     */\n    getMultimediaJSON():Observable<any>{\n        return this.http.get(this.urlMultimedia);\n    }\n\n    // Parte de pagos y reservas\n    /**\n     * Pide al servidor la info necesaria para realizar una reserva y generar la página de pago\n     * @param idProyeccion \n     * @returns Devuelve un JSON con la información\n     */\n    getReservaJSON(idProyeccion):Observable<any>{\n        let data = {\n            'idProyeccion' : idProyeccion\n        }\n        return this.http.post(this.url+\"/reserva\",data);\n    }\n\n    /**\n     * Envía la información necesaria al servidor para almacenar una reserva\n     * @param data \n     */\n    resevaServer(data):Observable<any>{\n        return this.http.post(this.url+\"/reserva/reservado\",data);\n    }\n}","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n\n\n@Injectable({providedIn: 'root'})\n\nexport class UsuarioSesion {\n    constructor(private router:Router) { \n\n    }\n\n    /**\n     * Comprueba si se ha iniciado sesión con un usuario\n     */\n    comprobarSesion(){\n        if(sessionStorage.getItem('token')!=null){\n            document.getElementById(\"usuarioSesion\").style.display=\"none\";\n            document.getElementById(\"logueado\").style.display=\"none\";\n            document.getElementById(\"usuarioEnlaceHome2\").textContent= \"Hola \"+sessionStorage.getItem('username');\n            document.getElementById(\"usuarioEnlaceHome2\").style.display=\"inline\";\n            document.getElementById(\"deslogueado\").style.display=\"inline\";\n        }\n        if(sessionStorage.getItem('role')==\"true\"){\n            document.getElementById(\"usuarioEnlaceHome2\").setAttribute('href','/auth') ;\n        }\n    }\n\n    /**\n     * Cierra la sesión del usuario cuando se hace click en el botón Log out\n     */\n    cierraSesion(){\n        setInterval(()=>{\n            sessionStorage.clear();\n            this.router.navigate(['']);\n        })\n        \n    }\n\n}"]}